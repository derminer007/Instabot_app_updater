const {app,BrowserWindow,ipcMain,dialog,shell,powerSaveBlocker}=require('electron'),path=require('path'),puppeteer=require('puppeteer'),fs=require('fs')['promises'],{convertArrayToCSV}=require('convert-array-to-csv'),{replace}=require('formik'),{spawn}=require('child_process'),sqlite3=require('sqlite3')['verbose'](),XLSX=require('xlsx'),fs_no_promise=require('fs');async function extractFirstName(_0x22789c,_0x127879){try{const _0x341308=await fetch('https://extractfirstname-dnfofjyvnq-uc.a.run.app',{'method':'POST','headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+_0x127879},'body':JSON['stringify']({'clearname':_0x22789c})});if(!_0x341308['ok']){const _0x519789=await _0x341308['text']();throw new Error(_0x341308['status']+':\x20'+_0x519789);}const _0x5263b8=await _0x341308['json']();return _0x5263b8;}catch(_0x57e108){console['error']('Error\x20in\x20extractFirstName:',_0x57e108);throw _0x57e108;}}const ANZAHL_FOLLOWER_BUTTON='section.xc3tme8.x1xdureb.x18wylqe.x13vxnyz.xvxrpd7\x20>\x20ul\x20>\x20li:nth-child(2)\x20>\x20div\x20>\x20a\x20>\x20span\x20>\x20span\x20>\x20span',FOLLOWER_BUTTON='div.x9f619.x1n2onr6.x1ja2u2z\x20>\x20div\x20>\x20div\x20>\x20div.x78zum5.x1ja2u2z\x20>\x20div:nth-child(2)\x20>\x20div\x20>\x20div.x1gryazu\x20>\x20section\x20>\x20main\x20>\x20div\x20>\x20header\x20>\x20section.xc3tme8\x20>\x20ul\x20>\x20li:nth-child(2)\x20>\x20div\x20>\x20a',FOLLOWER_FENSTER='div:has(>\x20div[style=\x22height:\x20auto;\x20overflow:\x20hidden\x20auto;\x22])',FOLLOWER_USERNAME_SPALTEN_ARRAY='div.x9f619.x1ja2u2z.x78zum5.x1n2onr6.x1iyjqo2.xs83m0k.xeuugli.x1qughib.x6s0dn4.x1a02dak.x1q0g3np.xdl72j9\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20span\x20>\x20div\x20>\x20a\x20>\x20div\x20>\x20div\x20>\x20span',FOLLOWER_CLEARNAME_SPALTEN_ARRAY='div.x9f619.x1ja2u2z.x78zum5.x1n2onr6.x1iyjqo2.xs83m0k.xeuugli.x1qughib.x6s0dn4.x1a02dak.x1q0g3np.xdl72j9\x20>\x20div\x20>\x20div\x20>\x20span\x20>\x20span',LIKERS_USERNAME_SPALTEN_ARRAY='div.x9f619.x1ja2u2z.x78zum5.x1n2onr6.x1iyjqo2.xs83m0k.xeuugli.x1qughib.x6s0dn4.x1a02dak.x1q0g3np.xdl72j9\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20span\x20>\x20div\x20>\x20a\x20>\x20div\x20>\x20div\x20>\x20span',LIKERS_CLEARNAME_SPALTEN_ARRAY='div.x9f619.x1ja2u2z.x78zum5.x1n2onr6.x1iyjqo2.xs83m0k.xeuugli.x1qughib.x6s0dn4.x1a02dak.x1q0g3np.xdl72j9\x20>\x20div\x20>\x20div\x20>\x20span\x20>\x20span',COM_ANZAHL_LIKERS_SPAN='[style=\x22line-height:\x2018px;\x22]',COM_COMMENTS_BOX_BODY_DIV='div.x5yr21d.xw2csxc.x1odjw0f.x1n2onr6',COM_REPLY_BUTTON_SPAN='//span[contains(.,\x20\x27View\x20all\x27)\x20and\x20contains(.,\x20\x27replies\x27)]',COM_COMMENTS_USERNAME_ARRAY_SPAN='span._ap3a._aaco._aacw._aacx._aad7._aade',K_DIRECT_MSG_BUTTON=['//div[@role=\x27button\x27\x20and\x20normalize-space(text())=\x27Message\x27]','div.x9f619.xjbqb8w.x78zum5.x15mokao.x1ga7v0g.x16uus16.xbiv7yw.x1n2onr6.x6ikm8r.x10wlt62.x1iyjqo2.x2lwn1j.xeuugli.xdt5ytf.xqjyukv.x1qjc9v5.x1oa3qoh.x1nhvcw1\x20>\x20div','div.x9f619.xjbqb8w.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.x1n2onr6.x6ikm8r.x10wlt62.x1iyjqo2.x2lwn1j.xeuugli.xdt5ytf.xqjyukv.x1qjc9v5.x1oa3qoh.x1nhvcw1\x20>\x20div'],K_OPTIONS_BUTTON=['[aria-label=\x22Options\x22]','section.x1xdureb.x1agbcgv.xieb3on.x1lhsz42.xr1yuqi.x6ikm8r.x10wlt62.x1jfgfrl\x20>\x20div\x20>\x20div\x20>\x20div:nth-child(3)\x20>\x20div'],K_INNER_MSG_BUTTON='button:nth-child(6)',K_CHAT_INPUT_FIELD=['[aria-label=\x22Message\x22]','div.xzsf02u.x1a2a7pz.x1n2onr6.x14wi4xw.x1iyjqo2.x1gh3ibb.xisnujt.xeuugli.x1odjw0f'],K_SEND_MSG_BUTTON=['//div[@role=\x27button\x27\x20and\x20normalize-space(text())=\x27Send\x27]','div.x1i10hfl.xjqpnuy.xa49m3k.xqeqjp1.x2hbi6w.xdl72j9.x2lah0s.xe8uvvx.xdj266r.x1mh8g0r.x2lwn1j.xeuugli.x1hl2dhg.xggy1nq.x1ja2u2z.x1t137rt.x1q0g3np.x1a2a7pz.x6s0dn4.xjyslct.x1ejq31n.xd10rxx.x1sy0etr.x17r0tee.x9f619.x1ypdohk.x1f6kntn.xl56j7k.x17ydfre.x2b8uid.xlyipyv.x87ps6o.x14atkfc.x5c86q.x18br7mf.x1i0vuye.xl0gqc1.xr5sc7.xlal1re.x14jxsvd.xt0b8zv.xjbqb8w.xm3z3ea.x1x8b98j.x131883w.x16mih1h.x972fbf.xcfux6l.x1qhh985.xm0m39n.xt0psk2.xt7dq6l.xexx8yu.x4uap5.x18d9i69.xkhd6sd.x1n2onr6.x1n5bzlp.x7fd4wk.x1sfzahb.xfs2ol5','div.x1i10hfl.xjqpnuy.xa49m3k.xqeqjp1.x2hbi6w.xdl72j9.x2lah0s.xe8uvvx.xdj266r.x1mh8g0r.x2lwn1j.xeuugli.x1hl2dhg.xggy1nq.x1ja2u2z.x1t137rt.x1q0g3np.x1lku1pv.x1a2a7pz.x6s0dn4.xjyslct.x1ejq31n.xd10rxx.x1sy0etr.x17r0tee.x9f619.x1ypdohk.x1f6kntn.xwhw2v2.xl56j7k.x17ydfre.x2b8uid.xlyipyv.x87ps6o.x14atkfc.xcdnw81.x1i0vuye.xjbqb8w.xm3z3ea.x1x8b98j.x131883w.x16mih1h.x972fbf.xcfux6l.x1qhh985.xm0m39n.xt0psk2.xt7dq6l.xexx8yu.x4uap5.x18d9i69.xkhd6sd.x1n2onr6.x1n5bzlp.x173jzuc.x1yc6y37.x7fd4wk.x1sfzahb.xfs2ol5'],K_ALREADY_CHATTED='[aria-label=\x22Double\x20tap\x20to\x20like\x22]',K_MSG_DISABLED_LABEL='div.x6s0dn4.x1yvgwvq.x1dqoszc.x1ixjvfu.xhk4uv.x13fuv20.xu3j5b3.x1q0q8m5.x26u7qi.x178xt8z.xm81vs4.xso031l.xy80clv.x78zum5.x1gg8mnh\x20>\x20div\x20>\x20span',IG_NAME_SPAN_PART1='a:nth-child(',IG_USERNAME_CLEANAME_PART2_BOX=')\x20>\x20div.x9f619.xjbqb8w.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.xxbr6pl.xbbxn1n.xwib8y2.x1y1aw1k.x1uhb9sk.x1plvlek.xryxfnj.x1c4vz4f.x2lah0s.xdt5ytf.xqjyukv.x1qjc9v5.x1oa3qoh.x1nhvcw1\x20>\x20div\x20>\x20div\x20>\x20div.x9f619.x1ja2u2z.x78zum5.x1n2onr6.x1iyjqo2.xs83m0k.xeuugli.x1qughib.x6s0dn4.x1a02dak.x1q0g3np.xdl72j9',IG_USERNAME_SPAN_PART2=IG_USERNAME_CLEANAME_PART2_BOX+'\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20span',IG_CLEARNAME_SPAN_PART2=IG_USERNAME_CLEANAME_PART2_BOX+'\x20>\x20div\x20>\x20div\x20>\x20span\x20>\x20span',IG_SEARCH_INPUT='div.x9f619.xjbqb8w.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.x1d52u69.xktsk01.x1n2onr6.x1plvlek.xryxfnj.x1c4vz4f.x2lah0s.xdt5ytf.xqjyukv.x1qjc9v5.x1oa3qoh.x1nhvcw1\x20>\x20div\x20>\x20div\x20>\x20input',IG_SEARCH_BUTTON='div.x9f619.xvbhtw8.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.x1uhb9sk.x1plvlek.xryxfnj.x1c4vz4f.x2lah0s.x1q0g3np.xqjyukv.x1qjc9v5.x1oa3qoh.x1qughib\x20>\x20div.x9f619.xjbqb8w.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.xixxii4.x13vifvy.x1plvlek.xryxfnj.x1c4vz4f.x2lah0s.xdt5ytf.xqjyukv.x1qjc9v5.x1oa3qoh.x1nhvcw1.x1dr59a3.xeq5yr9.x1n327nk\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20div.x1iyjqo2.xh8yej3\x20>\x20div:nth-child(2)\x20>\x20span\x20>\x20div';function createWindow(){const _0x3c72b1=new BrowserWindow({'width':0x320,'height':0x258,'title':'Odano','webPreferences':{'preload':path['join'](__dirname,'preload.js'),'contextIsolation':!![],'enableRemoteModule':![]}});console['log'](__dirname),_0x3c72b1['loadFile'](path['join'](__dirname,'index.html')),process['env']['NODE_ENV']==='development'&&_0x3c72b1['webContents']['openDevTools']();}app['whenReady']()['then'](createWindow),app['on']('window-all-closed',()=>{app['quit']();}),app['on']('activate',()=>{BrowserWindow['getAllWindows']()['length']===0x0&&createWindow();});function createChildWindow(_0x25d969){var _0x44b13e=![];BrowserWindow['getAllWindows']()['forEach'](function(_0x4d6921){console['log']('window\x20id:'+_0x4d6921['id']),_0x4d6921['id']>0x1&&(_0x44b13e=!![]);}),console['log']('child\x20opened\x20='+_0x44b13e);if(!_0x44b13e){const _0x54f52c=new BrowserWindow({'width':0x320,'height':0x258,'title':'Odano','webPreferences':{'nodeIntegration':!![],'enableRemoteModule':!![],'contextBridge':!![],'nativeWindowOpen':!![],'nodeIntegrationInSubFrames':!![],'parent':win,'preload':path['join'](__dirname,'preload.js')}});_0x54f52c['loadFile'](_0x25d969['url']);}else console['log']('child\x20window\x20opened\x20already');}ipcMain['on']('restart-app',()=>{process['platform']==='darwin'&&(console['log']('Neustart\x20der\x20Anwendung'),app['relaunch'](),app['exit'](0x0));});let powerSaveBlockerId;app['on']('ready',()=>{powerSaveBlockerId=powerSaveBlocker['start']('prevent-app-suspension'),console['log']('Power\x20Save\x20Blocker\x20gestartet\x20mit\x20ID:\x20'+powerSaveBlockerId);}),app['on']('before-quit',()=>{powerSaveBlocker['isStarted'](powerSaveBlockerId)&&(powerSaveBlocker['stop'](powerSaveBlockerId),console['log']('Power\x20Save\x20Blocker\x20gestoppt.'));if(process['defaultApp']){console['log']('Testmodus\x20–\x20Update\x20wird\x20übersprungen');return;}customUpdateMacApp();});function initializeDatabase(){const _0x15bd13=require('fs'),_0x245923=path['join'](app['getPath']('userData'),'data'),_0x406267=['campaign.db','crm.db','igaccounts.db'],_0x240a22=[];try{_0x15bd13['mkdirSync'](_0x245923,{'recursive':!![]});for(const _0x1b37a3 of _0x406267){const _0x17ded5=path['join'](process['resourcesPath'],'app','build','data',_0x1b37a3),_0x4ef472=path['join'](_0x245923,_0x1b37a3);!_0x15bd13['existsSync'](_0x4ef472)?(_0x15bd13['copyFileSync'](_0x17ded5,_0x4ef472),console['log']('[InitDB]\x20Kopiert\x20'+_0x1b37a3+'\x20nach:\x20'+_0x4ef472)):console['log']('[InitDB]\x20'+_0x1b37a3+'\x20existiert\x20bereits:\x20'+_0x4ef472),_0x240a22['push'](_0x4ef472);}}catch(_0x40fe43){console['error']('[InitDB]\x20Fehler\x20beim\x20Kopieren\x20der\x20Datenbanken:',_0x40fe43);}return _0x240a22;}function getSqlDataPath(){return console['log']('MAC\x20Pfad:\x20',app['getPath']('userData')),console['log']('Default\x20App:\x20'+process['defaultApp']),process['platform']==='darwin'?(!process['defaultApp']&&initializeDatabase(),process['defaultApp']?path['join'](__dirname,'data'):path['join'](app['getPath']('userData'),'data')):process['defaultApp']?path['join'](__dirname,'data'):path['join'](process['resourcesPath'],'app.asar.unpacked','build','data');}console['log']('Datenpfad\x20SQL:\x20'+getSqlDataPath());const SqlDataDirectory=getSqlDataPath();function doFullElectronUpdate(){const {autoUpdater:_0xc457d,AppUpdate:_0x3016d0}=require('electron-updater');_0xc457d['autoDownload']=![],_0xc457d['autoInstallOnAppQuit']=!![],_0xc457d['checkForUpdates'](),console['log']('Überprüfe\x20auf\x20Updates...'),_0xc457d['on']('update-available',_0x2c0811=>{console['log']('Update\x20verfügbar:',_0x2c0811),_0xc457d['downloadUpdate']();}),_0xc457d['on']('update-downloaded',_0x45ea45=>{console['log']('Update\x20heruntergeladen:',_0x45ea45),_0xc457d['quitAndInstall']();}),_0xc457d['on']('error',_0x2d3938=>{console['error']('Fehler\x20beim\x20Updaten:',_0x2d3938);});}function doFullElectronUpdateSilent(){const {autoUpdater:_0x70d6f9,AppUpdate:_0x23c600}=require('electron-updater');_0x70d6f9['autoDownload']=![],_0x70d6f9['autoInstallOnAppQuit']=!![],_0x70d6f9['checkForUpdates'](),console['log']('Überprüfe\x20auf\x20Updates...'),_0x70d6f9['on']('update-available',_0x1e7dbb=>{console['log']('Update\x20verfügbar:',_0x1e7dbb),_0x70d6f9['downloadUpdate']();}),_0x70d6f9['on']('update-downloaded',_0x1bcd56=>{console['log']('Update\x20heruntergeladen:',_0x1bcd56),console['log']('Neustarten\x20zum\x20Updaten');}),_0x70d6f9['on']('error',_0x52db86=>{console['error']('Fehler\x20beim\x20Updaten:',_0x52db86);});}const MAC_BROWSER_PATH='/Applications/Google\x20Chrome.app/Contents/MacOS/Google\x20Chrome',WIN_BROWSER_PATH='chromium_local/chrome-win/chrome.exe';let browser_login=null;async function getBrowserPageLogin(){let _0x3e45f5='',_0x32d2de=null;if(process['platform']==='darwin')_0x3e45f5=MAC_BROWSER_PATH;else{if(process['platform']==='win32')_0x3e45f5=WIN_BROWSER_PATH;else{if(process['platform']==='linux'){}}}return browser_login=await puppeteer['launch']({'headless':![],'ignoreHTTPSErrors':!![],'defaultViewport':null,'args':['--lang=en-US'],'executablePath':_0x3e45f5}),_0x32d2de=await browser_login['newPage'](),_0x32d2de['setDefaultNavigationTimeout'](0x1d4c),_0x32d2de['setDefaultTimeout'](0x1d4c),await _0x32d2de['setExtraHTTPHeaders']({'Accept-Language':'en-US,en'}),_0x32d2de;}let browser=null,pageStack=[null],isStopping=![];async function getBrowserPage(_0xa65700=0x1,_0x1f4abe=0x0){try{let _0x20f906='',_0xb787f2=null;const _0x2acb40=process['env']['NODE_ENV']==='development'?![]:!![];if(process['platform']==='darwin')_0x20f906=MAC_BROWSER_PATH;else{if(process['platform']==='win32'){_0x20f906=WIN_BROWSER_PATH;;}else{if(process['platform']==='linux'){}}}if(_0xa65700===0x0&&!pageStack[_0x1f4abe])return browser=await puppeteer['launch']({'headless':_0x2acb40,'ignoreHTTPSErrors':!![],'defaultViewport':null,'args':['--lang=en-US'],'executablePath':_0x20f906}),_0xb787f2=await browser['newPage'](),_0xb787f2['setDefaultNavigationTimeout'](0x1d4c),_0xb787f2['setDefaultTimeout'](0x1d4c),await _0xb787f2['setExtraHTTPHeaders']({'Accept-Language':'en-US,en'}),pageStack[_0x1f4abe]=_0xb787f2,_0xb787f2;return(browser===null||pageStack[_0x1f4abe]===null||pageStack[_0x1f4abe]['isClosed']())&&(browser=await puppeteer['launch']({'headless':_0x2acb40,'ignoreHTTPSErrors':!![],'defaultViewport':null,'args':['--lang=en-US'],'executablePath':_0x20f906})),(pageStack[_0x1f4abe]===null||pageStack[_0x1f4abe]['isClosed']())&&(_0xb787f2=await browser['newPage'](),_0xb787f2['setDefaultNavigationTimeout'](0x1d4c),_0xb787f2['setDefaultTimeout'](0x1d4c),await _0xb787f2['setExtraHTTPHeaders']({'Accept-Language':'en-US,en'}),pageStack[_0x1f4abe]=_0xb787f2),pageStack[_0x1f4abe];}catch(_0x5f0b40){console['error']('Failed\x20to\x20launch\x20browser:',_0x5f0b40);const _0x16e867=new Error('Browser\x20konnte\x20nicht\x20gestartet\x20werden.\x20Bitte\x20starte\x20die\x20App\x20neu.\x20:\x20'+_0x5f0b40);throw _0x16e867;}}ipcMain['on']('login',async(_0x24a57c,_0x16b4a4)=>{const _0x2e763c=await getBrowserPageLogin();await _0x2e763c['goto']('https://www.instagram.com/accounts/login/'),console['log']('Login\x20startet'),await login(_0x2e763c,_0x16b4a4),ipcMain['on']('setLoginCookies',async(_0x4fd65b,_0x4f784c)=>{try{await set_login_cookies(_0x2e763c,_0x4f784c);}catch(_0x337a2c){console['log']('Fehler\x20bei\x20Cookie\x20speichern:\x20'+_0x337a2c);}});}),ipcMain['on']('export-relation',async(_0x2c0330,_0x2e6b5d)=>{try{await exportDatabase(_0x2e6b5d),_0x2c0330['reply']('export-relation-response',{'success':!![]});}catch(_0x5cd5c9){console['error'](_0x5cd5c9),_0x2c0330['reply']('export-relation-response',{'success':![],'message':_0x5cd5c9['message']});}}),ipcMain['handle']('sendMessage',async(_0x50f0ce,_0x454e26,_0x49a8bc,_0x10df8,_0x4cd4c9,_0x32483e,_0xaec163,_0x2f0920,_0x1ad4ab,_0x504d09,_0xc27437)=>{isStopping=![];let _0x1eb22f=null;return _0xaec163?_0x1eb22f=await getBrowserPage(_0x4cd4c9,_0x2f0920):_0x1eb22f=await getBrowserPage(),console['log']('send\x20Message\x20gestartet'),console['log'](_0x454e26),send_message(_0x1eb22f,_0x454e26,_0x49a8bc,_0x10df8,_0x4cd4c9,_0x32483e,_0x1ad4ab,_0x504d09,_0xc27437);}),ipcMain['handle']('stop-action',async(_0x1b62da,_0xd5f3f0)=>{isStopping=!![];const _0x3ad5ee=await getBrowserPage(0x1,_0xd5f3f0);await _0x3ad5ee['close']();}),ipcMain['handle']('fetch_followers',async(_0x570047,_0x1a2423,_0x2737cc,_0x3f822d,_0x4e7d73,_0x3ac99c)=>{isStopping=![];const _0x16cd39=await getBrowserPage();return fetch_followers_from_account(_0x570047,_0x16cd39,_0x1a2423,_0x2737cc,_0x3f822d,_0x4e7d73,_0x3ac99c);}),ipcMain['handle']('get-account-details',async(_0x41654d,_0xf7966b,_0xdb97e0,_0x5cc919)=>{isStopping=![];const _0x36d232=await getBrowserPage();return fetch_account_details(_0x36d232,_0xf7966b,_0xdb97e0,_0x5cc919);}),ipcMain['handle']('fetch_likes',async(_0x527d38,_0x16ddc1,_0x173fd5,_0x35b91a,_0x37d663,_0x3f376c)=>{isStopping=![];const _0x261308=await getBrowserPage();return fetch_likers_from_post(_0x527d38,_0x261308,_0x16ddc1,_0x173fd5,_0x35b91a,_0x37d663,_0x3f376c);}),ipcMain['handle']('fetch_comments',async(_0xe92f85,_0x481de7,_0x192f8c,_0x9d0322,_0x240c58,_0x4c9a7e)=>{isStopping=![];const _0x25f5d1=await getBrowserPage();return fetch_comments_from_post(_0xe92f85,_0x25f5d1,_0x481de7,_0x192f8c,_0x9d0322,_0x240c58,_0x4c9a7e);});async function updateAppSilent(){const {spawn:_0x2b89f8}=require('child_process'),_0x32b233=require('path'),_0x2f8b06=require('electron-log');return _0x2f8b06['transports']['console']['level']='debug',process['platform']==='darwin'?new Promise((_0x3f3257,_0x58a0e0)=>{const {updateElectronApp:_0x3d440f,UpdateSourceType:_0x4a2455}=require('update-electron-app');_0x3d440f({'updateSource':{'type':_0x4a2455['ElectronPublicUpdateService'],'repo':'derminer007/Instabot_app_updater'},'updateInterval':'10\x20minutes','logger':_0x2f8b06}),_0x3f3257('Update\x20erfolgreich\x20abgeschlossen.');}):new Promise((_0x471a3f,_0x45ae1c)=>{doFullElectronUpdateSilent(),_0x471a3f('Update\x20erfolgreich\x20abgeschlossen.');});}async function updateApp(){const {spawn:_0x3daee0}=require('child_process'),_0x198f74=require('path'),_0x13f4b4=require('electron-log');return _0x13f4b4['transports']['console']['level']='debug',process['platform']==='darwin'?new Promise((_0x3a323b,_0x5ee65f)=>{const {updateElectronApp:_0x34e5b9,UpdateSourceType:_0x44a314}=require('update-electron-app');_0x34e5b9({'updateSource':{'type':_0x44a314['ElectronPublicUpdateService'],'repo':'derminer007/Instabot_app_updater'},'updateInterval':'10\x20minutes','logger':_0x13f4b4}),_0x3a323b('Update\x20erfolgreich\x20abgeschlossen.');}):new Promise((_0x29a01c,_0x2cf3c7)=>{doFullElectronUpdate(),_0x29a01c('Update\x20erfolgreich\x20abgeschlossen.');});}async function customUpdateMacApp(){return new Promise((_0x1277be,_0x387e5c)=>{if(process['defaultApp'])console['log']('Update\x20übersprungen\x20im\x20Testmodus.'),_0x1277be('Update\x20übersprungen');else{if(process['platform']==='darwin'){const _0x48ccff=path['join'](__dirname,'mac-updater-intern.sh'),_0x5a1d49=spawn('/bin/bash',[_0x48ccff],{'detached':!![],'stdio':'ignore'});_0x5a1d49['unref'](),setTimeout(()=>{_0x1277be('Update-Prozess\x20im\x20detached\x20Modus\x20gestartet.');},0x1388);}else{if(process['platform']==='win32'){}else _0x387e5c(new Error('Update\x20nicht\x20für\x20diese\x20Plattform\x20unterstützt.'));}}});}ipcMain['handle']('get-os-system',async _0x1d53c7=>{return{'platform':process['platform'],'arch':process['arch']};}),ipcMain['handle']('update-app',async(_0xad2e60,_0x533e20)=>{console['log']('Update\x20Silent:\x20'+_0x533e20);if(_0x533e20){if(!(process['platform']==='darwin'))await updateAppSilent(),console['log']('Autoupdate\x20für\x20Mac\x20ausgeschaltet');else return await customUpdateMacApp();}else{if(!(process['platform']==='darwin'))await updateApp();else return await customUpdateMacApp();}});function getRnd(_0x40a1ef,_0x1a9734){return Math['random']()*(_0x1a9734-_0x40a1ef+0x1)+_0x40a1ef;}function delay(_0x569939,_0x409fd0){let _0xfb59c6=getRnd(_0x569939,_0x409fd0);return new Promise(function(_0x90f86f){setTimeout(_0x90f86f,_0xfb59c6);});}async function scroll(_0x5a3d9c,_0x257d9c,_0x4b7592=0x2,_0x262658){const _0x489804=await _0x5a3d9c['waitForSelector'](_0x257d9c);for(let _0x4319a4=0x0;_0x4319a4<_0x4b7592;_0x4319a4++){console['log']('Scrolling\x20'+_0x4319a4),await _0x5a3d9c['evaluate'](_0x40ab04=>{const _0x2951ae=document['querySelector'](_0x40ab04);_0x2951ae&&_0x2951ae['scrollBy'](0x0,0x190);},_0x257d9c),await delay(0x320,0x5dc),_0x262658();}}async function saveCookies(_0x16c58c){let _0x302320=await _0x16c58c['cookies']();await fs['writeFile']('public/cookies.json',JSON['stringify'](_0x302320,null,0x2));}async function notificationClear(_0xf902fd){console['log']('Suche\x20nach\x20Notification-Button');try{await delay(0xfa0,0x1388),await _0xf902fd['waitForSelector']('button._a9--._ap36._a9_1',{'visible':!![]}),await _0xf902fd['click']('button._a9--._ap36._a9_1'),console['log']('Notification-Button\x20gefunden');}catch(_0x41849a){console['log']('Notification-Feld\x20übersprungen:\x20'+_0x41849a);}}async function getTargetProfiles(_0x481754){return new Promise((_0xa67c68,_0xd80c9a)=>{db['all']('SELECT\x20*\x20FROM\x20'+_0x481754,(_0x26705e,_0x516486)=>{_0x26705e?_0xd80c9a(_0x26705e):_0xa67c68(_0x516486);});});}async function login_legacy(_0x1d081c,_0x1154d2,_0x1fc172){console['log']('Starte\x20Login\x20Prozess');try{await setCookiesForUser(_0x1d081c,_0x1154d2),await createUserIfNotExists(_0x1154d2,_0x1fc172);}catch(_0x978711){console['log']('Cookies\x20konnten\x20nicht\x20hinzuefügt\x20werden:'+_0x978711);}try{await _0x1d081c['goto']('https://www.instagram.com/accounts/login/');try{await delay(0x7d0,0x1388),await _0x1d081c['waitForSelector']('button._a9--._ap36._a9_0',{'visible':!![]}),await _0x1d081c['click']('button._a9--._ap36._a9_0');}catch(_0x586e57){console['log']('Cookie\x20Fenster\x20überspringen');}await delay(0xfa0,0x1d4c);try{await _0x1d081c['waitForSelector']('input[name=\x27username\x27]'),console['log']('Benutzername-Feld\x20gefunden'),await _0x1d081c['type']('input[name=\x27username\x27]',_0x1154d2,{'delay':getRnd(0x50,0x78)}),await delay(0xfa0,0x1d4c),await _0x1d081c['waitForSelector']('input[name=\x27password\x27]'),console['log']('Passwort-Feld\x20gefunden'),await _0x1d081c['type']('input[name=\x27password\x27]',_0x1fc172,{'delay':getRnd(0x50,0x78)}),await delay(0xfa0,0x1d4c),await _0x1d081c['waitForSelector']('button[type=\x27submit\x27]'),console['log']('Login-Button\x20gefunden'),await _0x1d081c['click']('button[type=\x27submit\x27]');}catch(_0x223b62){console['log']('Anmeldeformular\x20nicht\x20gefunden');}await notificationClear(_0x1d081c),await delay(0x1388,0x1b58);try{await saveCookiesForUser(_0x1d081c,_0x1154d2);}catch(_0x17276b){console['log']('Fehler\x20bei\x20Cookie\x20speichern:\x20'+_0x17276b);}}catch(_0x4f22f5){console['log']('Login\x20nicht\x20durgeführt:\x20'+_0x4f22f5);}}async function login(_0x2385fe,_0x55d0a0){console['log']('Starte\x20Login\x20Prozess');try{await setCookiesForUser(_0x2385fe,_0x55d0a0),await createUserIfNotExists(_0x55d0a0);}catch(_0x35d2e1){console['log']('Cookies\x20konnten\x20nicht\x20hinzuefügt\x20werden:'+_0x35d2e1);}try{await _0x2385fe['goto']('https://www.instagram.com/accounts/login/');}catch(_0x1aa5f7){console['log']('Login\x20nicht\x20durgeführt:\x20'+_0x1aa5f7);}}async function set_login_cookies(_0xe426aa,_0x284d9c){try{await saveCookiesForUser(_0xe426aa,_0x284d9c);}catch(_0x32969b){console['log']('Fehler\x20bei\x20Cookie\x20speichern:\x20'+_0x32969b);}}async function waitForXPath(_0x1a5053,_0xcac5e8,_0x100d36={}){return await _0x1a5053['waitForFunction'](_0x441d57=>{return document['evaluate'](_0x441d57,document,null,XPathResult['FIRST_ORDERED_NODE_TYPE'],null)['singleNodeValue']!==null;},_0x100d36,_0xcac5e8),_0x1a5053['evaluateHandle'](_0x469a2f=>document['evaluate'](_0x469a2f,document,null,XPathResult['FIRST_ORDERED_NODE_TYPE'],null)['singleNodeValue'],_0xcac5e8);}async function waitForSelectorWithFallbacks(_0x34e268,_0x373244,_0x42611f={}){!Array['isArray'](_0x373244)&&(_0x373244=[_0x373244]);for(let _0x3427c3=0x0;_0x3427c3<_0x373244['length'];_0x3427c3++){const _0x3092cd=_0x373244[_0x3427c3],_0x3ebb8c=_0x3092cd['startsWith']('//')||_0x3092cd['startsWith']('(//');try{console['log']('Versuche\x20'+(_0x3ebb8c?'XPath':'Selector')+'\x20'+(_0x3427c3+0x1)+'/'+_0x373244['length']+':\x20'+_0x3092cd['substring'](0x0,0x32)+'...');const _0x3ce00b=_0x3427c3===0x0?_0x42611f['timeout']||0x1388:0x7d0;let _0x5bbe2d;if(_0x3ebb8c){const _0xeafae5=await waitForXPath(_0x34e268,_0x3092cd,{..._0x42611f,'timeout':_0x3ce00b});if(!_0xeafae5)throw new Error('XPath-Element\x20nicht\x20gefunden');_0x5bbe2d=_0xeafae5;}else _0x5bbe2d=await _0x34e268['waitForSelector'](_0x3092cd,{..._0x42611f,'timeout':_0x3ce00b});return console['log']((_0x3ebb8c?'XPath':'Selector')+'\x20'+(_0x3427c3+0x1)+'\x20gefunden!'),_0x5bbe2d;}catch(_0x435268){console['log']((_0x3ebb8c?'XPath':'Selector')+'\x20'+(_0x3427c3+0x1)+'\x20nicht\x20gefunden:\x20'+_0x435268['message']);if(_0x3427c3===_0x373244['length']-0x1)throw new Error('Keiner\x20der\x20'+_0x373244['length']+'\x20Selektoren/XPath\x20konnte\x20gefunden\x20werden:\x20'+_0x435268['message']);}}throw new Error('Keine\x20Selektoren/XPath\x20angegeben');}async function waitForXPathAll(_0x2a9552,_0x273f87,_0x461fcd={}){return await _0x2a9552['waitForFunction'](_0x5db9bf=>{return document['evaluate'](_0x5db9bf,document,null,XPathResult['ORDERED_NODE_SNAPSHOT_TYPE'],null)['snapshotLength']>0x0;},_0x461fcd,_0x273f87),_0x2a9552['evaluateHandle'](_0xcdbcd1=>{const _0x21412a=document['evaluate'](_0xcdbcd1,document,null,XPathResult['ORDERED_NODE_SNAPSHOT_TYPE'],null),_0x389d7e=[];for(let _0x1af144=0x0;_0x1af144<_0x21412a['snapshotLength'];_0x1af144++){_0x389d7e['push'](_0x21412a['snapshotItem'](_0x1af144));}return _0x389d7e;},_0x273f87)['then'](_0x4066dd=>_0x4066dd['getProperties']());}async function checkLoginStatus(_0x3207b0){const _0x5ea246=['[type=\x22password\x22]','//a[normalize-space(text())=\x27Log\x20In\x27]','//div[@role=\x27button\x27\x20and\x20normalize-space(.)=\x27Log\x20in\x27]','//h3[normalize-space(text())=\x27Something\x20went\x20wrong\x27]'];let _0x2cef83=null;try{_0x2cef83=await waitForSelectorWithFallbacks(_0x3207b0,_0x5ea246,{'timeout':0x7d0});}catch(_0x5d6ce9){return console['log']('Eingeloggt,\x20kein\x20Login\x20notwendig:\x20'+_0x5d6ce9),!![];}if(_0x2cef83){console['log']('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');throw new Error('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');return![];}else return console['log']('Eingeloggt,\x20führe\x20keine\x20Login\x20durch'),!![];}async function send_message(_0x1eae35,_0x4b9564,_0x2370e7,_0x41f270,_0x1c2fd7,_0x403675,_0x49434a,_0x2c4fa5,_0x14f0f4){return new Promise(async(_0x7304a1,_0x5e9863)=>{_0x403675=_0x403675['split'](';'),console['log'](_0x403675[0x0]),console['log']('Anfang'),console['log']('Counter:\x20'+_0x1c2fd7);try{await setCookiesForUser(_0x1eae35,_0x403675[0x0]);}catch(_0x3e4b7a){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x3e4b7a),_0x7304a1({'status':0x190,'message':'Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:\x20'+_0x3e4b7a});return;}await delay(0x6a4,0x7d0);try{await _0x1eae35['goto']('https://www.instagram.com/'+_0x4b9564+'/'),await delay(0x1b58,0x1d4c),await notificationClear(_0x1eae35);}catch(_0x594192){_0x7304a1({'status':0x1f5,'message':'Fehler\x20beim\x20Aufruf\x20der\x20Seite:\x20'+_0x594192});return;}try{await checkLoginStatus(_0x1eae35);}catch(_0x5e2ba3){console['log']('Login-Status\x20nicht\x20ok:\x20'+_0x5e2ba3),_0x5e9863('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');return;}console['log']('UserSkip:\x20'+_0x49434a);if(_0x49434a==0x1)try{const _0xfa52bf=await _0x1eae35['$eval']('._ap3a._aaco._aacw._aad6._aade',_0x203d6e=>_0x203d6e['textContent']['trim']());console['log'](_0xfa52bf);if(_0xfa52bf==='Following'||_0xfa52bf==='Folge\x20ich')return _0x7304a1({'status':0x199,'message':'Überspringe\x20User:\x20Bereits\x20gefolgt\x20→\x20überspringen'});}catch(_0x51ce32){}try{const _0x5bb0f1=await waitForSelectorWithFallbacks(_0x1eae35,K_DIRECT_MSG_BUTTON);await _0x5bb0f1['click']();}catch(_0x518815){console['log']('1.\x20MsgButton\x20nicht\x20gefunden.\x20Teste\x202.\x20Button'+_0x518815);try{await delay(0x6a4,0x7d0);try{const _0x51f8b1=await waitForSelectorWithFallbacks(_0x1eae35,K_OPTIONS_BUTTON);await _0x51f8b1['click']();}catch(_0x39cebc){console['log']('Options-Button\x20nicht\x20gefunden.\x20Nutzer\x20überspringen:\x20'+_0x39cebc),_0x7304a1({'status':0x1f6,'message':'Options-Button\x20nicht\x20gefunden.\x20Nutzer\x20überspringen:\x20'+_0x39cebc});return;}await delay(0x3e8,0x44c);const _0x416d04=await waitForXPath(_0x1eae35,'//button[contains(text(),\x27Send\x20message\x27)]');await _0x416d04['click']();}catch(_0x1f6cf0){console['log']('2.\x20MsgButton\x20nicht\x20gefunden.\x20Nutzer\x20überspringen'+_0x1f6cf0),_0x7304a1({'status':0x194,'message':'UserSkip:\x20Nicht\x20anschreibbaren\x20Nutzer\x20überspringen'});return;}}try{await delay(0x320,0x3e8),await notificationClear(_0x1eae35);}catch(_0x478a0f){console['log']('NotificationClear\x20fehlerhaft:\x20'+_0x478a0f);}try{const _0x3afe80=await waitForSelectorWithFallbacks(_0x1eae35,K_CHAT_INPUT_FIELD);if(_0x2c4fa5){const _0x4954e9=await _0x1eae35['$'](K_ALREADY_CHATTED);if(_0x4954e9)return console['log']('Already\x20chatted\x20with\x20this\x20user,\x20skipping:',_0x4b9564),_0x7304a1({'status':0x19a,'message':'Überspringe\x20User:\x20Bereits\x20gechattet\x20→\x20überspringen'});}const _0xe509b9=await _0x1eae35['evaluate'](()=>{return document['querySelector']('h2\x20>\x20span\x20>\x20span')['textContent'];});console['log']('Extrahierter\x20Clearname:\x20'+_0xe509b9),_0x41f270=_0x41f270['replace']('{USERNAME}',_0x4b9564);let _0x4e1fa7;if(_0x41f270['includes']('{NAME}')||_0x41f270['includes']('{name}'))try{const _0x2a83b4=await extractFirstName(_0xe509b9,_0x14f0f4);console['log']('Response\x20Clearname\x20valid:\x20'+_0x2a83b4['valid']),_0x2a83b4['valid']?(_0x41f270=_0x41f270['replaceAll'](/{NAME}|{name}/g,_0x2a83b4['name']),console['log']('Response\x20Clearname\x20name:\x20'+_0x2a83b4['name']),_0x4e1fa7=_0x2a83b4['name']):(_0x41f270=_0x41f270['replaceAll'](/ ?({NAME}|{name})/g,''),_0x4e1fa7='UNKNOWN_NAME');}catch(_0x158514){console['log'](_0x158514['message']),_0x4e1fa7=_0x158514['message'];let _0x306669=_0xe509b9['replace'](/[^\p{L}\s]/gu,''),_0x296f1f=_0x306669['split']('\x20')[0x0];_0x296f1f['length']>0x2&&!_0x296f1f['includes']('Instagram')?_0x41f270=_0x41f270['replaceAll'](/{NAME}|{name}/g,_0x296f1f):_0x41f270=_0x41f270['replaceAll'](/ ?({NAME}|{name})/g,'');}console['log']('Nachricht\x20vor\x20dem\x20Senden:\x20'+_0x41f270);const _0xa055c1=_0x41f270['split']('\x0a');await _0x3afe80['type'](_0xa055c1[0x0],{'delay':getRnd(0x50,0x78)});for(let _0x5c0c84=0x1;_0x5c0c84<_0xa055c1['length'];_0x5c0c84++){await _0x1eae35['keyboard']['down']('Shift'),await _0x1eae35['keyboard']['press']('Enter'),await _0x1eae35['keyboard']['up']('Shift'),await delay(0x64,0xc8),_0xa055c1[_0x5c0c84]['length']>0x0&&await _0x3afe80['type'](_0xa055c1[_0x5c0c84],{'delay':getRnd(0x50,0x78)});}console['log']('Nachricht\x20mit\x20Zeilenumbrüchen\x20gesendet'),await delay(0x320,0x3e8);try{const _0x38cfd1=await waitForSelectorWithFallbacks(_0x1eae35,K_SEND_MSG_BUTTON);await _0x38cfd1['click']();}catch(_0x59be49){console['error']('Nicht\x20anschreibbaren\x20Nutzer\x20überspringen:\x20'+_0x59be49),_0x7304a1({'status':0x195,'message':'Send\x20nicht\x20gefunden.\x20Nicht\x20anschreibbaren\x20Nutzer:\x20'+_0x4b9564+'\x20überspringen.','error':_0x59be49['message']});}await delay(0x320,0x3e8),_0x7304a1({'status':0xc8,'message':'Nachricht\x20erfolgreich\x20gesendet!','clearname':_0xe509b9,'extracted_clearname':_0x4e1fa7});}catch(_0x4c1ee9){let _0x1f15f8=_0x4c1ee9;console['log']('Fehler\x20beim\x20Senden\x20der\x20Nachricht:\x20'+_0x1f15f8),_0x7304a1({'status':0x1f4,'message':'Error\x20500:\x20'+_0x1f15f8});}});}function handle_fail(_0x44838b){if(isStopping)return new Promise(_0x45bd86=>{_0x45bd86('Scraper\x20gestoppt.');});else{let _0xa626f2='';switch(_0x44838b){case 0x0:_0xa626f2='Fehler\x20beim\x20Follower\x20Scraper.\x20Bitte\x20lade\x20die\x20neuste\x20Version\x20herunter.';break;case 0x1:_0xa626f2='Fehler\x20beim\x20Liker\x20Scraper.\x20Bitte\x20lade\x20die\x20neuste\x20Version\x20herunter.';break;case 0x2:_0xa626f2='Fehler\x20beim\x20Comments\x20Scraper.\x20Bitte\x20lade\x20die\x20neuste\x20Version\x20herunter.';break;default:_0xa626f2='Fehler\x20beim\x20Scraper.\x20Bitte\x20lade\x20die\x20neuste\x20Version\x20herunter.';break;}return new Promise((_0x64d0d2,_0x3e426c)=>{_0x3e426c(_0xa626f2);});}}async function fetch_account_details(_0x347b00,_0x293138,_0x16a1e7,_0x48f7b3){try{await setCookiesForUser(_0x347b00,_0x16a1e7['username']);}catch(_0x32ba56){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:\x20'+_0x32ba56);throw new Error('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:\x20'+_0x32ba56);return handle_fail(0x0);}_0x347b00['setDefaultNavigationTimeout'](0x7530),await _0x347b00['goto']('https://www.instagram.com/'+_0x293138+'/',{'waitUntil':'networkidle2','timeout':0x7530}),await notificationClear(_0x347b00);const _0x21068a=await _0x347b00['evaluate'](()=>{const _0x23faab=document['querySelector']('meta[property=\x22og:image\x22]');return _0x23faab?_0x23faab['getAttribute']('content'):null;});await _0x347b00['waitForSelector']('meta[name=\x22description\x22]',{'timeout':0x3a98});const _0x28a91e=await _0x347b00['evaluate'](()=>{const _0x5bdf57=document['querySelector']('meta[name=\x22description\x22]');if(!_0x5bdf57)return console['log']('Meta-Tag\x20nicht\x20gefunden'),null;let _0x2e57c9=_0x5bdf57['getAttribute']('content');if(!_0x2e57c9)return console['log']('Meta-Content\x20ist\x20leer'),null;console['log']('Meta\x20content:',_0x2e57c9);const _0x55c01a=/\s*[–-]\s*/,_0x211928=_0x2e57c9['split'](_0x55c01a);if(_0x211928['length']<0x2)return console['log']('Kein\x20gültiger\x20Separator\x20gefunden'),null;const _0x11878a=_0x211928[0x0],_0x138a04=_0x211928[0x1],_0x439a08=_0x11878a['split'](',\x20');if(_0x439a08['length']<0x3)return console['log']('Nicht\x20genügend\x20Zählwerte\x20gefunden'),null;const _0x4b5267=_0x439a08[0x0]['split']('\x20')[0x0],_0x197561=_0x439a08[0x1]['split']('\x20')[0x0],_0x21cad6=_0x439a08[0x2]['split']('\x20')[0x0];let _0xcd30e2='',_0x12ded9='';const _0x353a56='\x20on\x20Instagram:\x20',_0x2f8a1f=_0x138a04['split'](_0x353a56);return _0xcd30e2=_0x2f8a1f[0x0]['trim'](),_0xcd30e2=_0xcd30e2['replace'](/\s*\(?@[\w_]+\)?/g,'')['trim'](),_0x2f8a1f['length']>0x1&&(_0x12ded9=_0x2f8a1f[0x1]['trim'](),_0x12ded9['startsWith']('\x22')&&_0x12ded9['endsWith']('\x22')&&(_0x12ded9=_0x12ded9['substring'](0x1,_0x12ded9['length']-0x1)['trim']()),_0x12ded9=_0x12ded9['replace'](/&quot;/g,'')['trim']()),{'followers':_0x4b5267,'following':_0x197561,'posts':_0x21cad6,'nameText':_0xcd30e2,'bio':_0x12ded9};});console['log']('Extracted\x20profile\x20data:',_0x28a91e);const _0x5c7bc1=_0x28a91e['nameText'],_0x43e24e=_0x21068a,_0x44e6cd=_0x28a91e['bio'],_0x1f9295=_0x28a91e['followers'],_0x2254a6=_0x28a91e['following'],_0x47556e=_0x28a91e['posts'],_0x28b9ba=![],_0x5a09fe=![],_0x327b0c=![],_0x1b1247='\x0a\x20\x20INSERT\x20INTO\x20'+_0x48f7b3+'\x20(\x0a\x20\x20\x20\x20username,\x20clearname,\x20ProfilePic,\x20Bio,\x20\x0a\x20\x20\x20\x20Follower_Count,\x20Following_Count,\x20Post_Count,\x20\x0a\x20\x20\x20\x20Isverified,\x20Isprivat,\x20IsBusiness\x0a\x20\x20)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)\x0a\x20\x20ON\x20CONFLICT(username)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20clearname\x20=\x20excluded.clearname,\x0a\x20\x20\x20\x20ProfilePic\x20=\x20excluded.ProfilePic,\x0a\x20\x20\x20\x20Bio\x20=\x20excluded.Bio,\x0a\x20\x20\x20\x20Follower_Count\x20=\x20excluded.Follower_Count,\x0a\x20\x20\x20\x20Following_Count\x20=\x20excluded.Following_Count,\x0a\x20\x20\x20\x20Post_Count\x20=\x20excluded.Post_Count,\x0a\x20\x20\x20\x20Isverified\x20=\x20excluded.Isverified,\x0a\x20\x20\x20\x20Isprivat\x20=\x20excluded.Isprivat,\x0a\x20\x20\x20\x20IsBusiness\x20=\x20excluded.IsBusiness;\x0a';db['run'](_0x1b1247,[_0x293138,_0x5c7bc1,_0x43e24e,_0x44e6cd,_0x1f9295,_0x2254a6,_0x47556e,_0x28b9ba,_0x5a09fe,_0x327b0c],function(_0x3893ae){_0x3893ae?console['error']('Fehler\x20beim\x20Upsert\x20in\x20die\x20Datenbank:\x20'+_0x3893ae['message']):console['log']('Eintrag\x20erfolgreich\x20upserted.\x20Letzte\x20ID:\x20'+this['lastID']);});}async function fetch_followers_from_account(_0x25bc67,_0x5d3834,_0x339abd,_0x2419f3,_0x40daa6,_0x2f274b,_0x2b28c9){let _0x3c9e08=0x4,_0x4210f3=0x0,_0x45d7b2=0x0;try{await setCookiesForUser(_0x5d3834,_0x2f274b['username']);}catch(_0x36a098){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x36a098);throw new Error('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:\x20'+_0x36a098);return handle_fail(0x0);}let _0x1a6335=0x0;try{await _0x5d3834['goto']('https://www.instagram.com/'+_0x339abd+'/'),await notificationClear(_0x5d3834);try{await checkLoginStatus(_0x5d3834);}catch(_0x5250d9){console['log']('Login-Status\x20nicht\x20ok:\x20'+_0x5250d9);throw new Error('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');}try{if(_0x2419f3<=0x0){const _0x3ffbf2=await _0x5d3834['waitForSelector'](ANZAHL_FOLLOWER_BUTTON);await delay(0x12c,0x320);const _0x3fd44f=await _0x5d3834['evaluate'](_0x4f82ce=>_0x4f82ce['innerHTML'],_0x3ffbf2);_0x1a6335=Math['ceil'](_0x3fd44f/0x4);}else _0x1a6335=Math['ceil'](_0x2419f3/0x4);_0x3c9e08+=_0x1a6335,_0x45d7b2=Math['round'](++_0x4210f3/_0x3c9e08*0x64),_0x25bc67['sender']['send']('fetch-progress',_0x45d7b2,!![]);let _0x2dbcc5=await _0x5d3834['waitForSelector']('a[href=\x22/'+_0x339abd+'/followers/\x22]');await delay(0xbb8,0x1388),await _0x2dbcc5['click'](),console['log']('Follower\x20Liste\x20von\x20'+_0x339abd+'\x20gesichtet'),_0x45d7b2=Math['round'](++_0x4210f3/_0x3c9e08*0x64),_0x25bc67['sender']['send']('fetch-progress',_0x45d7b2,!![]);}catch(_0x1933b8){console['log']('Follower\x20Liste\x20von\x20'+_0x339abd+'\x20nicht\x20gefunden:'+_0x1933b8);throw new Error('Follower\x20Liste\x20von\x20'+_0x339abd+'\x20nicht\x20gefunden:'+_0x1933b8);return handle_fail(0x0);}}catch(_0x40c0a0){console['log']('User\x20besuchen\x20fehlgeschlagen:\x20'+_0x40c0a0);throw new Error('User\x20besuchen\x20fehlgeschlagen:\x20'+_0x40c0a0);return handle_fail(0x0);}try{await delay(0xbb8,0x1388),console['log']('Auto-scrolls:\x20'+_0x1a6335),await scroll(_0x5d3834,FOLLOWER_FENSTER,_0x1a6335,_0x5f3b0f=>{_0x45d7b2=Math['round'](++_0x4210f3/_0x3c9e08*0x64),_0x25bc67['sender']['send']('fetch-progress',_0x45d7b2,!![]);}),await _0x5d3834['waitForSelector'](FOLLOWER_USERNAME_SPALTEN_ARRAY);const _0x4d6d82=await _0x5d3834['$$'](FOLLOWER_USERNAME_SPALTEN_ARRAY),_0x29d281=await _0x5d3834['$$'](FOLLOWER_CLEARNAME_SPALTEN_ARRAY);_0x45d7b2=Math['round'](++_0x4210f3/_0x3c9e08*0x64),_0x25bc67['sender']['send']('fetch-progress',_0x45d7b2,!![]);_0x2419f3<=0x0&&(_0x2419f3=_0x4d6d82['length']);let _0x17de49=[];for(let _0x10e6d8=0x0;_0x10e6d8<_0x4d6d82['length']&&_0x10e6d8<_0x2419f3;_0x10e6d8++){_0x17de49['push'](await _0x4d6d82[_0x10e6d8]['evaluate'](_0x26ea33=>_0x26ea33['textContent']));const _0x371725='INSERT\x20INTO\x20'+_0x40daa6+'\x20(username,\x20clearname)\x20VALUES\x20(?,\x20?)';db['run'](_0x371725,[await _0x4d6d82[_0x10e6d8]['evaluate'](_0xfc5838=>_0xfc5838['textContent']),await _0x29d281[_0x10e6d8]['evaluate'](_0x57ed0f=>_0x57ed0f['textContent'])],function(_0x5c3f04){_0x5c3f04?console['error']('Fehler\x20beim\x20Einfügen\x20in\x20die\x20Tabelle\x20\x27'+_0x40daa6+'\x27:',_0x5c3f04['message']):console['log']('Eintrag\x20erfolgreich\x20hinzugefügt:',this['lastID']);});}return _0x45d7b2=Math['round'](++_0x4210f3/_0x3c9e08*0x64),_0x25bc67['sender']['send']('fetch-progress',_0x45d7b2,!![]),_0x2b28c9&&(_0x25bc67['sender']['send']('fetch-progress',0x0,!![],!![]),await fetch_details_from_list(_0x25bc67,_0x5d3834,_0x2f274b,_0x40daa6,_0x17de49)),new Promise(_0x47b275=>{_0x47b275('Scraping\x20finished!');});}catch(_0x170fc7){if(_0x2b28c9)throw new Error(_0x170fc7);else throw new Error('Fehler\x20bei\x20der\x20Followerliste\x20von\x20'+_0x339abd+'\x20nicht\x20gefunden:\x20'+_0x170fc7);return handle_fail(0x0);}}async function fetch_details_from_list(_0x43583b,_0x286d3a,_0x263f50,_0x1dccaa,_0x98e8ea){let _0x140ba3=0x0,_0x45c72c=0x0;for(let _0x5c4ec6=0x0;_0x5c4ec6<_0x98e8ea['length'];_0x5c4ec6++){console['log']('Processing\x20profile:',_0x98e8ea[_0x5c4ec6]);try{await fetch_account_details(_0x286d3a,_0x98e8ea[_0x5c4ec6],_0x263f50,_0x1dccaa);}catch(_0x1780eb){console['error']('Detailed\x20Scraping\x20von:\x20',_0x98e8ea[_0x5c4ec6],_0x1780eb);throw new Error('Detailed\x20Scraping\x20von:\x20'+_0x98e8ea[_0x5c4ec6]+'\x20'+_0x1780eb);}_0x45c72c=Math['round'](++_0x140ba3/_0x98e8ea['length']*0x64),_0x43583b['sender']['send']('fetch-progress',_0x45c72c,!![],!![]);}}async function fetch_likers_from_post(_0x1b081f,_0x375dac,_0x46357c,_0x205a3f,_0x1684b2,_0x19758a,_0x1b464f){let _0x5e7ba5=0x4,_0x3c570a=0x0,_0x3d9ad2=0x0;try{await setCookiesForUser(_0x375dac,_0x19758a['username']);}catch(_0x517926){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x517926);throw new Error('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x517926);return handle_fail(0x1);return;}_0x3d9ad2=Math['round'](++_0x3c570a/_0x5e7ba5*0x64),_0x1b081f['sender']['send']('fetch-progress',_0x3d9ad2,!![]);try{let _0x4c464d=_0x46357c['substring'](0x0,_0x46357c['lastIndexOf']('/'));_0x4c464d['includes']('/reel/')&&(_0x4c464d=_0x4c464d['replace']('/reel/','/p/'));let _0x5fac64=_0x4c464d+'/liked_by';console['log'](_0x5fac64),await _0x375dac['goto'](_0x5fac64),await delay(0x7d0,0xfa0),await notificationClear(_0x375dac),await delay(0xc8,0x1f4);try{await checkLoginStatus(_0x375dac);}catch(_0x4bfc6b){console['log']('Login-Status\x20nicht\x20ok:\x20'+_0x4bfc6b);throw new Error('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');}_0x3d9ad2=Math['round'](++_0x3c570a/_0x5e7ba5*0x64),_0x1b081f['sender']['send']('fetch-progress',_0x3d9ad2,!![]),await _0x375dac['waitForSelector'](LIKERS_USERNAME_SPALTEN_ARRAY),await delay(0x1f4,0x320);const _0x3cefc8=await _0x375dac['$$'](LIKERS_USERNAME_SPALTEN_ARRAY),_0x3c9a6c=await _0x375dac['$$'](LIKERS_CLEARNAME_SPALTEN_ARRAY);await delay(0x1f4,0x320),console['log'](_0x3cefc8['length']);let _0x13fa3d=path['join'](__dirname,'/likers.csv');_0x3d9ad2=Math['round'](++_0x3c570a/_0x5e7ba5*0x64),_0x1b081f['sender']['send']('fetch-progress',_0x3d9ad2,!![]);_0x205a3f<=0x0&&(_0x205a3f=_0x3cefc8['length']);try{let _0x291e28=[];for(let _0x8cb482=0x0;_0x8cb482<_0x3cefc8['length']&&_0x8cb482<_0x205a3f;_0x8cb482++){_0x291e28['push'](await _0x3cefc8[_0x8cb482]['evaluate'](_0x5626ca=>_0x5626ca['textContent']));try{const _0x204f0b='INSERT\x20INTO\x20'+_0x1684b2+'\x20(username,\x20clearname)\x20VALUES\x20(?,\x20?)';db['run'](_0x204f0b,[await _0x3cefc8[_0x8cb482]['evaluate'](_0xa54b21=>_0xa54b21['textContent']),await _0x3c9a6c[_0x8cb482]['evaluate'](_0x5067ea=>_0x5067ea['textContent'])],function(_0x40cc3a){_0x40cc3a?console['error']('Fehler\x20beim\x20Einfügen\x20in\x20die\x20Tabelle\x20\x27'+_0x1684b2+'\x27:',_0x40cc3a['message']):console['log']('Eintrag\x20erfolgreich\x20hinzugefügt:',this['lastID']);});}catch(_0x48f10b){console['log']('Fehler\x20innerhalb\x20des\x20Fetchen\x20bei\x20i='+_0x8cb482+'\x20:\x20'+_0x48f10b);throw new Error('Fehler\x20innerhalb\x20des\x20Fetchen\x20bei\x20i='+_0x8cb482+'\x20:\x20'+_0x48f10b);return handle_fail(0x1);}}return _0x3d9ad2=Math['round'](++_0x3c570a/_0x5e7ba5*0x64),_0x1b081f['sender']['send']('fetch-progress',_0x3d9ad2,!![]),_0x1b464f&&(_0x1b081f['sender']['send']('fetch-progress',0x0,!![],!![]),await fetch_details_from_list(_0x1b081f,_0x375dac,_0x19758a,_0x1684b2,_0x291e28)),new Promise(_0x3dabd1=>{_0x3dabd1('Scraping\x20finished!');});}catch(_0x507ceb){console['log']('Nicht\x20in\x20Likers\x20Datei\x20geschrieben');throw new Error(_0x507ceb);return handle_fail(0x1);}}catch(_0xce1df6){console['log']('Like-Seite\x20nicht\x20geöffnet'+_0xce1df6);throw new Error('Like-Seite\x20nicht\x20geöffnet:\x20'+_0xce1df6);return handle_fail(0x1);}}async function fetch_comments_from_post(_0x46f0a6,_0x30bd97,_0x3f2713,_0xe609d9,_0x419883,_0x5c26bb,_0x2bd49a){let _0x13a5c0=0x3,_0x5c5741=0x0,_0x34d2e3=0x0;try{await setCookiesForUser(_0x30bd97,_0x5c26bb['username']);}catch(_0x305039){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x305039);throw new Error('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x305039);return handle_fail(0x2);}try{console['log'](_0x3f2713),await _0x30bd97['goto'](_0x3f2713),await delay(0x7d0,0xfa0),await notificationClear(_0x30bd97),await delay(0xc8,0x1f4);const _0x1ebc4a=COM_COMMENTS_BOX_BODY_DIV;try{await checkLoginStatus(_0x30bd97);}catch(_0x336602){console['log']('Login-Status\x20nicht\x20ok:\x20'+_0x336602);throw new Error('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');}let _0x47d542;const _0x5a902a=await _0x30bd97['waitForSelector'](COM_ANZAHL_LIKERS_SPAN);await delay(0x12c,0x320);let _0x252b15=await _0x30bd97['evaluate'](_0x135de4=>_0x135de4['innerHTML'],_0x5a902a),_0x4b317a=String(_0x252b15)['replace'](/[^0-9]/g,''),_0x468195=Number(_0x4b317a)/0x14;_0xe609d9<=0x0?_0x47d542=Math['ceil'](_0x468195/0x3):_0x47d542=Math['ceil'](_0xe609d9/0x3);_0x13a5c0+=_0x47d542,_0x34d2e3=Math['round'](++_0x5c5741/_0x13a5c0*0x64),_0x46f0a6['sender']['send']('fetch-progress',_0x34d2e3,!![]),console['log']('Auto-scrolls:\x20'+_0x47d542),await scroll(_0x30bd97,_0x1ebc4a,_0x47d542,_0x443ce7=>{_0x34d2e3=Math['round'](++_0x5c5741/_0x13a5c0*0x64),_0x46f0a6['sender']['send']('fetch-progress',_0x34d2e3,!![]);});try{const _0x1c1ca8=COM_REPLY_BUTTON_SPAN,_0x36e2b4=await waitForXPathAll(_0x30bd97,_0x1c1ca8);console['log']('Reply-Buttons\x20gefunden:\x20ANZAHL:\x20'+_0x36e2b4['size']),await delay(0x1f4,0x320);let _0x4dfec9=_0x36e2b4['size'],_0x22c1ec=[];for(const [_0x1b45cb,_0x37abec]of _0x36e2b4){_0x22c1ec['push'](_0x37abec);}console['log']('Alle\x20Reply-Buttons:',_0x22c1ec['length']);try{for(let _0x3cd056=0x0;_0x3cd056<_0x4dfec9;_0x3cd056++){await _0x22c1ec[_0x3cd056]['click'](),await delay(0x320,0x5dc);}}catch(_0x4e592b){console['log']('Nicht\x20auf\x20Replies\x20geklickt\x20'+_0x4e592b);throw new Error('Nicht\x20auf\x20Replies\x20geklickt:\x20'+_0x4e592b);return handle_fail(0x2);}}catch(_0x56c78f){console['log']('Kein\x20Reply-Button\x20gefunden.\x20Überspringe\x20Schritt');}const _0x1f1b6b=COM_COMMENTS_USERNAME_ARRAY_SPAN;await _0x30bd97['waitForSelector'](_0x1f1b6b),await delay(0x1f4,0x320),_0x34d2e3=Math['round'](++_0x5c5741/_0x13a5c0*0x64),_0x46f0a6['sender']['send']('fetch-progress',_0x34d2e3,!![]);const _0x36d5a4=await _0x30bd97['$$'](_0x1f1b6b);let _0x5e23c1=path['join'](__dirname,'/comments.csv');_0xe609d9<=0x0&&(_0xe609d9=_0x36d5a4['length']);console['log']('fetch_limit:\x20'+_0xe609d9),console['log']('comments_len:\x20'+_0x36d5a4['length']),_0xe609d9++;try{let _0x43eac3=[];for(let _0x2cae39=0x1;_0x2cae39<_0x36d5a4['length']&&_0x2cae39<_0xe609d9;_0x2cae39++){try{_0x43eac3['push'](await _0x36d5a4[_0x2cae39]['evaluate'](_0x3181e1=>_0x3181e1['textContent']));const _0x39bcf3=await db['prepare']('INSERT\x20INTO\x20'+_0x419883+'\x20(username)\x20VALUES\x20(?)');await _0x39bcf3['run'](await _0x36d5a4[_0x2cae39]['evaluate'](_0x518b7a=>_0x518b7a['textContent']),function(_0x347574){_0x347574&&console['log']('error\x20in\x20add-user:'+_0x347574);}),await _0x39bcf3['finalize']();}catch(_0x231a42){console['log']('Fehler\x20innerhalb\x20des\x20Fetchen\x20bei\x20i='+_0x2cae39+'\x20:\x20'+_0x231a42);throw new Error('Fehler\x20innerhalb\x20des\x20Fetchen\x20bei\x20i='+_0x2cae39+'\x20:\x20'+_0x231a42);return handle_fail(0x2);}}return await delay(0x4b0,0x7d0),_0x34d2e3=Math['round'](++_0x5c5741/_0x13a5c0*0x64),_0x46f0a6['sender']['send']('fetch-progress',_0x34d2e3,!![]),_0x46f0a6['sender']['send']('fetch-progress',0x64,!![]),_0x2bd49a&&(_0x46f0a6['sender']['send']('fetch-progress',0x0,!![],!![]),await fetch_details_from_list(_0x46f0a6,_0x30bd97,_0x5c26bb,_0x419883,_0x43eac3)),_0x46f0a6['sender']['send']('fetch-progress',0x64,![]),new Promise(_0x5b1882=>{_0x5b1882('Scraping\x20finished!');});}catch(_0x58c176){console['log']('Nicht\x20in\x20Comments\x20Datei\x20geschrieben');throw new Error(_0x58c176);return handle_fail(0x2);}}catch(_0x276630){console['log']('Comments-Seite\x20nicht\x20geöffnet'+_0x276630);throw new Error('Comments-Seite\x20nicht\x20geöffnet:\x20'+_0x276630);return handle_fail(0x2);}}async function set_clearname_from_username(_0x5beab0,_0x2a2533,_0x3dc724=null){try{let _0x44c7c3,_0x594092;const _0x1746f9='SELECT\x20username\x20FROM\x20'+_0x2a2533+'\x20WHERE\x20clearname\x20IS\x20NULL';db['all'](_0x1746f9,[],(_0x47740c,_0x33e798)=>{_0x47740c&&console['error']('Fehler\x20beim\x20Abrufen\x20der\x20Daten:',_0x47740c['message']),_0x33e798['length']===0x0&&(_0x594092=_0x33e798['length']),_0x44c7c3=_0x33e798['map'](_0x3d147f=>_0x3d147f['username']);}),await delay(0x4b0,0x7d0),console['log']('USERNAME:\x20'+_0x594092);if(_0x594092===0x0){console['log']('Leave');return;}const _0x3e9958=await _0x5beab0['waitForSelector'](IG_SEARCH_BUTTON);await _0x3e9958['click'](),await delay(0x4b0,0x7d0);for(let _0x4940c7 of _0x44c7c3){const _0xe3e063=await _0x5beab0['waitForSelector'](IG_SEARCH_INPUT);await _0xe3e063['click']({'clickCount':0x3}),await delay(0x320,0x3e8),await _0x5beab0['type'](IG_SEARCH_INPUT,_0x4940c7,{'delay':getRnd(0x50,0x78)}),await delay(0x4b0,0x7d0);let _0x2390f8=0x1;while(_0x2390f8!=0x14){console['log']('Schleife');try{let _0xc0e557=IG_NAME_SPAN_PART1+_0x2390f8+IG_USERNAME_SPAN_PART2;const _0x28c4bc=await _0x5beab0['waitForSelector'](_0xc0e557),_0x15c0d2=await _0x5beab0['evaluate'](_0x585ded=>_0x585ded['innerHTML'],_0x28c4bc);await delay(0xc8,0x1f4);if(_0x15c0d2==_0x4940c7){let _0x42d036=IG_NAME_SPAN_PART1+_0x2390f8+IG_CLEARNAME_SPAN_PART2;console['log']('Username\x20gefunden');const _0x3c06b4=await _0x5beab0['waitForSelector'](_0x42d036);let _0x297bbc=await _0x5beab0['evaluate'](_0x1b8505=>_0x1b8505['innerHTML'],_0x3c06b4);const _0x394985=/^(.*?)(?:\s*•\s*)(\d+[,.]?\d*\s*(Tsd\.|Mio\.|Mrd\.)?\s*Follower)$/,_0x21a922=_0x297bbc['match'](_0x394985);_0x21a922?_0x297bbc=_0x21a922[0x1]['trim']():_0x297bbc=_0x297bbc['trim']();_0x297bbc['includes']('•')&&(_0x297bbc=_0x297bbc['substring'](0x0,_0x297bbc['indexOf']('•')-0x1));const _0x58893d='UPDATE\x20'+_0x2a2533+'\x20SET\x20clearname\x20=\x20?\x20WHERE\x20username\x20=\x20?';db['run'](_0x58893d,[_0x297bbc,_0x15c0d2],function(_0x3106af){_0x3106af&&console['error']('Fehler\x20beim\x20Aktualisieren\x20von\x20clearname:',_0x3106af['message']),this['changes']===0x0&&console['log']('Kein\x20Eintrag\x20gefunden,\x20der\x20aktualisiert\x20werden\x20konnte.'),console['log']('Eintrag\x20erfolgreich\x20aktualisiert.');});break;}_0x2390f8++;}catch(_0x35dbc7){const _0x1b8044='UPDATE\x20'+_0x2a2533+'\x20SET\x20clearname\x20=\x20?\x20WHERE\x20username\x20=\x20?';db['run'](_0x1b8044,['',_0x4940c7],function(_0x18347c){_0x18347c&&console['error']('Fehler\x20beim\x20Aktualisieren\x20von\x20clearname:',_0x18347c['message']),this['changes']===0x0&&console['log']('Kein\x20Eintrag\x20gefunden,\x20der\x20aktualisiert\x20werden\x20konnte.'),console['log']('Eintrag\x20erfolgreich\x20aktualisiert.');}),console['log']('User\x20nicht\x20gefunden:'+_0x35dbc7);break;}}_0x3dc724&&_0x3dc724();}await _0x3e9958['click']();}catch(_0xe0ac51){console['log']('Keine\x20Usernames\x20mit\x20NULL-Clearnames\x20gefunden.\x20Überspringen.'),console['log']('Info:\x20'+_0xe0ac51);}}const campaignPath=path['join'](SqlDataDirectory,'/campaign.db'),campaignDB=new sqlite3['Database'](campaignPath);campaignDB['serialize'](()=>{campaignDB['run']('CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20message\x20(message_id\x20INTEGER\x20PRIMARY\x20KEY,\x20message_text\x20TEXT)'),campaignDB['run']('\x0a\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20campaign\x20(\x0a\x20\x20\x20\x20\x20\x20campaign_name\x20\x20\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20list_id\x20\x20\x20\x20\x20\x20\x20\x20\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20zeitabstand\x20\x20\x20\x20\x20REAL,\x0a\x20\x20\x20\x20\x20\x20message_id\x20\x20\x20\x20\x20\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20account\x20\x20\x20\x20\x20\x20\x20\x20\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20skipFollowing\x20\x20\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20skipChatted\x20\x20\x20\x20\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20FOREIGN\x20KEY(message_id)\x20REFERENCES\x20messages(message_id)\x0a\x20\x20\x20\x20)\x0a\x20\x20'),campaignDB['run']('ALTER\x20TABLE\x20campaign\x20ADD\x20COLUMN\x20skipFollowing\x20INTEGER\x20DEFAULT\x200',()=>{}),campaignDB['run']('ALTER\x20TABLE\x20campaign\x20ADD\x20COLUMN\x20skipChatted\x20INTEGER\x20DEFAULT\x200',()=>{}),campaignDB['run']('CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20dm\x20(dm_id\x20INTEGER\x20PRIMARY\x20KEY,\x20message_id\x20INTEGER,\x20account\x20TEXT,\x20username\x20TEXT,\x20list_id\x20TEXT,\x20date\x20TIMESTAMP\x20DEFAULT\x20CURRENT_TIMESTAMP,\x20FOREIGN\x20KEY\x20(message_id)\x20REFERENCES\x20messages\x20(message_id))');}),ipcMain['handle']('get-campaigns',async()=>{return new Promise((_0x11992a,_0x36fd7b)=>{const _0x5b4c63='SELECT\x20campaign_name\x20FROM\x20campaign';campaignDB['all'](_0x5b4c63,[],(_0x191b81,_0xb15d61)=>{_0x191b81?_0x36fd7b(_0x191b81):_0x11992a(_0xb15d61);});});}),ipcMain['handle']('get-campaign-details',async()=>{return new Promise((_0x49c816,_0x2d76d5)=>{const _0x207161='SELECT\x20campaign_name,\x20list_id\x20FROM\x20campaign';campaignDB['all'](_0x207161,[],async(_0x525192,_0x26b2eb)=>{if(_0x525192)console['error']('Fehler\x20beim\x20Abrufen\x20der\x20Kampagnen:',_0x525192['message']),_0x2d76d5({'status':'error','message':_0x525192['message']});else try{const _0x26b5da=await Promise['all'](_0x26b2eb['map'](_0x3be6ac=>{return new Promise(_0x4f26ab=>{if(!_0x3be6ac['list_id']){console['warn']('Fehlende\x20list_id\x20für\x20Kampagne:\x20'+_0x3be6ac['campaign_name']),_0x4f26ab({'campaign_name':_0x3be6ac['campaign_name'],'lead_count':'N/A','contacted_count':'N/A'});return;}const _0x50f608='SELECT\x20COUNT(*)\x20as\x20lead_count\x20FROM\x20'+_0x3be6ac['list_id'],_0x768b69='SELECT\x20COUNT(*)\x20as\x20contacted_count\x20FROM\x20campaign\x20LEFT\x20JOIN\x20dm\x20ON\x20campaign.list_id\x20=\x20dm.list_id\x20WHERE\x20dm.list_id\x20=\x20\x22'+_0x3be6ac['list_id']+'\x22';db['get'](_0x50f608,[],(_0x20e976,_0x34a787)=>{_0x20e976?(console['error']('Fehler\x20beim\x20Abrufen\x20der\x20Leads\x20für\x20'+_0x3be6ac['campaign_name']+':',_0x20e976['message']),_0x4f26ab({'campaign_name':_0x3be6ac['campaign_name'],'lead_count':'N/A','contacted_count':'N/A'})):campaignDB['get'](_0x768b69,[],(_0x415f74,_0x3506b2)=>{_0x415f74?(console['error']('Fehler\x20beim\x20Abrufen\x20der\x20kontaktierten\x20Nutzer\x20für\x20'+_0x3be6ac['campaign_name']+':',_0x415f74['message']),_0x4f26ab({'campaign_name':_0x3be6ac['campaign_name'],'lead_count':_0x34a787?_0x34a787['lead_count']:0x0,'contacted_count':'N/A'})):_0x4f26ab({'campaign_name':_0x3be6ac['campaign_name'],'lead_count':_0x34a787?_0x34a787['lead_count']:0x0,'contacted_count':_0x3506b2?_0x3506b2['contacted_count']:0x0});});});});}));_0x49c816({'status':'success','campaigns':_0x26b5da});}catch(_0x2c0c87){console['error']('Fehler\x20bei\x20der\x20Verarbeitung\x20der\x20Kampagnendetails:',_0x2c0c87),_0x2d76d5({'status':'error','message':_0x2c0c87['message']});}});});}),ipcMain['handle']('get-campaign-writer-information',async(_0x217017,_0x5c0170)=>{return new Promise((_0x212120,_0x39c18c)=>{const _0x49918a='SELECT\x20campaign.list_id,\x20message.message_text,\x20message.message_id,\x20campaign.zeitabstand,\x20campaign.account,\x20skipFollowing,\x20skipChatted\x20FROM\x20campaign\x20LEFT\x20JOIN\x20message\x20ON\x20campaign.message_id\x20=\x20message.message_id\x20WHERE\x20campaign.campaign_name\x20=\x20?;';campaignDB['all'](_0x49918a,[_0x5c0170],(_0x4c61c0,_0x4363aa)=>{_0x4c61c0?(console['error']('Fehler\x20beim\x20Abrufen\x20der\x20Kampagnendetails:',_0x4c61c0),_0x39c18c(_0x4c61c0)):(console['log']('ROWS'),console['log'](_0x4363aa),debugDatabaseContents(),_0x212120(_0x4363aa));});});});const showTableContents=_0x4b2c2a=>{return new Promise((_0x1973c4,_0x2b90b7)=>{const _0x59cfa1='SELECT\x20*\x20FROM\x20'+_0x4b2c2a+';';campaignDB['all'](_0x59cfa1,(_0x1298cd,_0x42c3f0)=>{_0x1298cd?(console['error']('Fehler\x20beim\x20Abrufen\x20der\x20Daten\x20aus\x20'+_0x4b2c2a+':',_0x1298cd),_0x2b90b7(_0x1298cd)):(console['log']('Inhalt\x20der\x20Tabelle\x20'+_0x4b2c2a+':',_0x42c3f0),_0x1973c4({'status':'success','message':_0x42c3f0}));});});};async function debugDatabaseContents(){try{console['log']('Inhalt\x20der\x20Tabelle\x20\x27campaign\x27:'),await showTableContents('campaign'),console['log']('Inhalt\x20der\x20Tabelle\x20\x27message\x27:'),await showTableContents('message'),console['log']('Inhalt\x20der\x20Tabelle\x20\x27dm\x27:'),await showTableContents('dm');}catch(_0x2be6c0){console['error']('Fehler\x20beim\x20Debuggen\x20der\x20Tabelleninhalte:',_0x2be6c0);}}ipcMain['handle']('create-campaign',async(_0x331252,_0x48221f)=>{return new Promise((_0x54b082,_0x54df9f)=>{const _0x51e821='INSERT\x20INTO\x20campaign\x20(campaign_name)\x20VALUES\x20(?)';campaignDB['run'](_0x51e821,[String(_0x48221f)],function(_0x25161f){_0x25161f?_0x54df9f(_0x25161f):_0x54b082({'status':'success','message':'Campaign\x20created\x20successfully'});});});}),ipcMain['handle']('delete-campaign',async(_0x44fcf4,_0x58a030)=>{return new Promise((_0x279780,_0x5ab5c7)=>{const _0x3c25fc='DELETE\x20FROM\x20campaign\x20WHERE\x20campaign_name\x20=\x20?';campaignDB['run'](_0x3c25fc,[_0x58a030],function(_0x3abb13){_0x3abb13?_0x5ab5c7(_0x3abb13):_0x279780({'status':'success','message':'Campaign\x20deleted\x20successfully'});});});}),ipcMain['handle']('update-campaign',async(_0x2b08d5,_0x2de663,_0x28104a,_0x364a27,_0x18b407,_0x184d02,_0x5ed246,_0x3d6d42)=>{const _0x404fe7=await createMessageID(_0x18b407);return new Promise((_0x3dab4e,_0x144678)=>{if(!_0x2de663||!_0x28104a||!_0x364a27||!_0x404fe7||!_0x184d02)return _0x144678({'status':'error','message':'Fehlende\x20Eingabe,\x20bitte\x20prüfen!'});console['log']('Message-ID:\x20'+_0x404fe7);const _0xc3d6c4='\x0a\x20\x20\x20\x20\x20\x20UPDATE\x20campaign\x20\x0a\x20\x20\x20\x20\x20\x20SET\x20list_id\x20=\x20?,\x20zeitabstand\x20=\x20?,\x20message_id\x20=\x20?,\x20account\x20=\x20?,\x20skipFollowing\x20=\x20?,\x20skipChatted\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20WHERE\x20campaign_name\x20=\x20?\x0a\x20\x20\x20\x20';campaignDB['run'](_0xc3d6c4,[_0x28104a,_0x364a27,_0x404fe7,_0x184d02,_0x5ed246,_0x3d6d42,_0x2de663],function(_0x1bf58c){if(_0x1bf58c)_0x144678({'status':'error','message':_0x1bf58c['message']});else this['changes']===0x0?_0x144678({'status':'error','message':'Kein\x20Eintrag\x20gefunden,\x20der\x20aktualisiert\x20werden\x20kann.'}):_0x3dab4e({'status':'success','message':'Kampagne\x20erfolgreich\x20aktualisiert!'});});});}),ipcMain['handle']('update-dm',(_0x81067,_0x2db219,_0x55f583,_0x2eef05,_0x34af46)=>{return new Promise((_0x144141,_0x4f9ecb)=>{const _0x475786='INSERT\x20INTO\x20dm\x20(message_id,\x20account,\x20username,\x20list_id)\x20VALUES\x20(?,\x20?,\x20?,\x20?)';campaignDB['run'](_0x475786,[_0x2db219,_0x55f583,_0x2eef05,_0x34af46],function(_0x104752){return _0x104752?(console['error']('Fehler\x20beim\x20Einfügen\x20in\x20die\x20Tabelle\x20\x27dm\x27:',_0x104752['message']),_0x4f9ecb('insert-dm-response',{'success':![],'message':_0x104752['message']})):(console['log']('Eintrag\x20erfolgreich\x20hinzugefügt:',this['lastID']),_0x144141('insert-dm-response',{'success':!![],'message':'Eintrag\x20erfolgreich\x20hinzugefügt'}));});});});const createMessageID=_0x209092=>{return new Promise((_0x4df1b4,_0x25dfb9)=>{const _0x445fdf='SELECT\x20message_id\x20FROM\x20message\x20WHERE\x20message_text\x20=\x20?';campaignDB['get'](_0x445fdf,[_0x209092],(_0x1ce5ca,_0x42edbe)=>{if(_0x1ce5ca)_0x25dfb9({'status':'error','message':_0x1ce5ca['message']});else{if(_0x42edbe)_0x4df1b4(_0x42edbe['message_id']);else{const _0x10d9bf='INSERT\x20INTO\x20message\x20(message_text)\x20VALUES\x20(?)';campaignDB['run'](_0x10d9bf,[_0x209092],function(_0x2c3010){_0x2c3010?_0x25dfb9({'status':'error','message':_0x2c3010['message']}):_0x4df1b4(this['lastID']);});}}});});};ipcMain['handle']('get-lead_count',async(_0xfbab1e,_0x906c95)=>{return new Promise((_0x322099,_0x536968)=>{const _0x224537='SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20'+_0x906c95;db['get'](_0x224537,(_0x753be9,_0x1ae264)=>{_0x753be9?_0x536968({'status':'error','message':_0x753be9['message']}):_0x322099({'status':'success','count':_0x1ae264['count']});});});});const dbPath=path['join'](SqlDataDirectory,'/crm.db'),db=new sqlite3['Database'](dbPath);db['serialize'](()=>{db['run']('CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20leads\x20(username\x20TEXT\x20PRIMARY\x20KEY,\x20clearname\x20TEXT,\x20ProfilePic\x20TEXT,\x20Bio\x20TEXT,\x20Follower_Count\x20Integer,\x20Following_Count\x20Integer,\x20Post_Count\x20Integer,\x20Isverified\x20Boolean,\x20Isprivat\x20Boolean,\x20IsBusiness\x20Boolean)');});const igaccountsPath=path['join'](SqlDataDirectory,'/igaccounts.db');console['log']('igaccountsPath:\x20'+igaccountsPath);const igaccountsDB=new sqlite3['Database'](igaccountsPath);igaccountsDB['serialize'](()=>{igaccountsDB['run']('CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20accounts\x20(username\x20TEXT\x20PRIMARY\x20KEY,\x20cookie\x20TEXT)');});async function setCookiesForUser(_0x1d9e64,_0x4c6390){try{const _0x27737b=await new Promise((_0x42428,_0x408344)=>{igaccountsDB['all']('SELECT\x20cookie\x20FROM\x20accounts\x20WHERE\x20username=?',[_0x4c6390],(_0x1cdd8a,_0x4667bd)=>{if(_0x1cdd8a)_0x408344(_0x1cdd8a);else{if(_0x4667bd['length']>0x0){let _0x2db3b1=JSON['parse'](_0x4667bd[0x0]['cookie']);console['log'](_0x2db3b1),_0x42428(_0x2db3b1);}else _0x408344(new Error('User\x20with\x20username\x20'+_0x4c6390+'\x20does\x20not\x20exist.'));}});});await _0x1d9e64['setCookie'](..._0x27737b),console['log']('Cookies\x20were\x20successfully\x20added.');}catch(_0x21f9d4){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:\x20'+_0x21f9d4);}}async function saveCookiesForUser(_0x3f4685,_0x2e3d12){try{const _0x23ba55=await _0x3f4685['cookies']();if(!_0x23ba55||_0x23ba55['length']===0x0)throw new Error('Keine\x20gültigen\x20Cookies\x20gefunden\x20für\x20'+_0x2e3d12);const _0x26917a=JSON['stringify'](_0x23ba55);if(_0x26917a['trim']()==='[]')throw new Error('Cookies\x20sind\x20leer\x20für\x20'+_0x2e3d12);return new Promise((_0x3e617e,_0x3ab448)=>{igaccountsDB['get']('SELECT\x20username\x20FROM\x20accounts\x20WHERE\x20username\x20=\x20?',[_0x2e3d12],(_0x5b21e7,_0x1b875d)=>{if(_0x5b21e7)return console['error']('Error\x20checking\x20user\x20existence:',_0x5b21e7),_0x3ab448(_0x5b21e7);if(_0x1b875d){const _0x1f0324=igaccountsDB['prepare']('UPDATE\x20accounts\x20SET\x20cookie\x20=\x20?\x20WHERE\x20username\x20=\x20?');_0x1f0324['run'](_0x26917a,_0x2e3d12,function(_0xfdd096){return _0xfdd096?(console['error']('Error\x20updating\x20cookies:',_0xfdd096),_0x3ab448(_0xfdd096)):(console['log']('Cookies\x20updated\x20for\x20user:',_0x2e3d12),_0x3e617e());});}else{const _0x109ecb=igaccountsDB['prepare']('INSERT\x20INTO\x20accounts\x20(username,\x20cookie)\x20VALUES\x20(?,\x20?)');_0x109ecb['run'](_0x2e3d12,_0x26917a,function(_0x435261){return _0x435261?(console['error']('Error\x20inserting\x20new\x20user\x20and\x20cookies:',_0x435261),_0x3ab448(_0x435261)):(console['log']('New\x20user\x20created\x20and\x20cookies\x20saved\x20for\x20user:',_0x2e3d12),_0x3e617e());});}});});}catch(_0x2aa98a){console['error']('Error\x20fetching\x20cookies:',_0x2aa98a);throw _0x2aa98a;}}async function createUserIfNotExists(_0x51a7de){try{igaccountsDB['get']('SELECT\x20username\x20FROM\x20accounts\x20WHERE\x20username\x20=\x20?',[_0x51a7de],(_0x46ac8d,_0x2e9d22)=>{if(_0x46ac8d){console['error']('Error\x20checking\x20user\x20existence:',_0x46ac8d);throw _0x46ac8d;}else{if(!_0x2e9d22){const _0xe7be19=igaccountsDB['prepare']('INSERT\x20INTO\x20accounts\x20(username)\x20VALUES\x20(?)');_0xe7be19['run'](_0x51a7de,function(_0x2dfa00){_0x2dfa00?console['error']('Error\x20inserting\x20new\x20user:',_0x2dfa00):console['log']('New\x20user\x20created:',_0x51a7de);});}else console['log']('User\x20already\x20exists:',_0x51a7de);}});}catch(_0x205ea4){console['error']('Error\x20creating\x20user:',_0x205ea4);throw _0x205ea4;}}ipcMain['handle']('create-relation',async(_0x3d2c40,_0x57f135)=>{return new Promise((_0x8f9ecc,_0x1b9ec7)=>{const _0x564942='CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20'+_0x57f135+'\x20(username\x20TEXT\x20PRIMARY\x20KEY,\x20clearname\x20TEXT,\x20ProfilePic\x20TEXT,\x20Bio\x20TEXT,\x20Follower_Count\x20Integer,\x20Following_Count\x20Integer,\x20Post_Count\x20Integer,\x20Isverified\x20Boolean,\x20Isprivat\x20Boolean,\x20IsBusiness\x20Boolean)';db['run'](_0x564942,function(_0x352ded){_0x352ded?_0x1b9ec7(_0x352ded):_0x8f9ecc({'status':'success'});});});}),ipcMain['handle']('delete-relation',async(_0x81ffd9,_0x4e1a38)=>{return console['log']('droping\x20table'+_0x4e1a38),new Promise((_0x4aaa07,_0x4c7751)=>{const _0x2f2485='DROP\x20TABLE\x20IF\x20EXISTS\x20'+_0x4e1a38;console['log']('droping\x20table'+_0x4e1a38),db['run'](_0x2f2485,function(_0x5ad66c){_0x5ad66c?_0x4c7751(_0x5ad66c):_0x4aaa07({'status':'success'});});});}),ipcMain['handle']('get-relations',async _0x4af6d6=>{return new Promise((_0x1b4d81,_0x1da875)=>{const _0x34476a='SELECT\x20name\x20FROM\x20sqlite_master\x20WHERE\x20type=\x27table\x27';db['all'](_0x34476a,[],(_0x1cb284,_0x20bf23)=>{_0x1cb284?_0x1da875(_0x1cb284):_0x1b4d81(_0x20bf23['map'](_0x22f68d=>_0x22f68d['name']));});});}),ipcMain['handle']('add-user',async(_0x4c808d,_0x5cf754,_0x30b35a)=>{return new Promise(_0x25ed9a=>{const _0x5a3683=db['prepare']('INSERT\x20INTO\x20'+_0x30b35a+'\x20(username)\x20VALUES\x20(?)');_0x5a3683['run'](_0x5cf754,function(_0x4ee647){_0x4ee647?console['log']('error\x20in\x20add-user:'+_0x4ee647):_0x25ed9a({'status':'success','id':this['lastID']});}),_0x5a3683['finalize']();});}),ipcMain['handle']('get-users',async()=>{return new Promise((_0x4d4732,_0x3c62f5)=>{db['all']('SELECT\x20*\x20FROM\x20leads',(_0x2ea9b7,_0x5c865b)=>{if(_0x2ea9b7)_0x3c62f5(_0x2ea9b7);else{_0x4d4732({'status':'success','users':_0x5c865b});for(_0x5c865b of _0x5c865b){console['log'](_0x5c865b['username']);}}});});}),ipcMain['handle']('get-data',async(_0x4c14e4,_0x1896ab)=>{return new Promise((_0x18323e,_0x2a52dd)=>{const _0x17ecc3='SELECT\x20*\x20FROM\x20'+_0x1896ab;console['log'](_0x17ecc3),db['all'](_0x17ecc3,[],(_0x169e68,_0x14e943)=>{_0x169e68?_0x2a52dd(_0x169e68):_0x18323e(_0x14e943);});});}),ipcMain['handle']('get-accounts',async _0x45a790=>{return new Promise((_0x29eb0d,_0x344cb7)=>{const _0x52ea1a='SELECT\x20*\x20FROM\x20accounts';console['log'](_0x52ea1a),igaccountsDB['all'](_0x52ea1a,[],(_0x4535ba,_0x542366)=>{_0x4535ba?_0x344cb7(_0x4535ba):_0x29eb0d(_0x542366);});});}),ipcMain['handle']('get-targets',async(_0x30c2b0,_0x4fd134)=>{return getTargetProfiles(_0x4fd134);}),ipcMain['handle']('delete-user',async(_0x324577,_0x1d2952,_0x3647e8)=>{return new Promise((_0x51816c,_0x26596f)=>{const _0x191c35=db['prepare']('DELETE\x20FROM\x20'+_0x3647e8+'\x20WHERE\x20username\x20=\x20?');_0x191c35['run'](_0x1d2952,function(_0x502d0c){_0x502d0c?_0x26596f(_0x502d0c):_0x51816c({'status':'success','changes':this['changes']});}),_0x191c35['finalize']();});}),ipcMain['handle']('delete-account',async(_0x5e8afa,_0x2a09c2)=>{const _0x38ae81=igaccountsDB['prepare']('DELETE\x20FROM\x20accounts\x20WHERE\x20username\x20=\x20?');_0x38ae81['run'](_0x2a09c2,function(_0x227eeb){_0x227eeb&&console['log'](_0x227eeb);}),_0x38ae81['finalize']();}),ipcMain['handle']('get-contacted-count-this-month',async()=>{return new Promise((_0x55c6b2,_0x13bde2)=>{const _0x2dd476='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20COUNT(*)\x20as\x20contactedCount\x0a\x20\x20\x20\x20\x20\x20FROM\x20dm\x0a\x20\x20\x20\x20\x20\x20WHERE\x20strftime(\x27%Y-%m\x27,\x20date)\x20=\x20strftime(\x27%Y-%m\x27,\x20\x27now\x27)\x0a\x20\x20\x20\x20';campaignDB['get'](_0x2dd476,[],(_0x32e093,_0x510649)=>{_0x32e093?_0x13bde2({'status':'error','message':_0x32e093['message']}):_0x55c6b2({'status':'success','contactedCount':_0x510649['contactedCount']});});});}),ipcMain['handle']('get-contacted-count-today',async()=>{return new Promise((_0x5aa369,_0x459aa2)=>{const _0x1977f7='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20COUNT(*)\x20as\x20contactedCount\x0a\x20\x20\x20\x20\x20\x20FROM\x20dm\x0a\x20\x20\x20\x20\x20\x20WHERE\x20date(date)\x20=\x20date(\x27now\x27)\x0a\x20\x20\x20\x20';campaignDB['get'](_0x1977f7,[],(_0x111761,_0x2c428e)=>{_0x111761?_0x459aa2({'status':'error','message':_0x111761['message']}):_0x5aa369({'status':'success','contactedCount':_0x2c428e['contactedCount']});});});});function exportDatabase(_0x1a26da){return new Promise((_0x378bcc,_0x385b66)=>{const _0xf401ab='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20username,\x20Follower_Count,\x20Following_Count,\x20Post_Count,\x20clearname,\x20Bio\x0a\x20\x20\x20\x20\x20\x20FROM\x20'+_0x1a26da+'\x0a\x20\x20\x20\x20';db['all'](_0xf401ab,[],async(_0xbe3c52,_0x335a2f)=>{if(_0xbe3c52){console['error']('Fehler\x20bei\x20der\x20Abfrage:',_0xbe3c52['message']),_0x385b66(_0xbe3c52);return;}if(!_0x335a2f||_0x335a2f['length']===0x0){console['log']('Keine\x20Daten\x20gefunden.'),_0x378bcc();return;}const _0x53fbf2=XLSX['utils']['json_to_sheet'](_0x335a2f),_0x1a21a7=XLSX['utils']['sheet_to_csv'](_0x53fbf2);try{const {canceled:_0x26c365,filePath:_0x34d0ea}=await dialog['showSaveDialog']({'title':'CSV-Datei\x20exportieren','defaultPath':path['join'](app['getPath']('documents'),_0x1a26da+'.csv'),'buttonLabel':'Speichern','filters':[{'name':'CSV\x20Files','extensions':['csv']},{'name':'All\x20Files','extensions':['*']}]});if(_0x26c365||!_0x34d0ea){console['log']('Speichern\x20abgebrochen.'),_0x378bcc();return;}fs['writeFile'](_0x34d0ea,_0x1a21a7,'utf8',_0x23c1ad=>{_0x23c1ad?(console['error']('Fehler\x20beim\x20Schreiben\x20der\x20Datei:',_0x23c1ad['message']),_0x385b66(_0x23c1ad)):(console['log']('CSV-Datei\x20erfolgreich\x20exportiert:',_0x34d0ea),_0x378bcc());});}catch(_0x2555bc){console['error']('Fehler\x20im\x20Speicherdialog:',_0x2555bc),_0x385b66(_0x2555bc);}});});}ipcMain['handle']('start-stripe-checkout',async(_0x29f336,_0x492c4d)=>{shell['openExternal'](_0x492c4d);});