const {app,BrowserWindow,ipcMain,dialog,shell,powerSaveBlocker}=require('electron'),path=require('path'),puppeteer=require('puppeteer'),fs=require('fs')['promises'],{convertArrayToCSV}=require('convert-array-to-csv'),{replace}=require('formik'),{spawn}=require('child_process'),sqlite3=require('sqlite3')['verbose'](),XLSX=require('xlsx'),fs_no_promise=require('fs');async function extractFirstName(_0x563e34,_0x5ca20d){try{const _0x303ab3=await fetch('https://extractfirstname-dnfofjyvnq-uc.a.run.app',{'method':'POST','headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+_0x5ca20d},'body':JSON['stringify']({'clearname':_0x563e34})});if(!_0x303ab3['ok']){const _0x19b348=await _0x303ab3['text']();throw new Error(_0x303ab3['status']+':\x20'+_0x19b348);}const _0x472d03=await _0x303ab3['json']();return _0x472d03;}catch(_0x384178){console['error']('Error\x20in\x20extractFirstName:',_0x384178);throw _0x384178;}}const ANZAHL_FOLLOWER_BUTTON='section.xc3tme8.x1xdureb.x18wylqe.x13vxnyz.xvxrpd7\x20>\x20ul\x20>\x20li:nth-child(2)\x20>\x20div\x20>\x20a\x20>\x20span\x20>\x20span\x20>\x20span',FOLLOWER_BUTTON='div.x9f619.x1n2onr6.x1ja2u2z\x20>\x20div\x20>\x20div\x20>\x20div.x78zum5.x1ja2u2z\x20>\x20div:nth-child(2)\x20>\x20div\x20>\x20div.x1gryazu\x20>\x20section\x20>\x20main\x20>\x20div\x20>\x20header\x20>\x20section.xc3tme8\x20>\x20ul\x20>\x20li:nth-child(2)\x20>\x20div\x20>\x20a',FOLLOWER_FENSTER='div:has(>\x20div[style=\x22height:\x20auto;\x20overflow:\x20hidden\x20auto;\x22])',FOLLOWER_USERNAME_SPALTEN_ARRAY='div.x9f619.x1ja2u2z.x78zum5.x1n2onr6.x1iyjqo2.xs83m0k.xeuugli.x1qughib.x6s0dn4.x1a02dak.x1q0g3np.xdl72j9\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20span\x20>\x20div\x20>\x20a\x20>\x20div\x20>\x20div\x20>\x20span',FOLLOWER_CLEARNAME_SPALTEN_ARRAY='div.x9f619.x1ja2u2z.x78zum5.x1n2onr6.x1iyjqo2.xs83m0k.xeuugli.x1qughib.x6s0dn4.x1a02dak.x1q0g3np.xdl72j9\x20>\x20div\x20>\x20div\x20>\x20span\x20>\x20span',LIKERS_USERNAME_SPALTEN_ARRAY='div.x9f619.x1ja2u2z.x78zum5.x1n2onr6.x1iyjqo2.xs83m0k.xeuugli.x1qughib.x6s0dn4.x1a02dak.x1q0g3np.xdl72j9\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20span\x20>\x20div\x20>\x20a\x20>\x20div\x20>\x20div\x20>\x20span',LIKERS_CLEARNAME_SPALTEN_ARRAY='div.x9f619.x1ja2u2z.x78zum5.x1n2onr6.x1iyjqo2.xs83m0k.xeuugli.x1qughib.x6s0dn4.x1a02dak.x1q0g3np.xdl72j9\x20>\x20div\x20>\x20div\x20>\x20span\x20>\x20span',COM_ANZAHL_LIKERS_SPAN='[style=\x22line-height:\x2018px;\x22]',COM_COMMENTS_BOX_BODY_DIV='div.x5yr21d.xw2csxc.x1odjw0f.x1n2onr6',COM_REPLY_BUTTON_SPAN='//span[contains(.,\x20\x27View\x20all\x27)\x20and\x20contains(.,\x20\x27replies\x27)]',COM_COMMENTS_USERNAME_ARRAY_SPAN='span._ap3a._aaco._aacw._aacx._aad7._aade',K_DIRECT_MSG_BUTTON=['//div[@role=\x27button\x27\x20and\x20normalize-space(text())=\x27Message\x27]','div.x9f619.xjbqb8w.x78zum5.x15mokao.x1ga7v0g.x16uus16.xbiv7yw.x1n2onr6.x6ikm8r.x10wlt62.x1iyjqo2.x2lwn1j.xeuugli.xdt5ytf.xqjyukv.x1qjc9v5.x1oa3qoh.x1nhvcw1\x20>\x20div','div.x9f619.xjbqb8w.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.x1n2onr6.x6ikm8r.x10wlt62.x1iyjqo2.x2lwn1j.xeuugli.xdt5ytf.xqjyukv.x1qjc9v5.x1oa3qoh.x1nhvcw1\x20>\x20div'],K_OPTIONS_BUTTON=['[aria-label=\x22Options\x22]','section.x1xdureb.x1agbcgv.xieb3on.x1lhsz42.xr1yuqi.x6ikm8r.x10wlt62.x1jfgfrl\x20>\x20div\x20>\x20div\x20>\x20div:nth-child(3)\x20>\x20div'],K_INNER_MSG_BUTTON='button:nth-child(6)',K_CHAT_INPUT_FIELD=['[aria-label=\x22Message\x22]','div.xzsf02u.x1a2a7pz.x1n2onr6.x14wi4xw.x1iyjqo2.x1gh3ibb.xisnujt.xeuugli.x1odjw0f'],K_SEND_MSG_BUTTON=['//div[@role=\x27button\x27\x20and\x20normalize-space(text())=\x27Send\x27]','div.x1i10hfl.xjqpnuy.xa49m3k.xqeqjp1.x2hbi6w.xdl72j9.x2lah0s.xe8uvvx.xdj266r.x1mh8g0r.x2lwn1j.xeuugli.x1hl2dhg.xggy1nq.x1ja2u2z.x1t137rt.x1q0g3np.x1a2a7pz.x6s0dn4.xjyslct.x1ejq31n.xd10rxx.x1sy0etr.x17r0tee.x9f619.x1ypdohk.x1f6kntn.xl56j7k.x17ydfre.x2b8uid.xlyipyv.x87ps6o.x14atkfc.x5c86q.x18br7mf.x1i0vuye.xl0gqc1.xr5sc7.xlal1re.x14jxsvd.xt0b8zv.xjbqb8w.xm3z3ea.x1x8b98j.x131883w.x16mih1h.x972fbf.xcfux6l.x1qhh985.xm0m39n.xt0psk2.xt7dq6l.xexx8yu.x4uap5.x18d9i69.xkhd6sd.x1n2onr6.x1n5bzlp.x7fd4wk.x1sfzahb.xfs2ol5','div.x1i10hfl.xjqpnuy.xa49m3k.xqeqjp1.x2hbi6w.xdl72j9.x2lah0s.xe8uvvx.xdj266r.x1mh8g0r.x2lwn1j.xeuugli.x1hl2dhg.xggy1nq.x1ja2u2z.x1t137rt.x1q0g3np.x1lku1pv.x1a2a7pz.x6s0dn4.xjyslct.x1ejq31n.xd10rxx.x1sy0etr.x17r0tee.x9f619.x1ypdohk.x1f6kntn.xwhw2v2.xl56j7k.x17ydfre.x2b8uid.xlyipyv.x87ps6o.x14atkfc.xcdnw81.x1i0vuye.xjbqb8w.xm3z3ea.x1x8b98j.x131883w.x16mih1h.x972fbf.xcfux6l.x1qhh985.xm0m39n.xt0psk2.xt7dq6l.xexx8yu.x4uap5.x18d9i69.xkhd6sd.x1n2onr6.x1n5bzlp.x173jzuc.x1yc6y37.x7fd4wk.x1sfzahb.xfs2ol5'],K_ALREADY_CHATTED='[aria-label=\x22Double\x20tap\x20to\x20like\x22]',K_MSG_DISABLED_LABEL='div.x6s0dn4.x1yvgwvq.x1dqoszc.x1ixjvfu.xhk4uv.x13fuv20.xu3j5b3.x1q0q8m5.x26u7qi.x178xt8z.xm81vs4.xso031l.xy80clv.x78zum5.x1gg8mnh\x20>\x20div\x20>\x20span',IG_NAME_SPAN_PART1='a:nth-child(',IG_USERNAME_CLEANAME_PART2_BOX=')\x20>\x20div.x9f619.xjbqb8w.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.xxbr6pl.xbbxn1n.xwib8y2.x1y1aw1k.x1uhb9sk.x1plvlek.xryxfnj.x1c4vz4f.x2lah0s.xdt5ytf.xqjyukv.x1qjc9v5.x1oa3qoh.x1nhvcw1\x20>\x20div\x20>\x20div\x20>\x20div.x9f619.x1ja2u2z.x78zum5.x1n2onr6.x1iyjqo2.xs83m0k.xeuugli.x1qughib.x6s0dn4.x1a02dak.x1q0g3np.xdl72j9',IG_USERNAME_SPAN_PART2=IG_USERNAME_CLEANAME_PART2_BOX+'\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20span',IG_CLEARNAME_SPAN_PART2=IG_USERNAME_CLEANAME_PART2_BOX+'\x20>\x20div\x20>\x20div\x20>\x20span\x20>\x20span',IG_SEARCH_INPUT='div.x9f619.xjbqb8w.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.x1d52u69.xktsk01.x1n2onr6.x1plvlek.xryxfnj.x1c4vz4f.x2lah0s.xdt5ytf.xqjyukv.x1qjc9v5.x1oa3qoh.x1nhvcw1\x20>\x20div\x20>\x20div\x20>\x20input',IG_SEARCH_BUTTON='div.x9f619.xvbhtw8.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.x1uhb9sk.x1plvlek.xryxfnj.x1c4vz4f.x2lah0s.x1q0g3np.xqjyukv.x1qjc9v5.x1oa3qoh.x1qughib\x20>\x20div.x9f619.xjbqb8w.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.xixxii4.x13vifvy.x1plvlek.xryxfnj.x1c4vz4f.x2lah0s.xdt5ytf.xqjyukv.x1qjc9v5.x1oa3qoh.x1nhvcw1.x1dr59a3.xeq5yr9.x1n327nk\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20div.x1iyjqo2.xh8yej3\x20>\x20div:nth-child(2)\x20>\x20span\x20>\x20div';function createWindow(){const _0x6227d1=new BrowserWindow({'width':0x320,'height':0x258,'title':'Odano','webPreferences':{'preload':path['join'](__dirname,'preload.js'),'contextIsolation':!![],'enableRemoteModule':![]}});console['log'](__dirname),_0x6227d1['loadFile'](path['join'](__dirname,'index.html')),process['env']['NODE_ENV']==='development'&&_0x6227d1['webContents']['openDevTools']();}app['whenReady']()['then'](createWindow),app['on']('window-all-closed',()=>{app['quit']();}),app['on']('activate',()=>{BrowserWindow['getAllWindows']()['length']===0x0&&createWindow();});function createChildWindow(_0x5587cb){var _0x2a0f5a=![];BrowserWindow['getAllWindows']()['forEach'](function(_0x4e9469){console['log']('window\x20id:'+_0x4e9469['id']),_0x4e9469['id']>0x1&&(_0x2a0f5a=!![]);}),console['log']('child\x20opened\x20='+_0x2a0f5a);if(!_0x2a0f5a){const _0x20109a=new BrowserWindow({'width':0x320,'height':0x258,'title':'Odano','webPreferences':{'nodeIntegration':!![],'enableRemoteModule':!![],'contextBridge':!![],'nativeWindowOpen':!![],'nodeIntegrationInSubFrames':!![],'parent':win,'preload':path['join'](__dirname,'preload.js')}});_0x20109a['loadFile'](_0x5587cb['url']);}else console['log']('child\x20window\x20opened\x20already');}ipcMain['on']('restart-app',()=>{process['platform']==='darwin'&&(console['log']('Neustart\x20der\x20Anwendung'),app['relaunch'](),app['exit'](0x0));});let powerSaveBlockerId;app['on']('ready',()=>{powerSaveBlockerId=powerSaveBlocker['start']('prevent-app-suspension'),console['log']('Power\x20Save\x20Blocker\x20gestartet\x20mit\x20ID:\x20'+powerSaveBlockerId);}),app['on']('before-quit',()=>{powerSaveBlocker['isStarted'](powerSaveBlockerId)&&(powerSaveBlocker['stop'](powerSaveBlockerId),console['log']('Power\x20Save\x20Blocker\x20gestoppt.'));if(process['defaultApp']){console['log']('Testmodus\x20–\x20Update\x20wird\x20übersprungen');return;}customUpdateMacApp();});function initializeDatabase(){const _0x969bb4=require('fs'),_0x3f01a4=path['join'](app['getPath']('userData'),'data'),_0x413b30=['campaign.db','crm.db','igaccounts.db'],_0x205d36=[];try{_0x969bb4['mkdirSync'](_0x3f01a4,{'recursive':!![]});for(const _0x55dc8c of _0x413b30){const _0x4c2388=path['join'](process['resourcesPath'],'app','build','data',_0x55dc8c),_0x4d7984=path['join'](_0x3f01a4,_0x55dc8c);!_0x969bb4['existsSync'](_0x4d7984)?(_0x969bb4['copyFileSync'](_0x4c2388,_0x4d7984),console['log']('[InitDB]\x20Kopiert\x20'+_0x55dc8c+'\x20nach:\x20'+_0x4d7984)):console['log']('[InitDB]\x20'+_0x55dc8c+'\x20existiert\x20bereits:\x20'+_0x4d7984),_0x205d36['push'](_0x4d7984);}}catch(_0x476463){console['error']('[InitDB]\x20Fehler\x20beim\x20Kopieren\x20der\x20Datenbanken:',_0x476463);}return _0x205d36;}function getSqlDataPath(){return console['log']('MAC\x20Pfad:\x20',app['getPath']('userData')),console['log']('Default\x20App:\x20'+process['defaultApp']),process['platform']==='darwin'?(!process['defaultApp']&&initializeDatabase(),process['defaultApp']?path['join'](__dirname,'data'):path['join'](app['getPath']('userData'),'data')):process['defaultApp']?path['join'](__dirname,'data'):path['join'](process['resourcesPath'],'app.asar.unpacked','build','data');}console['log']('Datenpfad\x20SQL:\x20'+getSqlDataPath());const SqlDataDirectory=getSqlDataPath();function doFullElectronUpdate(){const {autoUpdater:_0x22e6cf,AppUpdate:_0x432e3e}=require('electron-updater');_0x22e6cf['autoDownload']=![],_0x22e6cf['autoInstallOnAppQuit']=!![],_0x22e6cf['checkForUpdates'](),console['log']('Überprüfe\x20auf\x20Updates...'),_0x22e6cf['on']('update-available',_0x4abc01=>{console['log']('Update\x20verfügbar:',_0x4abc01),_0x22e6cf['downloadUpdate']();}),_0x22e6cf['on']('update-downloaded',_0xfed019=>{console['log']('Update\x20heruntergeladen:',_0xfed019),_0x22e6cf['quitAndInstall']();}),_0x22e6cf['on']('error',_0x4f4ae2=>{console['error']('Fehler\x20beim\x20Updaten:',_0x4f4ae2);});}function doFullElectronUpdateSilent(){const {autoUpdater:_0x1a5588,AppUpdate:_0x1a178d}=require('electron-updater');_0x1a5588['autoDownload']=![],_0x1a5588['autoInstallOnAppQuit']=!![],_0x1a5588['checkForUpdates'](),console['log']('Überprüfe\x20auf\x20Updates...'),_0x1a5588['on']('update-available',_0x2c4135=>{console['log']('Update\x20verfügbar:',_0x2c4135),_0x1a5588['downloadUpdate']();}),_0x1a5588['on']('update-downloaded',_0x2e0c1a=>{console['log']('Update\x20heruntergeladen:',_0x2e0c1a),console['log']('Neustarten\x20zum\x20Updaten');}),_0x1a5588['on']('error',_0x4d70db=>{console['error']('Fehler\x20beim\x20Updaten:',_0x4d70db);});}const MAC_BROWSER_PATH='/Applications/Google\x20Chrome.app/Contents/MacOS/Google\x20Chrome',WIN_BROWSER_PATH='chromium_local/chrome-win/chrome.exe';let browser_login=null;async function getBrowserPageLogin(){let _0x2c7d5f='',_0x54586b=null;if(process['platform']==='darwin')_0x2c7d5f=MAC_BROWSER_PATH;else{if(process['platform']==='win32')_0x2c7d5f=WIN_BROWSER_PATH;else{if(process['platform']==='linux'){}}}return browser_login=await puppeteer['launch']({'headless':![],'ignoreHTTPSErrors':!![],'defaultViewport':null,'args':['--lang=en-US'],'executablePath':_0x2c7d5f}),_0x54586b=await browser_login['newPage'](),_0x54586b['setDefaultNavigationTimeout'](0x1d4c),_0x54586b['setDefaultTimeout'](0x1d4c),await _0x54586b['setExtraHTTPHeaders']({'Accept-Language':'en-US,en'}),_0x54586b;}let browser=null,pageStack=[null],isStopping=![];async function getBrowserPage(_0x54b0ce=0x1,_0x1b6e08=0x0){try{let _0x3a2328='',_0x57c2a9=null;const _0x5d3b00=process['env']['NODE_ENV']==='development'?![]:!![];if(process['platform']==='darwin')_0x3a2328=MAC_BROWSER_PATH;else{if(process['platform']==='win32'){_0x3a2328=WIN_BROWSER_PATH;;}else{if(process['platform']==='linux'){}}}if(_0x54b0ce===0x0&&!pageStack[_0x1b6e08])return browser=await puppeteer['launch']({'headless':_0x5d3b00,'ignoreHTTPSErrors':!![],'defaultViewport':null,'args':['--lang=en-US'],'executablePath':_0x3a2328}),_0x57c2a9=await browser['newPage'](),_0x57c2a9['setDefaultNavigationTimeout'](0x1d4c),_0x57c2a9['setDefaultTimeout'](0x1d4c),await _0x57c2a9['setExtraHTTPHeaders']({'Accept-Language':'en-US,en'}),pageStack[_0x1b6e08]=_0x57c2a9,_0x57c2a9;return(browser===null||pageStack[_0x1b6e08]===null||pageStack[_0x1b6e08]['isClosed']())&&(browser=await puppeteer['launch']({'headless':_0x5d3b00,'ignoreHTTPSErrors':!![],'defaultViewport':null,'args':['--lang=en-US'],'executablePath':_0x3a2328})),(pageStack[_0x1b6e08]===null||pageStack[_0x1b6e08]['isClosed']())&&(_0x57c2a9=await browser['newPage'](),_0x57c2a9['setDefaultNavigationTimeout'](0x1d4c),_0x57c2a9['setDefaultTimeout'](0x1d4c),await _0x57c2a9['setExtraHTTPHeaders']({'Accept-Language':'en-US,en'}),pageStack[_0x1b6e08]=_0x57c2a9),pageStack[_0x1b6e08];}catch(_0x4bdb52){console['error']('Failed\x20to\x20launch\x20browser:',_0x4bdb52);const _0x45314c=new Error('Browser\x20konnte\x20nicht\x20gestartet\x20werden.\x20Bitte\x20starte\x20die\x20App\x20neu.\x20:\x20'+_0x4bdb52);throw _0x45314c;}}ipcMain['on']('login',async(_0x42c592,_0x228b7d)=>{const _0x363164=await getBrowserPageLogin();await _0x363164['goto']('https://www.instagram.com/accounts/login/'),console['log']('Login\x20startet'),await login(_0x363164,_0x228b7d),ipcMain['on']('setLoginCookies',async(_0x4c747b,_0x5c4ac4)=>{try{await set_login_cookies(_0x363164,_0x5c4ac4);}catch(_0x45dab5){console['log']('Fehler\x20bei\x20Cookie\x20speichern:\x20'+_0x45dab5);}});}),ipcMain['on']('export-relation',async(_0x33d4f5,_0x23918a)=>{try{await exportDatabase(_0x23918a),_0x33d4f5['reply']('export-relation-response',{'success':!![]});}catch(_0x2a39f7){console['error'](_0x2a39f7),_0x33d4f5['reply']('export-relation-response',{'success':![],'message':_0x2a39f7['message']});}}),ipcMain['handle']('sendMessage',async(_0x2b6cb3,_0x56f71b,_0x5eacd6,_0x2322e8,_0x315e87,_0x5dbe80,_0x155f43,_0x5317ee,_0x295ab3,_0x5e606c,_0xa5c8e2)=>{isStopping=![];let _0x16021e=null;return _0x155f43?_0x16021e=await getBrowserPage(_0x315e87,_0x5317ee):_0x16021e=await getBrowserPage(),console['log']('send\x20Message\x20gestartet'),console['log'](_0x56f71b),send_message(_0x16021e,_0x56f71b,_0x5eacd6,_0x2322e8,_0x315e87,_0x5dbe80,_0x295ab3,_0x5e606c,_0xa5c8e2);}),ipcMain['handle']('stop-action',async(_0x12219c,_0x4dbf89)=>{isStopping=!![];const _0xef74df=await getBrowserPage(0x1,_0x4dbf89);await _0xef74df['close']();}),ipcMain['handle']('fetch_followers',async(_0x395992,_0x4165d8,_0x7f379d,_0x1f4596,_0x2278c9,_0x4fb64b)=>{isStopping=![];const _0x19fcd3=await getBrowserPage();return fetch_followers_from_account(_0x395992,_0x19fcd3,_0x4165d8,_0x7f379d,_0x1f4596,_0x2278c9,_0x4fb64b);}),ipcMain['handle']('get-account-details',async(_0x208a1d,_0x268f6b,_0x3af3a4,_0x39edd0)=>{isStopping=![];const _0x3e1fcb=await getBrowserPage();return fetch_account_details(_0x3e1fcb,_0x268f6b,_0x3af3a4,_0x39edd0);}),ipcMain['handle']('fetch_likes',async(_0x5a8868,_0x475b86,_0x1a99be,_0x4a608b,_0x16ef42,_0x37c71d)=>{isStopping=![];const _0x22172e=await getBrowserPage();return fetch_likers_from_post(_0x5a8868,_0x22172e,_0x475b86,_0x1a99be,_0x4a608b,_0x16ef42,_0x37c71d);}),ipcMain['handle']('fetch_comments',async(_0x57fbb9,_0x5af5f1,_0x17d085,_0x4db74d,_0x20d35b,_0x1ba09d)=>{isStopping=![];const _0x269076=await getBrowserPage();return fetch_comments_from_post(_0x57fbb9,_0x269076,_0x5af5f1,_0x17d085,_0x4db74d,_0x20d35b,_0x1ba09d);});async function updateAppSilent(){const {spawn:_0x571450}=require('child_process'),_0x3d0775=require('path'),_0x13316a=require('electron-log');return _0x13316a['transports']['console']['level']='debug',process['platform']==='darwin'?new Promise((_0x44e0d9,_0x480df6)=>{const {updateElectronApp:_0x18dda1,UpdateSourceType:_0x3a28ac}=require('update-electron-app');_0x18dda1({'updateSource':{'type':_0x3a28ac['ElectronPublicUpdateService'],'repo':'derminer007/Instabot_app_updater'},'updateInterval':'10\x20minutes','logger':_0x13316a}),_0x44e0d9('Update\x20erfolgreich\x20abgeschlossen.');}):new Promise((_0x65bb73,_0xa73c3b)=>{doFullElectronUpdateSilent(),_0x65bb73('Update\x20erfolgreich\x20abgeschlossen.');});}async function updateApp(){const {spawn:_0x2573dc}=require('child_process'),_0x1c2cc6=require('path'),_0x4216e7=require('electron-log');return _0x4216e7['transports']['console']['level']='debug',process['platform']==='darwin'?new Promise((_0x25181a,_0x111e44)=>{const {updateElectronApp:_0x279170,UpdateSourceType:_0x231544}=require('update-electron-app');_0x279170({'updateSource':{'type':_0x231544['ElectronPublicUpdateService'],'repo':'derminer007/Instabot_app_updater'},'updateInterval':'10\x20minutes','logger':_0x4216e7}),_0x25181a('Update\x20erfolgreich\x20abgeschlossen.');}):new Promise((_0xf6a4b2,_0x343540)=>{doFullElectronUpdate(),_0xf6a4b2('Update\x20erfolgreich\x20abgeschlossen.');});}async function customUpdateMacApp(){return new Promise((_0x596dbe,_0x15fa3e)=>{if(process['defaultApp'])console['log']('Update\x20übersprungen\x20im\x20Testmodus.'),_0x596dbe('Update\x20übersprungen');else{if(process['platform']==='darwin'){const _0xd5d8b3=path['join'](__dirname,'mac-updater-intern.sh'),_0x40e496=spawn('/bin/bash',[_0xd5d8b3],{'detached':!![],'stdio':'ignore'});_0x40e496['unref'](),setTimeout(()=>{_0x596dbe('Update-Prozess\x20im\x20detached\x20Modus\x20gestartet.');},0x1388);}else{if(process['platform']==='win32'){}else _0x15fa3e(new Error('Update\x20nicht\x20für\x20diese\x20Plattform\x20unterstützt.'));}}});}ipcMain['handle']('get-os-system',async _0x43aac8=>{return{'platform':process['platform'],'arch':process['arch']};}),ipcMain['handle']('update-app',async(_0x38cb13,_0x13b240)=>{console['log']('Update\x20Silent:\x20'+_0x13b240);if(_0x13b240){if(!(process['platform']==='darwin'))await updateAppSilent(),console['log']('Autoupdate\x20für\x20Mac\x20ausgeschaltet');else return await customUpdateMacApp();}else{if(!(process['platform']==='darwin'))await updateApp();else return await customUpdateMacApp();}});function getRnd(_0x2e0d56,_0x107661){return Math['random']()*(_0x107661-_0x2e0d56+0x1)+_0x2e0d56;}function delay(_0x111ec3,_0x57a27d){let _0x21412e=getRnd(_0x111ec3,_0x57a27d);return new Promise(function(_0x3401c6){setTimeout(_0x3401c6,_0x21412e);});}async function scroll(_0x4491af,_0x3bc7ed,_0xfb86d5=0x2,_0x4ce4b8){const _0x2aaa9d=await _0x4491af['waitForSelector'](_0x3bc7ed);for(let _0x4977dc=0x0;_0x4977dc<_0xfb86d5;_0x4977dc++){console['log']('Scrolling\x20'+_0x4977dc),await _0x4491af['evaluate'](_0x5ac5a2=>{const _0x1897a6=document['querySelector'](_0x5ac5a2);_0x1897a6&&_0x1897a6['scrollBy'](0x0,0x190);},_0x3bc7ed),await delay(0x320,0x5dc),_0x4ce4b8();}}async function saveCookies(_0x47ec77){let _0x4abf6e=await _0x47ec77['cookies']();await fs['writeFile']('public/cookies.json',JSON['stringify'](_0x4abf6e,null,0x2));}async function notificationClear(_0x51dd49){console['log']('Suche\x20nach\x20Notification-Button');try{await delay(0xfa0,0x1388),await _0x51dd49['waitForSelector']('button._a9--._ap36._a9_1',{'visible':!![]}),await _0x51dd49['click']('button._a9--._ap36._a9_1'),console['log']('Notification-Button\x20gefunden');}catch(_0x1b8790){console['log']('Notification-Feld\x20übersprungen:\x20'+_0x1b8790);}}async function getTargetProfiles(_0x55af29){return new Promise((_0x7522df,_0x1f4933)=>{db['all']('SELECT\x20*\x20FROM\x20'+_0x55af29,(_0x2542f5,_0x3d3cb5)=>{_0x2542f5?_0x1f4933(_0x2542f5):_0x7522df(_0x3d3cb5);});});}async function login_legacy(_0x68fc56,_0x3aa434,_0x21f840){console['log']('Starte\x20Login\x20Prozess');try{await setCookiesForUser(_0x68fc56,_0x3aa434),await createUserIfNotExists(_0x3aa434,_0x21f840);}catch(_0xd965fe){console['log']('Cookies\x20konnten\x20nicht\x20hinzuefügt\x20werden:'+_0xd965fe);}try{await _0x68fc56['goto']('https://www.instagram.com/accounts/login/');try{await delay(0x7d0,0x1388),await _0x68fc56['waitForSelector']('button._a9--._ap36._a9_0',{'visible':!![]}),await _0x68fc56['click']('button._a9--._ap36._a9_0');}catch(_0x2ac568){console['log']('Cookie\x20Fenster\x20überspringen');}await delay(0xfa0,0x1d4c);try{await _0x68fc56['waitForSelector']('input[name=\x27username\x27]'),console['log']('Benutzername-Feld\x20gefunden'),await _0x68fc56['type']('input[name=\x27username\x27]',_0x3aa434,{'delay':getRnd(0x50,0x78)}),await delay(0xfa0,0x1d4c),await _0x68fc56['waitForSelector']('input[name=\x27password\x27]'),console['log']('Passwort-Feld\x20gefunden'),await _0x68fc56['type']('input[name=\x27password\x27]',_0x21f840,{'delay':getRnd(0x50,0x78)}),await delay(0xfa0,0x1d4c),await _0x68fc56['waitForSelector']('button[type=\x27submit\x27]'),console['log']('Login-Button\x20gefunden'),await _0x68fc56['click']('button[type=\x27submit\x27]');}catch(_0x4d9403){console['log']('Anmeldeformular\x20nicht\x20gefunden');}await notificationClear(_0x68fc56),await delay(0x1388,0x1b58);try{await saveCookiesForUser(_0x68fc56,_0x3aa434);}catch(_0x1221f3){console['log']('Fehler\x20bei\x20Cookie\x20speichern:\x20'+_0x1221f3);}}catch(_0x2c7bff){console['log']('Login\x20nicht\x20durgeführt:\x20'+_0x2c7bff);}}async function login(_0x3b3b90,_0x54994c){console['log']('Starte\x20Login\x20Prozess');try{await setCookiesForUser(_0x3b3b90,_0x54994c),await createUserIfNotExists(_0x54994c);}catch(_0x3dd979){console['log']('Cookies\x20konnten\x20nicht\x20hinzuefügt\x20werden:'+_0x3dd979);}try{await _0x3b3b90['goto']('https://www.instagram.com/accounts/login/');}catch(_0x31ae16){console['log']('Login\x20nicht\x20durgeführt:\x20'+_0x31ae16);}}async function set_login_cookies(_0x46603d,_0x39a57d){try{await saveCookiesForUser(_0x46603d,_0x39a57d);}catch(_0x3f329b){console['log']('Fehler\x20bei\x20Cookie\x20speichern:\x20'+_0x3f329b);}}async function waitForXPath(_0x2c0390,_0x4dfb42,_0x238677={}){return await _0x2c0390['waitForFunction'](_0x18a69a=>{return document['evaluate'](_0x18a69a,document,null,XPathResult['FIRST_ORDERED_NODE_TYPE'],null)['singleNodeValue']!==null;},_0x238677,_0x4dfb42),_0x2c0390['evaluateHandle'](_0x1830f7=>document['evaluate'](_0x1830f7,document,null,XPathResult['FIRST_ORDERED_NODE_TYPE'],null)['singleNodeValue'],_0x4dfb42);}async function waitForSelectorWithFallbacks(_0x27cf49,_0x5deadb,_0x4c3849={}){!Array['isArray'](_0x5deadb)&&(_0x5deadb=[_0x5deadb]);for(let _0x4c9dbb=0x0;_0x4c9dbb<_0x5deadb['length'];_0x4c9dbb++){const _0x3909cb=_0x5deadb[_0x4c9dbb],_0x105deb=_0x3909cb['startsWith']('//')||_0x3909cb['startsWith']('(//');try{console['log']('Versuche\x20'+(_0x105deb?'XPath':'Selector')+'\x20'+(_0x4c9dbb+0x1)+'/'+_0x5deadb['length']+':\x20'+_0x3909cb['substring'](0x0,0x32)+'...');const _0x322d3e=_0x4c9dbb===0x0?_0x4c3849['timeout']||0x1388:0x7d0;let _0x583d67;if(_0x105deb){const _0x4c4237=await waitForXPath(_0x27cf49,_0x3909cb,{..._0x4c3849,'timeout':_0x322d3e});if(!_0x4c4237)throw new Error('XPath-Element\x20nicht\x20gefunden');_0x583d67=_0x4c4237;}else _0x583d67=await _0x27cf49['waitForSelector'](_0x3909cb,{..._0x4c3849,'timeout':_0x322d3e});return console['log']((_0x105deb?'XPath':'Selector')+'\x20'+(_0x4c9dbb+0x1)+'\x20gefunden!'),_0x583d67;}catch(_0x6e1501){console['log']((_0x105deb?'XPath':'Selector')+'\x20'+(_0x4c9dbb+0x1)+'\x20nicht\x20gefunden:\x20'+_0x6e1501['message']);if(_0x4c9dbb===_0x5deadb['length']-0x1)throw new Error('Keiner\x20der\x20'+_0x5deadb['length']+'\x20Selektoren/XPath\x20konnte\x20gefunden\x20werden:\x20'+_0x6e1501['message']);}}throw new Error('Keine\x20Selektoren/XPath\x20angegeben');}async function waitForXPathAll(_0x287b82,_0x2edf57,_0xab3f69={}){return await _0x287b82['waitForFunction'](_0xc104d4=>{return document['evaluate'](_0xc104d4,document,null,XPathResult['ORDERED_NODE_SNAPSHOT_TYPE'],null)['snapshotLength']>0x0;},_0xab3f69,_0x2edf57),_0x287b82['evaluateHandle'](_0x301c18=>{const _0x2311ae=document['evaluate'](_0x301c18,document,null,XPathResult['ORDERED_NODE_SNAPSHOT_TYPE'],null),_0xa15d8e=[];for(let _0x2cdfa9=0x0;_0x2cdfa9<_0x2311ae['snapshotLength'];_0x2cdfa9++){_0xa15d8e['push'](_0x2311ae['snapshotItem'](_0x2cdfa9));}return _0xa15d8e;},_0x2edf57)['then'](_0x184418=>_0x184418['getProperties']());}async function checkLoginStatus(_0x4581d5){const _0x529a35=['[type=\x22password\x22]','//a[normalize-space(text())=\x27Log\x20In\x27]','//div[@role=\x27button\x27\x20and\x20normalize-space(.)=\x27Log\x20in\x27]','//h3[normalize-space(text())=\x27Something\x20went\x20wrong\x27]'];let _0x2d5f23=null;try{_0x2d5f23=await waitForSelectorWithFallbacks(_0x4581d5,_0x529a35,{'timeout':0x7d0});}catch(_0x365b1e){return console['log']('Eingeloggt,\x20kein\x20Login\x20notwendig:\x20'+_0x365b1e),!![];}if(_0x2d5f23){console['log']('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');throw new Error('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');return![];}else return console['log']('Eingeloggt,\x20führe\x20keine\x20Login\x20durch'),!![];}async function send_message(_0x30fb4e,_0x476113,_0x5ef17c,_0x1eec81,_0x1608ec,_0x4e5be4,_0x4b047e,_0x223097,_0xfd95c3){return new Promise(async(_0x2f87f8,_0x3e319d)=>{_0x4e5be4=_0x4e5be4['split'](';'),console['log'](_0x4e5be4[0x0]),console['log']('Anfang'),console['log']('Counter:\x20'+_0x1608ec);try{await setCookiesForUser(_0x30fb4e,_0x4e5be4[0x0]);}catch(_0x403223){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x403223),_0x2f87f8({'status':0x190,'message':'Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:\x20'+_0x403223});return;}await delay(0x6a4,0x7d0);try{await _0x30fb4e['goto']('https://www.instagram.com/'+_0x476113+'/'),await delay(0x1b58,0x1d4c),await notificationClear(_0x30fb4e);}catch(_0x4c58a9){_0x2f87f8({'status':0x1f5,'message':'Fehler\x20beim\x20Aufruf\x20der\x20Seite:\x20'+_0x4c58a9});return;}try{await checkLoginStatus(_0x30fb4e);}catch(_0x82ba25){console['log']('Login-Status\x20nicht\x20ok:\x20'+_0x82ba25),_0x3e319d('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');return;}console['log']('UserSkip:\x20'+_0x4b047e);if(_0x4b047e==0x1)try{const _0x590b38=await _0x30fb4e['$eval']('._ap3a._aaco._aacw._aad6._aade',_0x10c48a=>_0x10c48a['textContent']['trim']());console['log'](_0x590b38);if(_0x590b38==='Following'||_0x590b38==='Folge\x20ich')return _0x2f87f8({'status':0x199,'message':'Überspringe\x20User:\x20Bereits\x20gefolgt\x20→\x20überspringen'});}catch(_0x5b637b){}try{const _0x338536=await waitForSelectorWithFallbacks(_0x30fb4e,K_DIRECT_MSG_BUTTON);await _0x338536['click']();}catch(_0x3c55ed){console['log']('1.\x20MsgButton\x20nicht\x20gefunden.\x20Teste\x202.\x20Button'+_0x3c55ed);try{try{const _0xcdca30=await waitForSelectorWithFallbacks(_0x30fb4e,K_OPTIONS_BUTTON);await _0xcdca30['click']();}catch(_0x30d42a){console['log']('Options-Button\x20nicht\x20gefunden.\x20Nutzer\x20überspringen:\x20'+_0x30d42a),_0x2f87f8({'status':0x1f6,'message':'Options-Button\x20nicht\x20gefunden.\x20Nutzer\x20überspringen:\x20'+_0x30d42a});return;}await delay(0x1f4,0x320);const _0x1f66f5=await waitForXPath(_0x30fb4e,'//button[contains(text(),\x27Send\x20message\x27)]');await _0x1f66f5['click']();}catch(_0xc703e2){console['log']('2.\x20MsgButton\x20nicht\x20gefunden.\x20Nutzer\x20überspringen'+_0xc703e2),_0x2f87f8({'status':0x194,'message':'UserSkip:\x20Nicht\x20anschreibbaren\x20Nutzer\x20überspringen'});return;}}try{await delay(0x320,0x3e8),await notificationClear(_0x30fb4e);}catch(_0x453923){console['log']('NotificationClear\x20fehlerhaft:\x20'+_0x453923);}try{const _0x3df2f1=await waitForSelectorWithFallbacks(_0x30fb4e,K_CHAT_INPUT_FIELD);if(_0x223097){const _0x2eb27d=await _0x30fb4e['$'](K_ALREADY_CHATTED);if(_0x2eb27d)return console['log']('Already\x20chatted\x20with\x20this\x20user,\x20skipping:',_0x476113),_0x2f87f8({'status':0x19a,'message':'Überspringe\x20User:\x20Bereits\x20gechattet\x20→\x20überspringen'});}const _0x2fef70=await _0x30fb4e['evaluate'](()=>{return document['querySelector']('h2\x20>\x20span\x20>\x20span')['textContent'];});console['log']('Extrahierter\x20Clearname:\x20'+_0x2fef70),_0x1eec81=_0x1eec81['replace']('{USERNAME}',_0x476113);let _0x3e1e48;if(_0x1eec81['includes']('{NAME}')||_0x1eec81['includes']('{name}'))try{const _0x3ac1ad=await extractFirstName(_0x2fef70,_0xfd95c3);console['log']('Response\x20Clearname\x20valid:\x20'+_0x3ac1ad['valid']),_0x3ac1ad['valid']?(_0x1eec81=_0x1eec81['replaceAll'](/{NAME}|{name}/g,_0x3ac1ad['name']),console['log']('Response\x20Clearname\x20name:\x20'+_0x3ac1ad['name']),_0x3e1e48=_0x3ac1ad['name']):(_0x1eec81=_0x1eec81['replaceAll'](/ ?({NAME}|{name})/g,''),_0x3e1e48='UNKNOWN_NAME');}catch(_0x220b10){console['log'](_0x220b10['message']),_0x3e1e48=_0x220b10['message'];let _0x4380d0=_0x2fef70['replace'](/[^\p{L}\s]/gu,''),_0x445231=_0x4380d0['split']('\x20')[0x0];_0x445231['length']>0x2&&!_0x445231['includes']('Instagram')?_0x1eec81=_0x1eec81['replaceAll'](/{NAME}|{name}/g,_0x445231):_0x1eec81=_0x1eec81['replaceAll'](/ ?({NAME}|{name})/g,'');}console['log']('Nachricht\x20vor\x20dem\x20Senden:\x20'+_0x1eec81);const _0x50061d=_0x1eec81['split']('\x0a');await _0x3df2f1['type'](_0x50061d[0x0],{'delay':getRnd(0x50,0x78)});for(let _0x34ca0a=0x1;_0x34ca0a<_0x50061d['length'];_0x34ca0a++){await _0x30fb4e['keyboard']['down']('Shift'),await _0x30fb4e['keyboard']['press']('Enter'),await _0x30fb4e['keyboard']['up']('Shift'),await delay(0x64,0xc8),_0x50061d[_0x34ca0a]['length']>0x0&&await _0x3df2f1['type'](_0x50061d[_0x34ca0a],{'delay':getRnd(0x50,0x78)});}console['log']('Nachricht\x20mit\x20Zeilenumbrüchen\x20gesendet'),await delay(0x320,0x3e8);try{const _0x5201d9=await waitForSelectorWithFallbacks(_0x30fb4e,K_SEND_MSG_BUTTON);await _0x5201d9['click']();}catch(_0x47820e){console['error']('Nicht\x20anschreibbaren\x20Nutzer\x20überspringen:\x20'+_0x47820e),_0x2f87f8({'status':0x195,'message':'Send\x20nicht\x20gefunden.\x20Nicht\x20anschreibbaren\x20Nutzer:\x20'+_0x476113+'\x20überspringen.','error':_0x47820e['message']});}await delay(0x320,0x3e8),_0x2f87f8({'status':0xc8,'message':'Nachricht\x20erfolgreich\x20gesendet!','clearname':_0x2fef70,'extracted_clearname':_0x3e1e48});}catch(_0x58a3b1){let _0x26bb72=_0x58a3b1;console['log']('Fehler\x20beim\x20Senden\x20der\x20Nachricht:\x20'+_0x26bb72),_0x2f87f8({'status':0x1f4,'message':'Error\x20500:\x20'+_0x26bb72});}});}function handle_fail(_0x457e88){if(isStopping)return new Promise(_0x2a9615=>{_0x2a9615('Scraper\x20gestoppt.');});else{let _0x3f2f37='';switch(_0x457e88){case 0x0:_0x3f2f37='Fehler\x20beim\x20Follower\x20Scraper.\x20Bitte\x20lade\x20die\x20neuste\x20Version\x20herunter.';break;case 0x1:_0x3f2f37='Fehler\x20beim\x20Liker\x20Scraper.\x20Bitte\x20lade\x20die\x20neuste\x20Version\x20herunter.';break;case 0x2:_0x3f2f37='Fehler\x20beim\x20Comments\x20Scraper.\x20Bitte\x20lade\x20die\x20neuste\x20Version\x20herunter.';break;default:_0x3f2f37='Fehler\x20beim\x20Scraper.\x20Bitte\x20lade\x20die\x20neuste\x20Version\x20herunter.';break;}return new Promise((_0x267650,_0x4e9ad0)=>{_0x4e9ad0(_0x3f2f37);});}}async function fetch_account_details(_0xfc1879,_0x414448,_0x1d4340,_0x8b11f9){try{await setCookiesForUser(_0xfc1879,_0x1d4340['username']);}catch(_0x536275){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:\x20'+_0x536275);throw new Error('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:\x20'+_0x536275);return handle_fail(0x0);}_0xfc1879['setDefaultNavigationTimeout'](0x7530),await _0xfc1879['goto']('https://www.instagram.com/'+_0x414448+'/',{'waitUntil':'networkidle2','timeout':0x7530}),await notificationClear(_0xfc1879);const _0x11568f=await _0xfc1879['evaluate'](()=>{const _0x4b1319=document['querySelector']('meta[property=\x22og:image\x22]');return _0x4b1319?_0x4b1319['getAttribute']('content'):null;});await _0xfc1879['waitForSelector']('meta[name=\x22description\x22]',{'timeout':0x3a98});const _0x4600f3=await _0xfc1879['evaluate'](()=>{const _0x3097f4=document['querySelector']('meta[name=\x22description\x22]');if(!_0x3097f4)return console['log']('Meta-Tag\x20nicht\x20gefunden'),null;let _0x1b6c0c=_0x3097f4['getAttribute']('content');if(!_0x1b6c0c)return console['log']('Meta-Content\x20ist\x20leer'),null;console['log']('Meta\x20content:',_0x1b6c0c);const _0x355ef5=/\s*[–-]\s*/,_0x210730=_0x1b6c0c['split'](_0x355ef5);if(_0x210730['length']<0x2)return console['log']('Kein\x20gültiger\x20Separator\x20gefunden'),null;const _0x447370=_0x210730[0x0],_0x39cd63=_0x210730[0x1],_0x49b3fe=_0x447370['split'](',\x20');if(_0x49b3fe['length']<0x3)return console['log']('Nicht\x20genügend\x20Zählwerte\x20gefunden'),null;const _0x107000=_0x49b3fe[0x0]['split']('\x20')[0x0],_0x5aacdb=_0x49b3fe[0x1]['split']('\x20')[0x0],_0x26e613=_0x49b3fe[0x2]['split']('\x20')[0x0];let _0x280500='',_0x35848a='';const _0x28f814='\x20on\x20Instagram:\x20',_0x278a3f=_0x39cd63['split'](_0x28f814);return _0x280500=_0x278a3f[0x0]['trim'](),_0x280500=_0x280500['replace'](/\s*\(?@[\w_]+\)?/g,'')['trim'](),_0x278a3f['length']>0x1&&(_0x35848a=_0x278a3f[0x1]['trim'](),_0x35848a['startsWith']('\x22')&&_0x35848a['endsWith']('\x22')&&(_0x35848a=_0x35848a['substring'](0x1,_0x35848a['length']-0x1)['trim']()),_0x35848a=_0x35848a['replace'](/&quot;/g,'')['trim']()),{'followers':_0x107000,'following':_0x5aacdb,'posts':_0x26e613,'nameText':_0x280500,'bio':_0x35848a};});console['log']('Extracted\x20profile\x20data:',_0x4600f3);const _0x354be8=_0x4600f3['nameText'],_0x2fa930=_0x11568f,_0x56d9e3=_0x4600f3['bio'],_0x23e39f=_0x4600f3['followers'],_0x4adfd3=_0x4600f3['following'],_0x207feb=_0x4600f3['posts'],_0x221a2a=![],_0x27002b=![],_0x237d91=![],_0xfad24d='\x0a\x20\x20INSERT\x20INTO\x20'+_0x8b11f9+'\x20(\x0a\x20\x20\x20\x20username,\x20clearname,\x20ProfilePic,\x20Bio,\x20\x0a\x20\x20\x20\x20Follower_Count,\x20Following_Count,\x20Post_Count,\x20\x0a\x20\x20\x20\x20Isverified,\x20Isprivat,\x20IsBusiness\x0a\x20\x20)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)\x0a\x20\x20ON\x20CONFLICT(username)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20clearname\x20=\x20excluded.clearname,\x0a\x20\x20\x20\x20ProfilePic\x20=\x20excluded.ProfilePic,\x0a\x20\x20\x20\x20Bio\x20=\x20excluded.Bio,\x0a\x20\x20\x20\x20Follower_Count\x20=\x20excluded.Follower_Count,\x0a\x20\x20\x20\x20Following_Count\x20=\x20excluded.Following_Count,\x0a\x20\x20\x20\x20Post_Count\x20=\x20excluded.Post_Count,\x0a\x20\x20\x20\x20Isverified\x20=\x20excluded.Isverified,\x0a\x20\x20\x20\x20Isprivat\x20=\x20excluded.Isprivat,\x0a\x20\x20\x20\x20IsBusiness\x20=\x20excluded.IsBusiness;\x0a';db['run'](_0xfad24d,[_0x414448,_0x354be8,_0x2fa930,_0x56d9e3,_0x23e39f,_0x4adfd3,_0x207feb,_0x221a2a,_0x27002b,_0x237d91],function(_0x365530){_0x365530?console['error']('Fehler\x20beim\x20Upsert\x20in\x20die\x20Datenbank:\x20'+_0x365530['message']):console['log']('Eintrag\x20erfolgreich\x20upserted.\x20Letzte\x20ID:\x20'+this['lastID']);});}async function fetch_followers_from_account(_0x14e530,_0x10c5d4,_0x1acab1,_0x2b2541,_0x35e66a,_0x297809,_0x2a5485){let _0xed004c=0x4,_0x1d3443=0x0,_0x2d214c=0x0;try{await setCookiesForUser(_0x10c5d4,_0x297809['username']);}catch(_0xb7442d){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0xb7442d);throw new Error('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:\x20'+_0xb7442d);return handle_fail(0x0);}let _0x587bdf=0x0;try{await _0x10c5d4['goto']('https://www.instagram.com/'+_0x1acab1+'/'),await notificationClear(_0x10c5d4);try{await checkLoginStatus(_0x10c5d4);}catch(_0x4428d2){console['log']('Login-Status\x20nicht\x20ok:\x20'+_0x4428d2);throw new Error('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');}try{if(_0x2b2541<=0x0){const _0x47d162=await _0x10c5d4['waitForSelector'](ANZAHL_FOLLOWER_BUTTON);await delay(0x12c,0x320);const _0x4f363f=await _0x10c5d4['evaluate'](_0x4b63b6=>_0x4b63b6['innerHTML'],_0x47d162);_0x587bdf=Math['ceil'](_0x4f363f/0x4);}else _0x587bdf=Math['ceil'](_0x2b2541/0x4);_0xed004c+=_0x587bdf,_0x2d214c=Math['round'](++_0x1d3443/_0xed004c*0x64),_0x14e530['sender']['send']('fetch-progress',_0x2d214c,!![]);let _0x5d06ef=await _0x10c5d4['waitForSelector']('a[href=\x22/'+_0x1acab1+'/followers/\x22]');await delay(0xbb8,0x1388),await _0x5d06ef['click'](),console['log']('Follower\x20Liste\x20von\x20'+_0x1acab1+'\x20gesichtet'),_0x2d214c=Math['round'](++_0x1d3443/_0xed004c*0x64),_0x14e530['sender']['send']('fetch-progress',_0x2d214c,!![]);}catch(_0x238f5d){console['log']('Follower\x20Liste\x20von\x20'+_0x1acab1+'\x20nicht\x20gefunden:'+_0x238f5d);throw new Error('Follower\x20Liste\x20von\x20'+_0x1acab1+'\x20nicht\x20gefunden:'+_0x238f5d);return handle_fail(0x0);}}catch(_0x5c1615){console['log']('User\x20besuchen\x20fehlgeschlagen:\x20'+_0x5c1615);throw new Error('User\x20besuchen\x20fehlgeschlagen:\x20'+_0x5c1615);return handle_fail(0x0);}try{await delay(0xbb8,0x1388),console['log']('Auto-scrolls:\x20'+_0x587bdf),await scroll(_0x10c5d4,FOLLOWER_FENSTER,_0x587bdf,_0x16172e=>{_0x2d214c=Math['round'](++_0x1d3443/_0xed004c*0x64),_0x14e530['sender']['send']('fetch-progress',_0x2d214c,!![]);}),await _0x10c5d4['waitForSelector'](FOLLOWER_USERNAME_SPALTEN_ARRAY);const _0x4623c7=await _0x10c5d4['$$'](FOLLOWER_USERNAME_SPALTEN_ARRAY),_0xc4a671=await _0x10c5d4['$$'](FOLLOWER_CLEARNAME_SPALTEN_ARRAY);_0x2d214c=Math['round'](++_0x1d3443/_0xed004c*0x64),_0x14e530['sender']['send']('fetch-progress',_0x2d214c,!![]);_0x2b2541<=0x0&&(_0x2b2541=_0x4623c7['length']);let _0x36eb27=[];for(let _0x40b2fd=0x0;_0x40b2fd<_0x4623c7['length']&&_0x40b2fd<_0x2b2541;_0x40b2fd++){_0x36eb27['push'](await _0x4623c7[_0x40b2fd]['evaluate'](_0x3a435f=>_0x3a435f['textContent']));const _0x4d281a='INSERT\x20INTO\x20'+_0x35e66a+'\x20(username,\x20clearname)\x20VALUES\x20(?,\x20?)';db['run'](_0x4d281a,[await _0x4623c7[_0x40b2fd]['evaluate'](_0x2349ab=>_0x2349ab['textContent']),await _0xc4a671[_0x40b2fd]['evaluate'](_0xce7e57=>_0xce7e57['textContent'])],function(_0x1d04c2){_0x1d04c2?console['error']('Fehler\x20beim\x20Einfügen\x20in\x20die\x20Tabelle\x20\x27'+_0x35e66a+'\x27:',_0x1d04c2['message']):console['log']('Eintrag\x20erfolgreich\x20hinzugefügt:',this['lastID']);});}return _0x2d214c=Math['round'](++_0x1d3443/_0xed004c*0x64),_0x14e530['sender']['send']('fetch-progress',_0x2d214c,!![]),_0x2a5485&&(_0x14e530['sender']['send']('fetch-progress',0x0,!![],!![]),await fetch_details_from_list(_0x14e530,_0x10c5d4,_0x297809,_0x35e66a,_0x36eb27)),new Promise(_0x4253c9=>{_0x4253c9('Scraping\x20finished!');});}catch(_0x46b6ff){if(_0x2a5485)throw new Error(_0x46b6ff);else throw new Error('Fehler\x20bei\x20der\x20Followerliste\x20von\x20'+_0x1acab1+'\x20nicht\x20gefunden:\x20'+_0x46b6ff);return handle_fail(0x0);}}async function fetch_details_from_list(_0x5eb95b,_0x19d829,_0x5e2704,_0x3e9b55,_0x2c94e4){let _0x4b5fb6=0x0,_0x346421=0x0;for(let _0x138114=0x0;_0x138114<_0x2c94e4['length'];_0x138114++){console['log']('Processing\x20profile:',_0x2c94e4[_0x138114]);try{await fetch_account_details(_0x19d829,_0x2c94e4[_0x138114],_0x5e2704,_0x3e9b55);}catch(_0x314057){console['error']('Detailed\x20Scraping\x20von:\x20',_0x2c94e4[_0x138114],_0x314057);throw new Error('Detailed\x20Scraping\x20von:\x20'+_0x2c94e4[_0x138114]+'\x20'+_0x314057);}_0x346421=Math['round'](++_0x4b5fb6/_0x2c94e4['length']*0x64),_0x5eb95b['sender']['send']('fetch-progress',_0x346421,!![],!![]);}}async function fetch_likers_from_post(_0x549609,_0x1e6ba3,_0x9ce071,_0x255380,_0x16bf4d,_0x2e15c2,_0x293132){let _0x123b78=0x4,_0x3d793a=0x0,_0x5c4001=0x0;try{await setCookiesForUser(_0x1e6ba3,_0x2e15c2['username']);}catch(_0x4e8e81){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x4e8e81);throw new Error('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x4e8e81);return handle_fail(0x1);return;}_0x5c4001=Math['round'](++_0x3d793a/_0x123b78*0x64),_0x549609['sender']['send']('fetch-progress',_0x5c4001,!![]);try{let _0x449054=_0x9ce071['substring'](0x0,_0x9ce071['lastIndexOf']('/'));_0x449054['includes']('/reel/')&&(_0x449054=_0x449054['replace']('/reel/','/p/'));let _0x5bf4be=_0x449054+'/liked_by';console['log'](_0x5bf4be),await _0x1e6ba3['goto'](_0x5bf4be),await delay(0x7d0,0xfa0),await notificationClear(_0x1e6ba3),await delay(0xc8,0x1f4);try{await checkLoginStatus(_0x1e6ba3);}catch(_0x4c9ede){console['log']('Login-Status\x20nicht\x20ok:\x20'+_0x4c9ede);throw new Error('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');}_0x5c4001=Math['round'](++_0x3d793a/_0x123b78*0x64),_0x549609['sender']['send']('fetch-progress',_0x5c4001,!![]),await _0x1e6ba3['waitForSelector'](LIKERS_USERNAME_SPALTEN_ARRAY),await delay(0x1f4,0x320);const _0x281e1e=await _0x1e6ba3['$$'](LIKERS_USERNAME_SPALTEN_ARRAY),_0x18e7c0=await _0x1e6ba3['$$'](LIKERS_CLEARNAME_SPALTEN_ARRAY);await delay(0x1f4,0x320),console['log'](_0x281e1e['length']);let _0x3baece=path['join'](__dirname,'/likers.csv');_0x5c4001=Math['round'](++_0x3d793a/_0x123b78*0x64),_0x549609['sender']['send']('fetch-progress',_0x5c4001,!![]);_0x255380<=0x0&&(_0x255380=_0x281e1e['length']);try{let _0x291e5a=[];for(let _0x81a6c8=0x0;_0x81a6c8<_0x281e1e['length']&&_0x81a6c8<_0x255380;_0x81a6c8++){_0x291e5a['push'](await _0x281e1e[_0x81a6c8]['evaluate'](_0x8b6154=>_0x8b6154['textContent']));try{const _0x5b4634='INSERT\x20INTO\x20'+_0x16bf4d+'\x20(username,\x20clearname)\x20VALUES\x20(?,\x20?)';db['run'](_0x5b4634,[await _0x281e1e[_0x81a6c8]['evaluate'](_0x49b1c4=>_0x49b1c4['textContent']),await _0x18e7c0[_0x81a6c8]['evaluate'](_0x258b68=>_0x258b68['textContent'])],function(_0x453b7b){_0x453b7b?console['error']('Fehler\x20beim\x20Einfügen\x20in\x20die\x20Tabelle\x20\x27'+_0x16bf4d+'\x27:',_0x453b7b['message']):console['log']('Eintrag\x20erfolgreich\x20hinzugefügt:',this['lastID']);});}catch(_0x35f0e6){console['log']('Fehler\x20innerhalb\x20des\x20Fetchen\x20bei\x20i='+_0x81a6c8+'\x20:\x20'+_0x35f0e6);throw new Error('Fehler\x20innerhalb\x20des\x20Fetchen\x20bei\x20i='+_0x81a6c8+'\x20:\x20'+_0x35f0e6);return handle_fail(0x1);}}return _0x5c4001=Math['round'](++_0x3d793a/_0x123b78*0x64),_0x549609['sender']['send']('fetch-progress',_0x5c4001,!![]),_0x293132&&(_0x549609['sender']['send']('fetch-progress',0x0,!![],!![]),await fetch_details_from_list(_0x549609,_0x1e6ba3,_0x2e15c2,_0x16bf4d,_0x291e5a)),new Promise(_0x58e087=>{_0x58e087('Scraping\x20finished!');});}catch(_0x33886e){console['log']('Nicht\x20in\x20Likers\x20Datei\x20geschrieben');throw new Error(_0x33886e);return handle_fail(0x1);}}catch(_0x411fbc){console['log']('Like-Seite\x20nicht\x20geöffnet'+_0x411fbc);throw new Error('Like-Seite\x20nicht\x20geöffnet:\x20'+_0x411fbc);return handle_fail(0x1);}}async function fetch_comments_from_post(_0x3370e1,_0x3696b7,_0x7d34a7,_0x540ac1,_0x4161af,_0x423c67,_0x4db7be){let _0x1f799a=0x3,_0x5a7d26=0x0,_0x20d038=0x0;try{await setCookiesForUser(_0x3696b7,_0x423c67['username']);}catch(_0x9d983f){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x9d983f);throw new Error('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x9d983f);return handle_fail(0x2);}try{console['log'](_0x7d34a7),await _0x3696b7['goto'](_0x7d34a7),await delay(0x7d0,0xfa0),await notificationClear(_0x3696b7),await delay(0xc8,0x1f4);const _0x5cc3e2=COM_COMMENTS_BOX_BODY_DIV;try{await checkLoginStatus(_0x3696b7);}catch(_0x5a4763){console['log']('Login-Status\x20nicht\x20ok:\x20'+_0x5a4763);throw new Error('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');}let _0x42bdb8;const _0x3ccf4f=await _0x3696b7['waitForSelector'](COM_ANZAHL_LIKERS_SPAN);await delay(0x12c,0x320);let _0xdf2de0=await _0x3696b7['evaluate'](_0x3a8f0d=>_0x3a8f0d['innerHTML'],_0x3ccf4f),_0x3e3472=String(_0xdf2de0)['replace'](/[^0-9]/g,''),_0x3e2161=Number(_0x3e3472)/0x14;_0x540ac1<=0x0?_0x42bdb8=Math['ceil'](_0x3e2161/0x3):_0x42bdb8=Math['ceil'](_0x540ac1/0x3);_0x1f799a+=_0x42bdb8,_0x20d038=Math['round'](++_0x5a7d26/_0x1f799a*0x64),_0x3370e1['sender']['send']('fetch-progress',_0x20d038,!![]),console['log']('Auto-scrolls:\x20'+_0x42bdb8),await scroll(_0x3696b7,_0x5cc3e2,_0x42bdb8,_0x424b20=>{_0x20d038=Math['round'](++_0x5a7d26/_0x1f799a*0x64),_0x3370e1['sender']['send']('fetch-progress',_0x20d038,!![]);});try{const _0x14dc85=COM_REPLY_BUTTON_SPAN,_0x10631f=await waitForXPathAll(_0x3696b7,_0x14dc85);console['log']('Reply-Buttons\x20gefunden:\x20ANZAHL:\x20'+_0x10631f['size']),await delay(0x1f4,0x320);let _0x1cf2f7=_0x10631f['size'],_0x38b3ad=[];for(const [_0x52b1af,_0x2e9573]of _0x10631f){_0x38b3ad['push'](_0x2e9573);}console['log']('Alle\x20Reply-Buttons:',_0x38b3ad['length']);try{for(let _0x2c0313=0x0;_0x2c0313<_0x1cf2f7;_0x2c0313++){await _0x38b3ad[_0x2c0313]['click'](),await delay(0x320,0x5dc);}}catch(_0x18ccc5){console['log']('Nicht\x20auf\x20Replies\x20geklickt\x20'+_0x18ccc5);throw new Error('Nicht\x20auf\x20Replies\x20geklickt:\x20'+_0x18ccc5);return handle_fail(0x2);}}catch(_0x1d2b88){console['log']('Kein\x20Reply-Button\x20gefunden.\x20Überspringe\x20Schritt');}const _0x1753f0=COM_COMMENTS_USERNAME_ARRAY_SPAN;await _0x3696b7['waitForSelector'](_0x1753f0),await delay(0x1f4,0x320),_0x20d038=Math['round'](++_0x5a7d26/_0x1f799a*0x64),_0x3370e1['sender']['send']('fetch-progress',_0x20d038,!![]);const _0xd0e89b=await _0x3696b7['$$'](_0x1753f0);let _0x461d4f=path['join'](__dirname,'/comments.csv');_0x540ac1<=0x0&&(_0x540ac1=_0xd0e89b['length']);console['log']('fetch_limit:\x20'+_0x540ac1),console['log']('comments_len:\x20'+_0xd0e89b['length']),_0x540ac1++;try{let _0x40b3db=[];for(let _0x4932b7=0x1;_0x4932b7<_0xd0e89b['length']&&_0x4932b7<_0x540ac1;_0x4932b7++){try{_0x40b3db['push'](await _0xd0e89b[_0x4932b7]['evaluate'](_0x71ff41=>_0x71ff41['textContent']));const _0x105775=await db['prepare']('INSERT\x20INTO\x20'+_0x4161af+'\x20(username)\x20VALUES\x20(?)');await _0x105775['run'](await _0xd0e89b[_0x4932b7]['evaluate'](_0x918ec4=>_0x918ec4['textContent']),function(_0x1e37b6){_0x1e37b6&&console['log']('error\x20in\x20add-user:'+_0x1e37b6);}),await _0x105775['finalize']();}catch(_0x4f29d5){console['log']('Fehler\x20innerhalb\x20des\x20Fetchen\x20bei\x20i='+_0x4932b7+'\x20:\x20'+_0x4f29d5);throw new Error('Fehler\x20innerhalb\x20des\x20Fetchen\x20bei\x20i='+_0x4932b7+'\x20:\x20'+_0x4f29d5);return handle_fail(0x2);}}return await delay(0x4b0,0x7d0),_0x20d038=Math['round'](++_0x5a7d26/_0x1f799a*0x64),_0x3370e1['sender']['send']('fetch-progress',_0x20d038,!![]),_0x3370e1['sender']['send']('fetch-progress',0x64,!![]),_0x4db7be&&(_0x3370e1['sender']['send']('fetch-progress',0x0,!![],!![]),await fetch_details_from_list(_0x3370e1,_0x3696b7,_0x423c67,_0x4161af,_0x40b3db)),_0x3370e1['sender']['send']('fetch-progress',0x64,![]),new Promise(_0x43b6c3=>{_0x43b6c3('Scraping\x20finished!');});}catch(_0x4da745){console['log']('Nicht\x20in\x20Comments\x20Datei\x20geschrieben');throw new Error(_0x4da745);return handle_fail(0x2);}}catch(_0x20c24f){console['log']('Comments-Seite\x20nicht\x20geöffnet'+_0x20c24f);throw new Error('Comments-Seite\x20nicht\x20geöffnet:\x20'+_0x20c24f);return handle_fail(0x2);}}async function set_clearname_from_username(_0x16fe54,_0x586878,_0xb95487=null){try{let _0x31bf27,_0x3625a8;const _0x51f85b='SELECT\x20username\x20FROM\x20'+_0x586878+'\x20WHERE\x20clearname\x20IS\x20NULL';db['all'](_0x51f85b,[],(_0x15981d,_0x5f16b8)=>{_0x15981d&&console['error']('Fehler\x20beim\x20Abrufen\x20der\x20Daten:',_0x15981d['message']),_0x5f16b8['length']===0x0&&(_0x3625a8=_0x5f16b8['length']),_0x31bf27=_0x5f16b8['map'](_0x5ee738=>_0x5ee738['username']);}),await delay(0x4b0,0x7d0),console['log']('USERNAME:\x20'+_0x3625a8);if(_0x3625a8===0x0){console['log']('Leave');return;}const _0x1109cb=await _0x16fe54['waitForSelector'](IG_SEARCH_BUTTON);await _0x1109cb['click'](),await delay(0x4b0,0x7d0);for(let _0x445f7a of _0x31bf27){const _0x4fc170=await _0x16fe54['waitForSelector'](IG_SEARCH_INPUT);await _0x4fc170['click']({'clickCount':0x3}),await delay(0x320,0x3e8),await _0x16fe54['type'](IG_SEARCH_INPUT,_0x445f7a,{'delay':getRnd(0x50,0x78)}),await delay(0x4b0,0x7d0);let _0x4bd569=0x1;while(_0x4bd569!=0x14){console['log']('Schleife');try{let _0x18c665=IG_NAME_SPAN_PART1+_0x4bd569+IG_USERNAME_SPAN_PART2;const _0x1e2b54=await _0x16fe54['waitForSelector'](_0x18c665),_0x32e8bf=await _0x16fe54['evaluate'](_0x2bfb90=>_0x2bfb90['innerHTML'],_0x1e2b54);await delay(0xc8,0x1f4);if(_0x32e8bf==_0x445f7a){let _0x1d4efc=IG_NAME_SPAN_PART1+_0x4bd569+IG_CLEARNAME_SPAN_PART2;console['log']('Username\x20gefunden');const _0x4132ae=await _0x16fe54['waitForSelector'](_0x1d4efc);let _0x4c21b5=await _0x16fe54['evaluate'](_0x1a63aa=>_0x1a63aa['innerHTML'],_0x4132ae);const _0x120171=/^(.*?)(?:\s*•\s*)(\d+[,.]?\d*\s*(Tsd\.|Mio\.|Mrd\.)?\s*Follower)$/,_0x227100=_0x4c21b5['match'](_0x120171);_0x227100?_0x4c21b5=_0x227100[0x1]['trim']():_0x4c21b5=_0x4c21b5['trim']();_0x4c21b5['includes']('•')&&(_0x4c21b5=_0x4c21b5['substring'](0x0,_0x4c21b5['indexOf']('•')-0x1));const _0x2abe88='UPDATE\x20'+_0x586878+'\x20SET\x20clearname\x20=\x20?\x20WHERE\x20username\x20=\x20?';db['run'](_0x2abe88,[_0x4c21b5,_0x32e8bf],function(_0x9d0c45){_0x9d0c45&&console['error']('Fehler\x20beim\x20Aktualisieren\x20von\x20clearname:',_0x9d0c45['message']),this['changes']===0x0&&console['log']('Kein\x20Eintrag\x20gefunden,\x20der\x20aktualisiert\x20werden\x20konnte.'),console['log']('Eintrag\x20erfolgreich\x20aktualisiert.');});break;}_0x4bd569++;}catch(_0x1d37fe){const _0x5cf005='UPDATE\x20'+_0x586878+'\x20SET\x20clearname\x20=\x20?\x20WHERE\x20username\x20=\x20?';db['run'](_0x5cf005,['',_0x445f7a],function(_0x573173){_0x573173&&console['error']('Fehler\x20beim\x20Aktualisieren\x20von\x20clearname:',_0x573173['message']),this['changes']===0x0&&console['log']('Kein\x20Eintrag\x20gefunden,\x20der\x20aktualisiert\x20werden\x20konnte.'),console['log']('Eintrag\x20erfolgreich\x20aktualisiert.');}),console['log']('User\x20nicht\x20gefunden:'+_0x1d37fe);break;}}_0xb95487&&_0xb95487();}await _0x1109cb['click']();}catch(_0x37d076){console['log']('Keine\x20Usernames\x20mit\x20NULL-Clearnames\x20gefunden.\x20Überspringen.'),console['log']('Info:\x20'+_0x37d076);}}const campaignPath=path['join'](SqlDataDirectory,'/campaign.db'),campaignDB=new sqlite3['Database'](campaignPath);campaignDB['serialize'](()=>{campaignDB['run']('CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20message\x20(message_id\x20INTEGER\x20PRIMARY\x20KEY,\x20message_text\x20TEXT)'),campaignDB['run']('\x0a\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20campaign\x20(\x0a\x20\x20\x20\x20\x20\x20campaign_name\x20\x20\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20list_id\x20\x20\x20\x20\x20\x20\x20\x20\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20zeitabstand\x20\x20\x20\x20\x20REAL,\x0a\x20\x20\x20\x20\x20\x20message_id\x20\x20\x20\x20\x20\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20account\x20\x20\x20\x20\x20\x20\x20\x20\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20skipFollowing\x20\x20\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20skipChatted\x20\x20\x20\x20\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20FOREIGN\x20KEY(message_id)\x20REFERENCES\x20messages(message_id)\x0a\x20\x20\x20\x20)\x0a\x20\x20'),campaignDB['run']('ALTER\x20TABLE\x20campaign\x20ADD\x20COLUMN\x20skipFollowing\x20INTEGER\x20DEFAULT\x200',()=>{}),campaignDB['run']('ALTER\x20TABLE\x20campaign\x20ADD\x20COLUMN\x20skipChatted\x20INTEGER\x20DEFAULT\x200',()=>{}),campaignDB['run']('CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20dm\x20(dm_id\x20INTEGER\x20PRIMARY\x20KEY,\x20message_id\x20INTEGER,\x20account\x20TEXT,\x20username\x20TEXT,\x20list_id\x20TEXT,\x20date\x20TIMESTAMP\x20DEFAULT\x20CURRENT_TIMESTAMP,\x20FOREIGN\x20KEY\x20(message_id)\x20REFERENCES\x20messages\x20(message_id))');}),ipcMain['handle']('get-campaigns',async()=>{return new Promise((_0x2966ac,_0x281ea7)=>{const _0x1e72a2='SELECT\x20campaign_name\x20FROM\x20campaign';campaignDB['all'](_0x1e72a2,[],(_0x3832b,_0x4fe1c5)=>{_0x3832b?_0x281ea7(_0x3832b):_0x2966ac(_0x4fe1c5);});});}),ipcMain['handle']('get-campaign-details',async()=>{return new Promise((_0x2e6ee1,_0x56f702)=>{const _0x49f92f='SELECT\x20campaign_name,\x20list_id\x20FROM\x20campaign';campaignDB['all'](_0x49f92f,[],async(_0x5ef97e,_0x2a42a0)=>{if(_0x5ef97e)console['error']('Fehler\x20beim\x20Abrufen\x20der\x20Kampagnen:',_0x5ef97e['message']),_0x56f702({'status':'error','message':_0x5ef97e['message']});else try{const _0x3649c9=await Promise['all'](_0x2a42a0['map'](_0x4d5075=>{return new Promise(_0x32cc1d=>{if(!_0x4d5075['list_id']){console['warn']('Fehlende\x20list_id\x20für\x20Kampagne:\x20'+_0x4d5075['campaign_name']),_0x32cc1d({'campaign_name':_0x4d5075['campaign_name'],'lead_count':'N/A','contacted_count':'N/A'});return;}const _0x53c1f2='SELECT\x20COUNT(*)\x20as\x20lead_count\x20FROM\x20'+_0x4d5075['list_id'],_0x217322='SELECT\x20COUNT(*)\x20as\x20contacted_count\x20FROM\x20campaign\x20LEFT\x20JOIN\x20dm\x20ON\x20campaign.list_id\x20=\x20dm.list_id\x20WHERE\x20dm.list_id\x20=\x20\x22'+_0x4d5075['list_id']+'\x22';db['get'](_0x53c1f2,[],(_0x5dcfd4,_0x4dbc53)=>{_0x5dcfd4?(console['error']('Fehler\x20beim\x20Abrufen\x20der\x20Leads\x20für\x20'+_0x4d5075['campaign_name']+':',_0x5dcfd4['message']),_0x32cc1d({'campaign_name':_0x4d5075['campaign_name'],'lead_count':'N/A','contacted_count':'N/A'})):campaignDB['get'](_0x217322,[],(_0x45ba5b,_0x475aa7)=>{_0x45ba5b?(console['error']('Fehler\x20beim\x20Abrufen\x20der\x20kontaktierten\x20Nutzer\x20für\x20'+_0x4d5075['campaign_name']+':',_0x45ba5b['message']),_0x32cc1d({'campaign_name':_0x4d5075['campaign_name'],'lead_count':_0x4dbc53?_0x4dbc53['lead_count']:0x0,'contacted_count':'N/A'})):_0x32cc1d({'campaign_name':_0x4d5075['campaign_name'],'lead_count':_0x4dbc53?_0x4dbc53['lead_count']:0x0,'contacted_count':_0x475aa7?_0x475aa7['contacted_count']:0x0});});});});}));_0x2e6ee1({'status':'success','campaigns':_0x3649c9});}catch(_0x149eaf){console['error']('Fehler\x20bei\x20der\x20Verarbeitung\x20der\x20Kampagnendetails:',_0x149eaf),_0x56f702({'status':'error','message':_0x149eaf['message']});}});});}),ipcMain['handle']('get-campaign-writer-information',async(_0xe0252b,_0xca8a5a)=>{return new Promise((_0x415692,_0x1784c3)=>{const _0x2182be='SELECT\x20campaign.list_id,\x20message.message_text,\x20message.message_id,\x20campaign.zeitabstand,\x20campaign.account,\x20skipFollowing,\x20skipChatted\x20FROM\x20campaign\x20LEFT\x20JOIN\x20message\x20ON\x20campaign.message_id\x20=\x20message.message_id\x20WHERE\x20campaign.campaign_name\x20=\x20?;';campaignDB['all'](_0x2182be,[_0xca8a5a],(_0x3845cf,_0x489818)=>{_0x3845cf?(console['error']('Fehler\x20beim\x20Abrufen\x20der\x20Kampagnendetails:',_0x3845cf),_0x1784c3(_0x3845cf)):(console['log']('ROWS'),console['log'](_0x489818),debugDatabaseContents(),_0x415692(_0x489818));});});});const showTableContents=_0x117134=>{return new Promise((_0x100a0c,_0x4d8913)=>{const _0x3d027a='SELECT\x20*\x20FROM\x20'+_0x117134+';';campaignDB['all'](_0x3d027a,(_0xd61a8a,_0x1f9170)=>{_0xd61a8a?(console['error']('Fehler\x20beim\x20Abrufen\x20der\x20Daten\x20aus\x20'+_0x117134+':',_0xd61a8a),_0x4d8913(_0xd61a8a)):(console['log']('Inhalt\x20der\x20Tabelle\x20'+_0x117134+':',_0x1f9170),_0x100a0c({'status':'success','message':_0x1f9170}));});});};async function debugDatabaseContents(){try{console['log']('Inhalt\x20der\x20Tabelle\x20\x27campaign\x27:'),await showTableContents('campaign'),console['log']('Inhalt\x20der\x20Tabelle\x20\x27message\x27:'),await showTableContents('message'),console['log']('Inhalt\x20der\x20Tabelle\x20\x27dm\x27:'),await showTableContents('dm');}catch(_0x1839d4){console['error']('Fehler\x20beim\x20Debuggen\x20der\x20Tabelleninhalte:',_0x1839d4);}}ipcMain['handle']('create-campaign',async(_0x5700dd,_0x1d4605)=>{return new Promise((_0x43c397,_0x1b02ab)=>{const _0x1bf456='INSERT\x20INTO\x20campaign\x20(campaign_name)\x20VALUES\x20(?)';campaignDB['run'](_0x1bf456,[String(_0x1d4605)],function(_0x15f2a5){_0x15f2a5?_0x1b02ab(_0x15f2a5):_0x43c397({'status':'success','message':'Campaign\x20created\x20successfully'});});});}),ipcMain['handle']('delete-campaign',async(_0x9f023a,_0x2cbeed)=>{return new Promise((_0x2f6ab8,_0x1c31dc)=>{const _0x2d5408='DELETE\x20FROM\x20campaign\x20WHERE\x20campaign_name\x20=\x20?';campaignDB['run'](_0x2d5408,[_0x2cbeed],function(_0xc52411){_0xc52411?_0x1c31dc(_0xc52411):_0x2f6ab8({'status':'success','message':'Campaign\x20deleted\x20successfully'});});});}),ipcMain['handle']('update-campaign',async(_0x4b9de6,_0x40bfc2,_0x1a51fe,_0x5f51c2,_0x443a8b,_0x17dae7,_0x520ecb,_0x1bcb8b)=>{const _0x256a63=await createMessageID(_0x443a8b);return new Promise((_0x17d241,_0x574ae2)=>{if(!_0x40bfc2||!_0x1a51fe||!_0x5f51c2||!_0x256a63||!_0x17dae7)return _0x574ae2({'status':'error','message':'Fehlende\x20Eingabe,\x20bitte\x20prüfen!'});console['log']('Message-ID:\x20'+_0x256a63);const _0x14d4bd='\x0a\x20\x20\x20\x20\x20\x20UPDATE\x20campaign\x20\x0a\x20\x20\x20\x20\x20\x20SET\x20list_id\x20=\x20?,\x20zeitabstand\x20=\x20?,\x20message_id\x20=\x20?,\x20account\x20=\x20?,\x20skipFollowing\x20=\x20?,\x20skipChatted\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20WHERE\x20campaign_name\x20=\x20?\x0a\x20\x20\x20\x20';campaignDB['run'](_0x14d4bd,[_0x1a51fe,_0x5f51c2,_0x256a63,_0x17dae7,_0x520ecb,_0x1bcb8b,_0x40bfc2],function(_0x3096c0){if(_0x3096c0)_0x574ae2({'status':'error','message':_0x3096c0['message']});else this['changes']===0x0?_0x574ae2({'status':'error','message':'Kein\x20Eintrag\x20gefunden,\x20der\x20aktualisiert\x20werden\x20kann.'}):_0x17d241({'status':'success','message':'Kampagne\x20erfolgreich\x20aktualisiert!'});});});}),ipcMain['handle']('update-dm',(_0x3b2216,_0x288adc,_0x214661,_0x2a7f02,_0x13a412)=>{return new Promise((_0xb484d4,_0x5208c5)=>{const _0x19d902='INSERT\x20INTO\x20dm\x20(message_id,\x20account,\x20username,\x20list_id)\x20VALUES\x20(?,\x20?,\x20?,\x20?)';campaignDB['run'](_0x19d902,[_0x288adc,_0x214661,_0x2a7f02,_0x13a412],function(_0x431f5f){return _0x431f5f?(console['error']('Fehler\x20beim\x20Einfügen\x20in\x20die\x20Tabelle\x20\x27dm\x27:',_0x431f5f['message']),_0x5208c5('insert-dm-response',{'success':![],'message':_0x431f5f['message']})):(console['log']('Eintrag\x20erfolgreich\x20hinzugefügt:',this['lastID']),_0xb484d4('insert-dm-response',{'success':!![],'message':'Eintrag\x20erfolgreich\x20hinzugefügt'}));});});});const createMessageID=_0x50e2f7=>{return new Promise((_0x405d5f,_0x516c0c)=>{const _0x21e54f='SELECT\x20message_id\x20FROM\x20message\x20WHERE\x20message_text\x20=\x20?';campaignDB['get'](_0x21e54f,[_0x50e2f7],(_0x5677c6,_0x2f528e)=>{if(_0x5677c6)_0x516c0c({'status':'error','message':_0x5677c6['message']});else{if(_0x2f528e)_0x405d5f(_0x2f528e['message_id']);else{const _0x3c96d0='INSERT\x20INTO\x20message\x20(message_text)\x20VALUES\x20(?)';campaignDB['run'](_0x3c96d0,[_0x50e2f7],function(_0x22f642){_0x22f642?_0x516c0c({'status':'error','message':_0x22f642['message']}):_0x405d5f(this['lastID']);});}}});});};ipcMain['handle']('get-lead_count',async(_0x57fb45,_0x1fa850)=>{return new Promise((_0x2ef692,_0x248170)=>{const _0x33881c='SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20'+_0x1fa850;db['get'](_0x33881c,(_0x239416,_0x23f718)=>{_0x239416?_0x248170({'status':'error','message':_0x239416['message']}):_0x2ef692({'status':'success','count':_0x23f718['count']});});});});const dbPath=path['join'](SqlDataDirectory,'/crm.db'),db=new sqlite3['Database'](dbPath);db['serialize'](()=>{db['run']('CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20leads\x20(username\x20TEXT\x20PRIMARY\x20KEY,\x20clearname\x20TEXT,\x20ProfilePic\x20TEXT,\x20Bio\x20TEXT,\x20Follower_Count\x20Integer,\x20Following_Count\x20Integer,\x20Post_Count\x20Integer,\x20Isverified\x20Boolean,\x20Isprivat\x20Boolean,\x20IsBusiness\x20Boolean)');});const igaccountsPath=path['join'](SqlDataDirectory,'/igaccounts.db');console['log']('igaccountsPath:\x20'+igaccountsPath);const igaccountsDB=new sqlite3['Database'](igaccountsPath);igaccountsDB['serialize'](()=>{igaccountsDB['run']('CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20accounts\x20(username\x20TEXT\x20PRIMARY\x20KEY,\x20cookie\x20TEXT)');});async function setCookiesForUser(_0x5a5790,_0x3c8c2e){try{const _0x29bdd2=await new Promise((_0x12a8a6,_0x2879ac)=>{igaccountsDB['all']('SELECT\x20cookie\x20FROM\x20accounts\x20WHERE\x20username=?',[_0x3c8c2e],(_0x2a781d,_0x57b4ae)=>{if(_0x2a781d)_0x2879ac(_0x2a781d);else{if(_0x57b4ae['length']>0x0){let _0x2b3654=JSON['parse'](_0x57b4ae[0x0]['cookie']);console['log'](_0x2b3654),_0x12a8a6(_0x2b3654);}else _0x2879ac(new Error('User\x20with\x20username\x20'+_0x3c8c2e+'\x20does\x20not\x20exist.'));}});});await _0x5a5790['setCookie'](..._0x29bdd2),console['log']('Cookies\x20were\x20successfully\x20added.');}catch(_0x4a1f1e){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:\x20'+_0x4a1f1e);}}async function saveCookiesForUser(_0x14a828,_0x56969a){try{const _0x5c4d55=await _0x14a828['cookies']();if(!_0x5c4d55||_0x5c4d55['length']===0x0)throw new Error('Keine\x20gültigen\x20Cookies\x20gefunden\x20für\x20'+_0x56969a);const _0x53bf46=JSON['stringify'](_0x5c4d55);if(_0x53bf46['trim']()==='[]')throw new Error('Cookies\x20sind\x20leer\x20für\x20'+_0x56969a);return new Promise((_0x562f57,_0x36e60e)=>{igaccountsDB['get']('SELECT\x20username\x20FROM\x20accounts\x20WHERE\x20username\x20=\x20?',[_0x56969a],(_0x2d8fd8,_0x8d4758)=>{if(_0x2d8fd8)return console['error']('Error\x20checking\x20user\x20existence:',_0x2d8fd8),_0x36e60e(_0x2d8fd8);if(_0x8d4758){const _0x2851a6=igaccountsDB['prepare']('UPDATE\x20accounts\x20SET\x20cookie\x20=\x20?\x20WHERE\x20username\x20=\x20?');_0x2851a6['run'](_0x53bf46,_0x56969a,function(_0xb1ae48){return _0xb1ae48?(console['error']('Error\x20updating\x20cookies:',_0xb1ae48),_0x36e60e(_0xb1ae48)):(console['log']('Cookies\x20updated\x20for\x20user:',_0x56969a),_0x562f57());});}else{const _0x85a60b=igaccountsDB['prepare']('INSERT\x20INTO\x20accounts\x20(username,\x20cookie)\x20VALUES\x20(?,\x20?)');_0x85a60b['run'](_0x56969a,_0x53bf46,function(_0x1d9f39){return _0x1d9f39?(console['error']('Error\x20inserting\x20new\x20user\x20and\x20cookies:',_0x1d9f39),_0x36e60e(_0x1d9f39)):(console['log']('New\x20user\x20created\x20and\x20cookies\x20saved\x20for\x20user:',_0x56969a),_0x562f57());});}});});}catch(_0x45d169){console['error']('Error\x20fetching\x20cookies:',_0x45d169);throw _0x45d169;}}async function createUserIfNotExists(_0x31177f){try{igaccountsDB['get']('SELECT\x20username\x20FROM\x20accounts\x20WHERE\x20username\x20=\x20?',[_0x31177f],(_0x3c1d2c,_0x56345f)=>{if(_0x3c1d2c){console['error']('Error\x20checking\x20user\x20existence:',_0x3c1d2c);throw _0x3c1d2c;}else{if(!_0x56345f){const _0x549e8d=igaccountsDB['prepare']('INSERT\x20INTO\x20accounts\x20(username)\x20VALUES\x20(?)');_0x549e8d['run'](_0x31177f,function(_0x270d24){_0x270d24?console['error']('Error\x20inserting\x20new\x20user:',_0x270d24):console['log']('New\x20user\x20created:',_0x31177f);});}else console['log']('User\x20already\x20exists:',_0x31177f);}});}catch(_0x39c70d){console['error']('Error\x20creating\x20user:',_0x39c70d);throw _0x39c70d;}}ipcMain['handle']('create-relation',async(_0x53859c,_0x54bee1)=>{return new Promise((_0xb1edfb,_0x3f2713)=>{const _0x1e1395='CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20'+_0x54bee1+'\x20(username\x20TEXT\x20PRIMARY\x20KEY,\x20clearname\x20TEXT,\x20ProfilePic\x20TEXT,\x20Bio\x20TEXT,\x20Follower_Count\x20Integer,\x20Following_Count\x20Integer,\x20Post_Count\x20Integer,\x20Isverified\x20Boolean,\x20Isprivat\x20Boolean,\x20IsBusiness\x20Boolean)';db['run'](_0x1e1395,function(_0x440c88){_0x440c88?_0x3f2713(_0x440c88):_0xb1edfb({'status':'success'});});});}),ipcMain['handle']('delete-relation',async(_0x5923be,_0x34d6ad)=>{return console['log']('droping\x20table'+_0x34d6ad),new Promise((_0x409969,_0x30a5d3)=>{const _0x5ed8b7='DROP\x20TABLE\x20IF\x20EXISTS\x20'+_0x34d6ad;console['log']('droping\x20table'+_0x34d6ad),db['run'](_0x5ed8b7,function(_0x1ec4c7){_0x1ec4c7?_0x30a5d3(_0x1ec4c7):_0x409969({'status':'success'});});});}),ipcMain['handle']('get-relations',async _0x2d167e=>{return new Promise((_0x3d1e9c,_0x2e6a6a)=>{const _0x503631='SELECT\x20name\x20FROM\x20sqlite_master\x20WHERE\x20type=\x27table\x27';db['all'](_0x503631,[],(_0x4ceb06,_0x28866b)=>{_0x4ceb06?_0x2e6a6a(_0x4ceb06):_0x3d1e9c(_0x28866b['map'](_0x1ad1d9=>_0x1ad1d9['name']));});});}),ipcMain['handle']('add-user',async(_0x16944d,_0x24bd4b,_0x5c6734)=>{return new Promise(_0x1cd4ce=>{const _0x201e33=db['prepare']('INSERT\x20INTO\x20'+_0x5c6734+'\x20(username)\x20VALUES\x20(?)');_0x201e33['run'](_0x24bd4b,function(_0x461852){_0x461852?console['log']('error\x20in\x20add-user:'+_0x461852):_0x1cd4ce({'status':'success','id':this['lastID']});}),_0x201e33['finalize']();});}),ipcMain['handle']('get-users',async()=>{return new Promise((_0xc56b3a,_0x1a8b8d)=>{db['all']('SELECT\x20*\x20FROM\x20leads',(_0x25954d,_0x4c73c3)=>{if(_0x25954d)_0x1a8b8d(_0x25954d);else{_0xc56b3a({'status':'success','users':_0x4c73c3});for(_0x4c73c3 of _0x4c73c3){console['log'](_0x4c73c3['username']);}}});});}),ipcMain['handle']('get-data',async(_0x9ab586,_0x5d2575)=>{return new Promise((_0x45a618,_0x54ab8d)=>{const _0x220ff8='SELECT\x20*\x20FROM\x20'+_0x5d2575;console['log'](_0x220ff8),db['all'](_0x220ff8,[],(_0x5bfbe0,_0x477187)=>{_0x5bfbe0?_0x54ab8d(_0x5bfbe0):_0x45a618(_0x477187);});});}),ipcMain['handle']('get-accounts',async _0x393e69=>{return new Promise((_0x1db721,_0x42879f)=>{const _0x55de41='SELECT\x20*\x20FROM\x20accounts';console['log'](_0x55de41),igaccountsDB['all'](_0x55de41,[],(_0x4b8ccd,_0x2df094)=>{_0x4b8ccd?_0x42879f(_0x4b8ccd):_0x1db721(_0x2df094);});});}),ipcMain['handle']('get-targets',async(_0x2d6035,_0x4e33c8)=>{return getTargetProfiles(_0x4e33c8);}),ipcMain['handle']('delete-user',async(_0x4370e6,_0x11d00b,_0xf39478)=>{return new Promise((_0x48533e,_0x4698d5)=>{const _0x4e8a34=db['prepare']('DELETE\x20FROM\x20'+_0xf39478+'\x20WHERE\x20username\x20=\x20?');_0x4e8a34['run'](_0x11d00b,function(_0x1d4b6d){_0x1d4b6d?_0x4698d5(_0x1d4b6d):_0x48533e({'status':'success','changes':this['changes']});}),_0x4e8a34['finalize']();});}),ipcMain['handle']('delete-account',async(_0x93148a,_0x257f14)=>{const _0x5deed0=igaccountsDB['prepare']('DELETE\x20FROM\x20accounts\x20WHERE\x20username\x20=\x20?');_0x5deed0['run'](_0x257f14,function(_0x184a31){_0x184a31&&console['log'](_0x184a31);}),_0x5deed0['finalize']();}),ipcMain['handle']('get-contacted-count-this-month',async()=>{return new Promise((_0x564397,_0x1a752c)=>{const _0x92e4a='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20COUNT(*)\x20as\x20contactedCount\x0a\x20\x20\x20\x20\x20\x20FROM\x20dm\x0a\x20\x20\x20\x20\x20\x20WHERE\x20strftime(\x27%Y-%m\x27,\x20date)\x20=\x20strftime(\x27%Y-%m\x27,\x20\x27now\x27)\x0a\x20\x20\x20\x20';campaignDB['get'](_0x92e4a,[],(_0x5a45c3,_0x28246f)=>{_0x5a45c3?_0x1a752c({'status':'error','message':_0x5a45c3['message']}):_0x564397({'status':'success','contactedCount':_0x28246f['contactedCount']});});});}),ipcMain['handle']('get-contacted-count-today',async()=>{return new Promise((_0x2b040a,_0x88fc81)=>{const _0x1b0e16='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20COUNT(*)\x20as\x20contactedCount\x0a\x20\x20\x20\x20\x20\x20FROM\x20dm\x0a\x20\x20\x20\x20\x20\x20WHERE\x20date(date)\x20=\x20date(\x27now\x27)\x0a\x20\x20\x20\x20';campaignDB['get'](_0x1b0e16,[],(_0xb134b8,_0x267cbb)=>{_0xb134b8?_0x88fc81({'status':'error','message':_0xb134b8['message']}):_0x2b040a({'status':'success','contactedCount':_0x267cbb['contactedCount']});});});});function exportDatabase(_0x1c4439){return new Promise((_0x27768e,_0x8db9fe)=>{const _0x26d702='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20username,\x20Follower_Count,\x20Following_Count,\x20Post_Count,\x20clearname,\x20Bio\x0a\x20\x20\x20\x20\x20\x20FROM\x20'+_0x1c4439+'\x0a\x20\x20\x20\x20';db['all'](_0x26d702,[],async(_0x35298e,_0x7078a1)=>{if(_0x35298e){console['error']('Fehler\x20bei\x20der\x20Abfrage:',_0x35298e['message']),_0x8db9fe(_0x35298e);return;}if(!_0x7078a1||_0x7078a1['length']===0x0){console['log']('Keine\x20Daten\x20gefunden.'),_0x27768e();return;}const _0x3dd801=XLSX['utils']['json_to_sheet'](_0x7078a1),_0x67db41=XLSX['utils']['sheet_to_csv'](_0x3dd801);try{const {canceled:_0x23c9c9,filePath:_0x5de361}=await dialog['showSaveDialog']({'title':'CSV-Datei\x20exportieren','defaultPath':path['join'](app['getPath']('documents'),_0x1c4439+'.csv'),'buttonLabel':'Speichern','filters':[{'name':'CSV\x20Files','extensions':['csv']},{'name':'All\x20Files','extensions':['*']}]});if(_0x23c9c9||!_0x5de361){console['log']('Speichern\x20abgebrochen.'),_0x27768e();return;}fs['writeFile'](_0x5de361,_0x67db41,'utf8',_0x1b9606=>{_0x1b9606?(console['error']('Fehler\x20beim\x20Schreiben\x20der\x20Datei:',_0x1b9606['message']),_0x8db9fe(_0x1b9606)):(console['log']('CSV-Datei\x20erfolgreich\x20exportiert:',_0x5de361),_0x27768e());});}catch(_0x8738bd){console['error']('Fehler\x20im\x20Speicherdialog:',_0x8738bd),_0x8db9fe(_0x8738bd);}});});}ipcMain['handle']('start-stripe-checkout',async(_0x1075ef,_0x47c858)=>{shell['openExternal'](_0x47c858);});