const {app,BrowserWindow,ipcMain,dialog,shell,powerSaveBlocker}=require('electron'),path=require('path'),puppeteer=require('puppeteer'),fs=require('fs')['promises'],{convertArrayToCSV}=require('convert-array-to-csv'),{replace}=require('formik'),{spawn}=require('child_process'),sqlite3=require('sqlite3')['verbose'](),XLSX=require('xlsx'),fs_no_promise=require('fs');async function extractFirstName(_0x26e79a,_0x23ea01){try{const _0x20c999=await fetch('https://extractfirstname-dnfofjyvnq-uc.a.run.app',{'method':'POST','headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+_0x23ea01},'body':JSON['stringify']({'clearname':_0x26e79a})});if(!_0x20c999['ok']){const _0x52f0cc=await _0x20c999['text']();throw new Error(_0x20c999['status']+':\x20'+_0x52f0cc);}const _0x19cb27=await _0x20c999['json']();return _0x19cb27;}catch(_0x2dae25){console['error']('Error\x20in\x20extractFirstName:',_0x2dae25);throw _0x2dae25;}}const ANZAHL_FOLLOWER_BUTTON='section.xc3tme8.x1xdureb.x18wylqe.x13vxnyz.xvxrpd7\x20>\x20ul\x20>\x20li:nth-child(2)\x20>\x20div\x20>\x20a\x20>\x20span\x20>\x20span\x20>\x20span',FOLLOWER_BUTTON='div.x9f619.x1n2onr6.x1ja2u2z\x20>\x20div\x20>\x20div\x20>\x20div.x78zum5.x1ja2u2z\x20>\x20div:nth-child(2)\x20>\x20div\x20>\x20div.x1gryazu\x20>\x20section\x20>\x20main\x20>\x20div\x20>\x20header\x20>\x20section.xc3tme8\x20>\x20ul\x20>\x20li:nth-child(2)\x20>\x20div\x20>\x20a',FOLLOWER_FENSTER='div:has(>\x20div[style=\x22height:\x20auto;\x20overflow:\x20hidden\x20auto;\x22])',FOLLOWER_USERNAME_SPALTEN_ARRAY='div.x9f619.x1ja2u2z.x78zum5.x1n2onr6.x1iyjqo2.xs83m0k.xeuugli.x1qughib.x6s0dn4.x1a02dak.x1q0g3np.xdl72j9\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20span\x20>\x20div\x20>\x20a\x20>\x20div\x20>\x20div\x20>\x20span',FOLLOWER_CLEARNAME_SPALTEN_ARRAY='div.x9f619.x1ja2u2z.x78zum5.x1n2onr6.x1iyjqo2.xs83m0k.xeuugli.x1qughib.x6s0dn4.x1a02dak.x1q0g3np.xdl72j9\x20>\x20div\x20>\x20div\x20>\x20span\x20>\x20span',LIKERS_USERNAME_SPALTEN_ARRAY='div.x9f619.x1ja2u2z.x78zum5.x1n2onr6.x1iyjqo2.xs83m0k.xeuugli.x1qughib.x6s0dn4.x1a02dak.x1q0g3np.xdl72j9\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20span\x20>\x20div\x20>\x20a\x20>\x20div\x20>\x20div\x20>\x20span',LIKERS_CLEARNAME_SPALTEN_ARRAY='div.x9f619.x1ja2u2z.x78zum5.x1n2onr6.x1iyjqo2.xs83m0k.xeuugli.x1qughib.x6s0dn4.x1a02dak.x1q0g3np.xdl72j9\x20>\x20div\x20>\x20div\x20>\x20span\x20>\x20span',COM_ANZAHL_LIKERS_SPAN='[style=\x22line-height:\x2018px;\x22]',COM_COMMENTS_BOX_BODY_DIV='div.x5yr21d.xw2csxc.x1odjw0f.x1n2onr6',COM_REPLY_BUTTON_SPAN='//span[contains(.,\x20\x27View\x20all\x27)\x20and\x20contains(.,\x20\x27replies\x27)]',COM_COMMENTS_USERNAME_ARRAY_SPAN='span._ap3a._aaco._aacw._aacx._aad7._aade',K_DIRECT_MSG_BUTTON=['//div[@role=\x27button\x27\x20and\x20normalize-space(text())=\x27Message\x27]','div.x9f619.xjbqb8w.x78zum5.x15mokao.x1ga7v0g.x16uus16.xbiv7yw.x1n2onr6.x6ikm8r.x10wlt62.x1iyjqo2.x2lwn1j.xeuugli.xdt5ytf.xqjyukv.x1qjc9v5.x1oa3qoh.x1nhvcw1\x20>\x20div','div.x9f619.xjbqb8w.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.x1n2onr6.x6ikm8r.x10wlt62.x1iyjqo2.x2lwn1j.xeuugli.xdt5ytf.xqjyukv.x1qjc9v5.x1oa3qoh.x1nhvcw1\x20>\x20div'],K_OPTIONS_BUTTON=['[aria-label=\x22Options\x22]','section.x1xdureb.x1agbcgv.xieb3on.x1lhsz42.xr1yuqi.x6ikm8r.x10wlt62.x1jfgfrl\x20>\x20div\x20>\x20div\x20>\x20div:nth-child(3)\x20>\x20div'],K_INNER_MSG_BUTTON='button:nth-child(6)',K_CHAT_INPUT_FIELD=['[aria-label=\x22Message\x22]','div.xzsf02u.x1a2a7pz.x1n2onr6.x14wi4xw.x1iyjqo2.x1gh3ibb.xisnujt.xeuugli.x1odjw0f'],K_SEND_MSG_BUTTON=['//div[@role=\x27button\x27\x20and\x20normalize-space(text())=\x27Send\x27]','div.x1i10hfl.xjqpnuy.xa49m3k.xqeqjp1.x2hbi6w.xdl72j9.x2lah0s.xe8uvvx.xdj266r.x1mh8g0r.x2lwn1j.xeuugli.x1hl2dhg.xggy1nq.x1ja2u2z.x1t137rt.x1q0g3np.x1a2a7pz.x6s0dn4.xjyslct.x1ejq31n.xd10rxx.x1sy0etr.x17r0tee.x9f619.x1ypdohk.x1f6kntn.xl56j7k.x17ydfre.x2b8uid.xlyipyv.x87ps6o.x14atkfc.x5c86q.x18br7mf.x1i0vuye.xl0gqc1.xr5sc7.xlal1re.x14jxsvd.xt0b8zv.xjbqb8w.xm3z3ea.x1x8b98j.x131883w.x16mih1h.x972fbf.xcfux6l.x1qhh985.xm0m39n.xt0psk2.xt7dq6l.xexx8yu.x4uap5.x18d9i69.xkhd6sd.x1n2onr6.x1n5bzlp.x7fd4wk.x1sfzahb.xfs2ol5','div.x1i10hfl.xjqpnuy.xa49m3k.xqeqjp1.x2hbi6w.xdl72j9.x2lah0s.xe8uvvx.xdj266r.x1mh8g0r.x2lwn1j.xeuugli.x1hl2dhg.xggy1nq.x1ja2u2z.x1t137rt.x1q0g3np.x1lku1pv.x1a2a7pz.x6s0dn4.xjyslct.x1ejq31n.xd10rxx.x1sy0etr.x17r0tee.x9f619.x1ypdohk.x1f6kntn.xwhw2v2.xl56j7k.x17ydfre.x2b8uid.xlyipyv.x87ps6o.x14atkfc.xcdnw81.x1i0vuye.xjbqb8w.xm3z3ea.x1x8b98j.x131883w.x16mih1h.x972fbf.xcfux6l.x1qhh985.xm0m39n.xt0psk2.xt7dq6l.xexx8yu.x4uap5.x18d9i69.xkhd6sd.x1n2onr6.x1n5bzlp.x173jzuc.x1yc6y37.x7fd4wk.x1sfzahb.xfs2ol5'],K_ALREADY_CHATTED='[aria-label=\x22Double\x20tap\x20to\x20like\x22]',K_MSG_DISABLED_LABEL='div.x6s0dn4.x1yvgwvq.x1dqoszc.x1ixjvfu.xhk4uv.x13fuv20.xu3j5b3.x1q0q8m5.x26u7qi.x178xt8z.xm81vs4.xso031l.xy80clv.x78zum5.x1gg8mnh\x20>\x20div\x20>\x20span',IG_NAME_SPAN_PART1='a:nth-child(',IG_USERNAME_CLEANAME_PART2_BOX=')\x20>\x20div.x9f619.xjbqb8w.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.xxbr6pl.xbbxn1n.xwib8y2.x1y1aw1k.x1uhb9sk.x1plvlek.xryxfnj.x1c4vz4f.x2lah0s.xdt5ytf.xqjyukv.x1qjc9v5.x1oa3qoh.x1nhvcw1\x20>\x20div\x20>\x20div\x20>\x20div.x9f619.x1ja2u2z.x78zum5.x1n2onr6.x1iyjqo2.xs83m0k.xeuugli.x1qughib.x6s0dn4.x1a02dak.x1q0g3np.xdl72j9',IG_USERNAME_SPAN_PART2=IG_USERNAME_CLEANAME_PART2_BOX+'\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20span',IG_CLEARNAME_SPAN_PART2=IG_USERNAME_CLEANAME_PART2_BOX+'\x20>\x20div\x20>\x20div\x20>\x20span\x20>\x20span',IG_SEARCH_INPUT='div.x9f619.xjbqb8w.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.x1d52u69.xktsk01.x1n2onr6.x1plvlek.xryxfnj.x1c4vz4f.x2lah0s.xdt5ytf.xqjyukv.x1qjc9v5.x1oa3qoh.x1nhvcw1\x20>\x20div\x20>\x20div\x20>\x20input',IG_SEARCH_BUTTON='div.x9f619.xvbhtw8.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.x1uhb9sk.x1plvlek.xryxfnj.x1c4vz4f.x2lah0s.x1q0g3np.xqjyukv.x1qjc9v5.x1oa3qoh.x1qughib\x20>\x20div.x9f619.xjbqb8w.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.xixxii4.x13vifvy.x1plvlek.xryxfnj.x1c4vz4f.x2lah0s.xdt5ytf.xqjyukv.x1qjc9v5.x1oa3qoh.x1nhvcw1.x1dr59a3.xeq5yr9.x1n327nk\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20div.x1iyjqo2.xh8yej3\x20>\x20div:nth-child(2)\x20>\x20span\x20>\x20div';function createWindow(){const _0x1cb434=new BrowserWindow({'width':0x320,'height':0x258,'title':'Odano','webPreferences':{'preload':path['join'](__dirname,'preload.js'),'contextIsolation':!![],'enableRemoteModule':![]}});console['log'](__dirname),_0x1cb434['loadFile'](path['join'](__dirname,'index.html')),process['env']['NODE_ENV']==='development'&&_0x1cb434['webContents']['openDevTools']();}app['whenReady']()['then'](createWindow),app['on']('window-all-closed',()=>{app['quit']();}),app['on']('activate',()=>{BrowserWindow['getAllWindows']()['length']===0x0&&createWindow();});function createChildWindow(_0x23f10d){var _0x2faaa7=![];BrowserWindow['getAllWindows']()['forEach'](function(_0x32bec5){console['log']('window\x20id:'+_0x32bec5['id']),_0x32bec5['id']>0x1&&(_0x2faaa7=!![]);}),console['log']('child\x20opened\x20='+_0x2faaa7);if(!_0x2faaa7){const _0x590630=new BrowserWindow({'width':0x320,'height':0x258,'title':'Odano','webPreferences':{'nodeIntegration':!![],'enableRemoteModule':!![],'contextBridge':!![],'nativeWindowOpen':!![],'nodeIntegrationInSubFrames':!![],'parent':win,'preload':path['join'](__dirname,'preload.js')}});_0x590630['loadFile'](_0x23f10d['url']);}else console['log']('child\x20window\x20opened\x20already');}ipcMain['on']('restart-app',()=>{process['platform']==='darwin'&&(console['log']('Neustart\x20der\x20Anwendung'),app['relaunch'](),app['exit'](0x0));});let powerSaveBlockerId;app['on']('ready',()=>{powerSaveBlockerId=powerSaveBlocker['start']('prevent-app-suspension'),console['log']('Power\x20Save\x20Blocker\x20gestartet\x20mit\x20ID:\x20'+powerSaveBlockerId);}),app['on']('before-quit',()=>{powerSaveBlocker['isStarted'](powerSaveBlockerId)&&(powerSaveBlocker['stop'](powerSaveBlockerId),console['log']('Power\x20Save\x20Blocker\x20gestoppt.'));if(process['defaultApp']){console['log']('Testmodus\x20–\x20Update\x20wird\x20übersprungen');return;}customUpdateMacApp();});function initializeDatabase(){const _0x2a9809=require('fs'),_0x3d26e9=path['join'](app['getPath']('userData'),'data'),_0xf272c1=['campaign.db','crm.db','igaccounts.db'],_0x1b2ebd=[];try{_0x2a9809['mkdirSync'](_0x3d26e9,{'recursive':!![]});for(const _0x51877c of _0xf272c1){const _0xb32808=path['join'](process['resourcesPath'],'app','build','data',_0x51877c),_0x3e811d=path['join'](_0x3d26e9,_0x51877c);!_0x2a9809['existsSync'](_0x3e811d)?(_0x2a9809['copyFileSync'](_0xb32808,_0x3e811d),console['log']('[InitDB]\x20Kopiert\x20'+_0x51877c+'\x20nach:\x20'+_0x3e811d)):console['log']('[InitDB]\x20'+_0x51877c+'\x20existiert\x20bereits:\x20'+_0x3e811d),_0x1b2ebd['push'](_0x3e811d);}}catch(_0x4dbef1){console['error']('[InitDB]\x20Fehler\x20beim\x20Kopieren\x20der\x20Datenbanken:',_0x4dbef1);}return _0x1b2ebd;}function getSqlDataPath(){return console['log']('MAC\x20Pfad:\x20',app['getPath']('userData')),console['log']('Default\x20App:\x20'+process['defaultApp']),process['platform']==='darwin'?(!process['defaultApp']&&initializeDatabase(),process['defaultApp']?path['join'](__dirname,'data'):path['join'](app['getPath']('userData'),'data')):process['defaultApp']?path['join'](__dirname,'data'):path['join'](process['resourcesPath'],'app.asar.unpacked','build','data');}console['log']('Datenpfad\x20SQL:\x20'+getSqlDataPath());const SqlDataDirectory=getSqlDataPath();function doFullElectronUpdate(){const {autoUpdater:_0x2a017c,AppUpdate:_0xb3f9f0}=require('electron-updater');_0x2a017c['autoDownload']=![],_0x2a017c['autoInstallOnAppQuit']=!![],_0x2a017c['checkForUpdates'](),console['log']('Überprüfe\x20auf\x20Updates...'),_0x2a017c['on']('update-available',_0x58e3ba=>{console['log']('Update\x20verfügbar:',_0x58e3ba),_0x2a017c['downloadUpdate']();}),_0x2a017c['on']('update-downloaded',_0x4e7c6e=>{console['log']('Update\x20heruntergeladen:',_0x4e7c6e),_0x2a017c['quitAndInstall']();}),_0x2a017c['on']('error',_0x569d23=>{console['error']('Fehler\x20beim\x20Updaten:',_0x569d23);});}function doFullElectronUpdateSilent(){const {autoUpdater:_0x330444,AppUpdate:_0x141495}=require('electron-updater');_0x330444['autoDownload']=![],_0x330444['autoInstallOnAppQuit']=!![],_0x330444['checkForUpdates'](),console['log']('Überprüfe\x20auf\x20Updates...'),_0x330444['on']('update-available',_0x1c6e0f=>{console['log']('Update\x20verfügbar:',_0x1c6e0f),_0x330444['downloadUpdate']();}),_0x330444['on']('update-downloaded',_0x1fd6b4=>{console['log']('Update\x20heruntergeladen:',_0x1fd6b4),console['log']('Neustarten\x20zum\x20Updaten');}),_0x330444['on']('error',_0x423625=>{console['error']('Fehler\x20beim\x20Updaten:',_0x423625);});}const MAC_BROWSER_PATH='/Applications/Google\x20Chrome.app/Contents/MacOS/Google\x20Chrome',WIN_BROWSER_PATH='chromium_local/chrome-win/chrome.exe';let browser_login=null;async function getBrowserPageLogin(){let _0x174340='',_0x2d7c4d=null;if(process['platform']==='darwin')_0x174340=MAC_BROWSER_PATH;else{if(process['platform']==='win32')_0x174340=WIN_BROWSER_PATH;else{if(process['platform']==='linux'){}}}return browser_login=await puppeteer['launch']({'headless':![],'ignoreHTTPSErrors':!![],'defaultViewport':null,'args':['--lang=en-US'],'executablePath':_0x174340}),_0x2d7c4d=await browser_login['newPage'](),_0x2d7c4d['setDefaultNavigationTimeout'](0x1d4c),_0x2d7c4d['setDefaultTimeout'](0x1d4c),await _0x2d7c4d['setExtraHTTPHeaders']({'Accept-Language':'en-US,en'}),_0x2d7c4d;}let browser=null,pageStack=[null],isStopping=![];async function getBrowserPage(_0xe6005a=0x1,_0x20e151=0x0){try{let _0x27477c='',_0x54d65d=null;const _0x359c32=process['env']['NODE_ENV']==='development'?![]:!![];if(process['platform']==='darwin')_0x27477c=MAC_BROWSER_PATH;else{if(process['platform']==='win32'){_0x27477c=WIN_BROWSER_PATH;;}else{if(process['platform']==='linux'){}}}if(_0xe6005a===0x0&&!pageStack[_0x20e151])return browser=await puppeteer['launch']({'headless':_0x359c32,'ignoreHTTPSErrors':!![],'defaultViewport':null,'args':['--lang=en-US'],'executablePath':_0x27477c}),_0x54d65d=await browser['newPage'](),_0x54d65d['setDefaultNavigationTimeout'](0x1d4c),_0x54d65d['setDefaultTimeout'](0x1d4c),await _0x54d65d['setExtraHTTPHeaders']({'Accept-Language':'en-US,en'}),pageStack[_0x20e151]=_0x54d65d,_0x54d65d;return(browser===null||pageStack[_0x20e151]===null||pageStack[_0x20e151]['isClosed']())&&(browser=await puppeteer['launch']({'headless':_0x359c32,'ignoreHTTPSErrors':!![],'defaultViewport':null,'args':['--lang=en-US'],'executablePath':_0x27477c})),(pageStack[_0x20e151]===null||pageStack[_0x20e151]['isClosed']())&&(_0x54d65d=await browser['newPage'](),_0x54d65d['setDefaultNavigationTimeout'](0x1d4c),_0x54d65d['setDefaultTimeout'](0x1d4c),await _0x54d65d['setExtraHTTPHeaders']({'Accept-Language':'en-US,en'}),pageStack[_0x20e151]=_0x54d65d),pageStack[_0x20e151];}catch(_0x46a2fd){console['error']('Failed\x20to\x20launch\x20browser:',_0x46a2fd);const _0x5b8857=new Error('Browser\x20konnte\x20nicht\x20gestartet\x20werden.\x20Bitte\x20starte\x20die\x20App\x20neu.\x20:\x20'+_0x46a2fd);throw _0x5b8857;}}ipcMain['on']('login',async(_0x306752,_0x1da62e)=>{const _0x1eaa28=await getBrowserPageLogin();await _0x1eaa28['goto']('https://www.instagram.com/accounts/login/'),console['log']('Login\x20startet'),await login(_0x1eaa28,_0x1da62e),ipcMain['on']('setLoginCookies',async(_0x5f9d22,_0x962992)=>{try{await set_login_cookies(_0x1eaa28,_0x962992);}catch(_0x43e092){console['log']('Fehler\x20bei\x20Cookie\x20speichern:\x20'+_0x43e092);}});}),ipcMain['on']('export-relation',async(_0x11bf20,_0x1756bd)=>{try{await exportDatabase(_0x1756bd),_0x11bf20['reply']('export-relation-response',{'success':!![]});}catch(_0x1a4010){console['error'](_0x1a4010),_0x11bf20['reply']('export-relation-response',{'success':![],'message':_0x1a4010['message']});}}),ipcMain['handle']('sendMessage',async(_0xf1daf9,_0x2f258c,_0x2e697d,_0x4deb29,_0x1a7712,_0x5662af,_0x139dad,_0x564c99,_0x1653b7,_0x407104,_0x17e7f3)=>{isStopping=![];let _0x12d7e4=null;return _0x139dad?_0x12d7e4=await getBrowserPage(_0x1a7712,_0x564c99):_0x12d7e4=await getBrowserPage(),console['log']('send\x20Message\x20gestartet'),console['log'](_0x2f258c),send_message(_0x12d7e4,_0x2f258c,_0x2e697d,_0x4deb29,_0x1a7712,_0x5662af,_0x1653b7,_0x407104,_0x17e7f3);}),ipcMain['handle']('stop-action',async(_0x1d380a,_0x3fad82)=>{isStopping=!![];const _0x52079f=await getBrowserPage(0x1,_0x3fad82);await _0x52079f['close']();}),ipcMain['handle']('fetch_followers',async(_0x52fa57,_0x2dfb0b,_0x529641,_0x5841a6,_0x378656,_0x51cf13)=>{isStopping=![];const _0x4cd8d2=await getBrowserPage();return fetch_followers_from_account(_0x52fa57,_0x4cd8d2,_0x2dfb0b,_0x529641,_0x5841a6,_0x378656,_0x51cf13);}),ipcMain['handle']('get-account-details',async(_0x261af6,_0x4cef95,_0x5be899,_0x54af1c)=>{isStopping=![];const _0x44d9e5=await getBrowserPage();return fetch_account_details(_0x44d9e5,_0x4cef95,_0x5be899,_0x54af1c);}),ipcMain['handle']('fetch_likes',async(_0x1419ca,_0x1a088b,_0x222f82,_0x5cbdf8,_0x14e4f8,_0xd301b7)=>{isStopping=![];const _0x227680=await getBrowserPage();return fetch_likers_from_post(_0x1419ca,_0x227680,_0x1a088b,_0x222f82,_0x5cbdf8,_0x14e4f8,_0xd301b7);}),ipcMain['handle']('fetch_comments',async(_0x27522c,_0x428771,_0x36b919,_0x4f497e,_0x4ac0bd,_0x26f40d)=>{isStopping=![];const _0xcc43bf=await getBrowserPage();return fetch_comments_from_post(_0x27522c,_0xcc43bf,_0x428771,_0x36b919,_0x4f497e,_0x4ac0bd,_0x26f40d);});async function updateAppSilent(){const {spawn:_0x52298b}=require('child_process'),_0x21407c=require('path'),_0x321684=require('electron-log');return _0x321684['transports']['console']['level']='debug',process['platform']==='darwin'?new Promise((_0x12e446,_0x92758c)=>{const {updateElectronApp:_0x551011,UpdateSourceType:_0x296b13}=require('update-electron-app');_0x551011({'updateSource':{'type':_0x296b13['ElectronPublicUpdateService'],'repo':'derminer007/Instabot_app_updater'},'updateInterval':'10\x20minutes','logger':_0x321684}),_0x12e446('Update\x20erfolgreich\x20abgeschlossen.');}):new Promise((_0x54899c,_0x5a6d0e)=>{doFullElectronUpdateSilent(),_0x54899c('Update\x20erfolgreich\x20abgeschlossen.');});}async function updateApp(){const {spawn:_0x223ea0}=require('child_process'),_0x81907a=require('path'),_0x2f6df9=require('electron-log');return _0x2f6df9['transports']['console']['level']='debug',process['platform']==='darwin'?new Promise((_0x434c65,_0x471568)=>{const {updateElectronApp:_0x1e1b91,UpdateSourceType:_0x3dcd52}=require('update-electron-app');_0x1e1b91({'updateSource':{'type':_0x3dcd52['ElectronPublicUpdateService'],'repo':'derminer007/Instabot_app_updater'},'updateInterval':'10\x20minutes','logger':_0x2f6df9}),_0x434c65('Update\x20erfolgreich\x20abgeschlossen.');}):new Promise((_0x47e6b1,_0xe5d6)=>{doFullElectronUpdate(),_0x47e6b1('Update\x20erfolgreich\x20abgeschlossen.');});}async function customUpdateMacApp(){return new Promise((_0x39a2df,_0x3be09f)=>{if(process['defaultApp'])console['log']('Update\x20übersprungen\x20im\x20Testmodus.'),_0x39a2df('Update\x20übersprungen');else{if(process['platform']==='darwin'){const _0xd1765f=path['join'](__dirname,'mac-updater-intern.sh'),_0x3102b3=spawn('/bin/bash',[_0xd1765f],{'detached':!![],'stdio':'ignore'});_0x3102b3['unref'](),setTimeout(()=>{_0x39a2df('Update-Prozess\x20im\x20detached\x20Modus\x20gestartet.');},0x1388);}else{if(process['platform']==='win32'){}else _0x3be09f(new Error('Update\x20nicht\x20für\x20diese\x20Plattform\x20unterstützt.'));}}});}ipcMain['handle']('get-os-system',async _0x21f900=>{return{'platform':process['platform'],'arch':process['arch']};}),ipcMain['handle']('update-app',async(_0x1e9786,_0x234db8)=>{console['log']('Update\x20Silent:\x20'+_0x234db8);if(_0x234db8){if(!(process['platform']==='darwin'))await updateAppSilent(),console['log']('Autoupdate\x20für\x20Mac\x20ausgeschaltet');else return await customUpdateMacApp();}else{if(!(process['platform']==='darwin'))await updateApp();else return await customUpdateMacApp();}});function getRnd(_0x147337,_0x382374){return Math['random']()*(_0x382374-_0x147337+0x1)+_0x147337;}function delay(_0xe8d65,_0x6a3b2e){let _0x496ce8=getRnd(_0xe8d65,_0x6a3b2e);return new Promise(function(_0xb0002f){setTimeout(_0xb0002f,_0x496ce8);});}async function scroll(_0x6e9e8b,_0x245068,_0x5a1a33=0x2,_0x1be25f){const _0x5b7b36=await _0x6e9e8b['waitForSelector'](_0x245068);for(let _0x2e962d=0x0;_0x2e962d<_0x5a1a33;_0x2e962d++){console['log']('Scrolling\x20'+_0x2e962d),await _0x6e9e8b['evaluate'](_0x109b85=>{const _0x1cf370=document['querySelector'](_0x109b85);_0x1cf370&&_0x1cf370['scrollBy'](0x0,0x190);},_0x245068),await delay(0x320,0x5dc),_0x1be25f();}}async function saveCookies(_0x57e2b2){let _0x222927=await _0x57e2b2['cookies']();await fs['writeFile']('public/cookies.json',JSON['stringify'](_0x222927,null,0x2));}async function notificationClear(_0x12b90d){console['log']('Suche\x20nach\x20Notification-Button');try{await delay(0xfa0,0x1388),await _0x12b90d['waitForSelector']('button._a9--._ap36._a9_1',{'visible':!![]}),await _0x12b90d['click']('button._a9--._ap36._a9_1'),console['log']('Notification-Button\x20gefunden');}catch(_0x1a8b4f){console['log']('Notification-Feld\x20übersprungen:\x20'+_0x1a8b4f);}}async function getTargetProfiles(_0x228a01){return new Promise((_0x599c41,_0x2d52ae)=>{db['all']('SELECT\x20*\x20FROM\x20'+_0x228a01,(_0xbc512,_0x5a9a52)=>{_0xbc512?_0x2d52ae(_0xbc512):_0x599c41(_0x5a9a52);});});}async function login_legacy(_0x590ec6,_0x76d930,_0x2d53ae){console['log']('Starte\x20Login\x20Prozess');try{await setCookiesForUser(_0x590ec6,_0x76d930),await createUserIfNotExists(_0x76d930,_0x2d53ae);}catch(_0x1c1137){console['log']('Cookies\x20konnten\x20nicht\x20hinzuefügt\x20werden:'+_0x1c1137);}try{await _0x590ec6['goto']('https://www.instagram.com/accounts/login/');try{await delay(0x7d0,0x1388),await _0x590ec6['waitForSelector']('button._a9--._ap36._a9_0',{'visible':!![]}),await _0x590ec6['click']('button._a9--._ap36._a9_0');}catch(_0x4e837d){console['log']('Cookie\x20Fenster\x20überspringen');}await delay(0xfa0,0x1d4c);try{await _0x590ec6['waitForSelector']('input[name=\x27username\x27]'),console['log']('Benutzername-Feld\x20gefunden'),await _0x590ec6['type']('input[name=\x27username\x27]',_0x76d930,{'delay':getRnd(0x50,0x78)}),await delay(0xfa0,0x1d4c),await _0x590ec6['waitForSelector']('input[name=\x27password\x27]'),console['log']('Passwort-Feld\x20gefunden'),await _0x590ec6['type']('input[name=\x27password\x27]',_0x2d53ae,{'delay':getRnd(0x50,0x78)}),await delay(0xfa0,0x1d4c),await _0x590ec6['waitForSelector']('button[type=\x27submit\x27]'),console['log']('Login-Button\x20gefunden'),await _0x590ec6['click']('button[type=\x27submit\x27]');}catch(_0x350e7f){console['log']('Anmeldeformular\x20nicht\x20gefunden');}await notificationClear(_0x590ec6),await delay(0x1388,0x1b58);try{await saveCookiesForUser(_0x590ec6,_0x76d930);}catch(_0x4c3301){console['log']('Fehler\x20bei\x20Cookie\x20speichern:\x20'+_0x4c3301);}}catch(_0x759408){console['log']('Login\x20nicht\x20durgeführt:\x20'+_0x759408);}}async function login(_0x177959,_0x31ad9c){console['log']('Starte\x20Login\x20Prozess');try{await setCookiesForUser(_0x177959,_0x31ad9c),await createUserIfNotExists(_0x31ad9c);}catch(_0x27d1fb){console['log']('Cookies\x20konnten\x20nicht\x20hinzuefügt\x20werden:'+_0x27d1fb);}try{await _0x177959['goto']('https://www.instagram.com/accounts/login/');}catch(_0x521982){console['log']('Login\x20nicht\x20durgeführt:\x20'+_0x521982);}}async function set_login_cookies(_0x46cf60,_0x4869f8){try{await saveCookiesForUser(_0x46cf60,_0x4869f8);}catch(_0x294c96){console['log']('Fehler\x20bei\x20Cookie\x20speichern:\x20'+_0x294c96);}}async function waitForXPath(_0x5958fa,_0x52dc1f,_0x5f3102={}){return await _0x5958fa['waitForFunction'](_0x1e3721=>{return document['evaluate'](_0x1e3721,document,null,XPathResult['FIRST_ORDERED_NODE_TYPE'],null)['singleNodeValue']!==null;},_0x5f3102,_0x52dc1f),_0x5958fa['evaluateHandle'](_0x4052a0=>document['evaluate'](_0x4052a0,document,null,XPathResult['FIRST_ORDERED_NODE_TYPE'],null)['singleNodeValue'],_0x52dc1f);}async function waitForSelectorWithFallbacks(_0x192014,_0x241aec,_0x3fd28b={}){!Array['isArray'](_0x241aec)&&(_0x241aec=[_0x241aec]);for(let _0x4fc925=0x0;_0x4fc925<_0x241aec['length'];_0x4fc925++){const _0x5ea0fc=_0x241aec[_0x4fc925],_0x452269=_0x5ea0fc['startsWith']('//')||_0x5ea0fc['startsWith']('(//');try{console['log']('Versuche\x20'+(_0x452269?'XPath':'Selector')+'\x20'+(_0x4fc925+0x1)+'/'+_0x241aec['length']+':\x20'+_0x5ea0fc['substring'](0x0,0x32)+'...');const _0x2654ac=_0x4fc925===0x0?_0x3fd28b['timeout']||0x1388:0x7d0;let _0x5cb334;if(_0x452269){const _0x5800c2=await waitForXPath(_0x192014,_0x5ea0fc,{..._0x3fd28b,'timeout':_0x2654ac});if(!_0x5800c2)throw new Error('XPath-Element\x20nicht\x20gefunden');_0x5cb334=_0x5800c2;}else _0x5cb334=await _0x192014['waitForSelector'](_0x5ea0fc,{..._0x3fd28b,'timeout':_0x2654ac});return console['log']((_0x452269?'XPath':'Selector')+'\x20'+(_0x4fc925+0x1)+'\x20gefunden!'),_0x5cb334;}catch(_0x545984){console['log']((_0x452269?'XPath':'Selector')+'\x20'+(_0x4fc925+0x1)+'\x20nicht\x20gefunden:\x20'+_0x545984['message']);if(_0x4fc925===_0x241aec['length']-0x1)throw new Error('Keiner\x20der\x20'+_0x241aec['length']+'\x20Selektoren/XPath\x20konnte\x20gefunden\x20werden:\x20'+_0x545984['message']);}}throw new Error('Keine\x20Selektoren/XPath\x20angegeben');}async function waitForXPathAll(_0x28fbdc,_0x1fbbbe,_0x33ffc8={}){return await _0x28fbdc['waitForFunction'](_0x7275be=>{return document['evaluate'](_0x7275be,document,null,XPathResult['ORDERED_NODE_SNAPSHOT_TYPE'],null)['snapshotLength']>0x0;},_0x33ffc8,_0x1fbbbe),_0x28fbdc['evaluateHandle'](_0x26fee1=>{const _0x11e1bc=document['evaluate'](_0x26fee1,document,null,XPathResult['ORDERED_NODE_SNAPSHOT_TYPE'],null),_0x1edc56=[];for(let _0x195750=0x0;_0x195750<_0x11e1bc['snapshotLength'];_0x195750++){_0x1edc56['push'](_0x11e1bc['snapshotItem'](_0x195750));}return _0x1edc56;},_0x1fbbbe)['then'](_0x39e020=>_0x39e020['getProperties']());}async function checkLoginStatus(_0x476108){const _0x5c645a=['[type=\x22password\x22]','//a[normalize-space(text())=\x27Log\x20In\x27]','//div[@role=\x27button\x27\x20and\x20normalize-space(.)=\x27Log\x20in\x27]','//h3[normalize-space(text())=\x27Something\x20went\x20wrong\x27]'];let _0x3bda95=null;try{_0x3bda95=await waitForSelectorWithFallbacks(_0x476108,_0x5c645a,{'timeout':0x7d0});}catch(_0x4d9873){return console['log']('Eingeloggt,\x20kein\x20Login\x20notwendig:\x20'+_0x4d9873),!![];}if(_0x3bda95){console['log']('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');throw new Error('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');return![];}else return console['log']('Eingeloggt,\x20führe\x20keine\x20Login\x20durch'),!![];}async function send_message(_0xb2bc98,_0x29ea1d,_0x1ad05b,_0x78b80,_0x1be21f,_0x13f143,_0x242620,_0x279471,_0x3154b3){return new Promise(async(_0x229cee,_0x109367)=>{_0x13f143=_0x13f143['split'](';'),console['log'](_0x13f143[0x0]),console['log']('Anfang'),console['log']('Counter:\x20'+_0x1be21f);try{await setCookiesForUser(_0xb2bc98,_0x13f143[0x0]);}catch(_0x31ed7e){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x31ed7e),_0x229cee({'status':0x190,'message':'Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:\x20'+_0x31ed7e});return;}await delay(0x6a4,0x7d0);try{await _0xb2bc98['goto']('https://www.instagram.com/'+_0x29ea1d+'/'),await delay(0x1b58,0x1d4c),await notificationClear(_0xb2bc98);}catch(_0x16913d){_0x229cee({'status':0x1f5,'message':'Fehler\x20beim\x20Aufruf\x20der\x20Seite:\x20'+_0x16913d});return;}try{await checkLoginStatus(_0xb2bc98);}catch(_0x50cc8e){console['log']('Login-Status\x20nicht\x20ok:\x20'+_0x50cc8e),_0x109367('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');return;}console['log']('UserSkip:\x20'+_0x242620);if(_0x242620==0x1)try{const _0x64be9b=await _0xb2bc98['$eval']('._ap3a._aaco._aacw._aad6._aade',_0x1dae68=>_0x1dae68['textContent']['trim']());console['log'](_0x64be9b);if(_0x64be9b==='Following'||_0x64be9b==='Folge\x20ich')return _0x229cee({'status':0x199,'message':'Überspringe\x20User:\x20Bereits\x20gefolgt\x20→\x20überspringen'});}catch(_0x3054ee){}try{const _0x1feb7d=await waitForSelectorWithFallbacks(_0xb2bc98,K_DIRECT_MSG_BUTTON);await _0x1feb7d['click']();}catch(_0x11e117){console['log']('1.\x20MsgButton\x20nicht\x20gefunden.\x20Teste\x202.\x20Button'+_0x11e117);try{await delay(0x6a4,0x7d0);try{const _0x5a9b11=await waitForSelectorWithFallbacks(_0xb2bc98,K_OPTIONS_BUTTON);await _0x5a9b11['click']();}catch(_0x226d2e){console['log']('Options-Button\x20nicht\x20gefunden.\x20Nutzer\x20überspringen:\x20'+_0x226d2e),_0x229cee({'status':0x1f6,'message':'Options-Button\x20nicht\x20gefunden.\x20Nutzer\x20überspringen:\x20'+_0x226d2e});return;}await delay(0x3e8,0x44c);const _0x1b2c19=await waitForXPath(_0xb2bc98,'//button[contains(text(),\x27Send\x20message\x27)]');await _0x1b2c19['click']();}catch(_0x125bf4){console['log']('2.\x20MsgButton\x20nicht\x20gefunden.\x20Nutzer\x20überspringen'+_0x125bf4),_0x229cee({'status':0x194,'message':'UserSkip:\x20Nicht\x20anschreibbaren\x20Nutzer\x20überspringen'});return;}}try{await delay(0x320,0x3e8),await notificationClear(_0xb2bc98);}catch(_0x4c3dd7){console['log']('NotificationClear\x20fehlerhaft:\x20'+_0x4c3dd7);}try{const _0x38f518=await waitForSelectorWithFallbacks(_0xb2bc98,K_CHAT_INPUT_FIELD);if(_0x279471){const _0x81598b=await _0xb2bc98['$'](K_ALREADY_CHATTED);if(_0x81598b)return console['log']('Already\x20chatted\x20with\x20this\x20user,\x20skipping:',_0x29ea1d),_0x229cee({'status':0x19a,'message':'Überspringe\x20User:\x20Bereits\x20gechattet\x20→\x20überspringen'});}const _0x1b78ee=await _0xb2bc98['evaluate'](()=>{return document['querySelector']('h2\x20>\x20span\x20>\x20span')['textContent'];});console['log']('Extrahierter\x20Clearname:\x20'+_0x1b78ee),_0x78b80=_0x78b80['replace']('{USERNAME}',_0x29ea1d);let _0x40db95;if(_0x78b80['includes']('{NAME}')||_0x78b80['includes']('{name}'))try{const _0x3f53f8=await extractFirstName(_0x1b78ee,_0x3154b3);console['log']('Response\x20Clearname\x20valid:\x20'+_0x3f53f8['valid']),_0x3f53f8['valid']?(_0x78b80=_0x78b80['replaceAll'](/{NAME}|{name}/g,_0x3f53f8['name']),console['log']('Response\x20Clearname\x20name:\x20'+_0x3f53f8['name']),_0x40db95=_0x3f53f8['name']):(_0x78b80=_0x78b80['replaceAll'](/ ?({NAME}|{name})/g,''),_0x40db95='UNKNOWN_NAME');}catch(_0x499c49){console['log'](_0x499c49['message']),_0x40db95=_0x499c49['message'];let _0x103e31=_0x1b78ee['replace'](/[^\p{L}\s]/gu,''),_0x4cda2d=_0x103e31['split']('\x20')[0x0];_0x4cda2d['length']>0x2&&!_0x4cda2d['includes']('Instagram')?_0x78b80=_0x78b80['replaceAll'](/{NAME}|{name}/g,_0x4cda2d):_0x78b80=_0x78b80['replaceAll'](/ ?({NAME}|{name})/g,'');}console['log']('Nachricht\x20vor\x20dem\x20Senden:\x20'+_0x78b80);const _0x53853e=_0x78b80['split']('\x0a');await _0x38f518['type'](_0x53853e[0x0],{'delay':getRnd(0x50,0x78)});for(let _0x1c03b7=0x1;_0x1c03b7<_0x53853e['length'];_0x1c03b7++){await _0xb2bc98['keyboard']['down']('Shift'),await _0xb2bc98['keyboard']['press']('Enter'),await _0xb2bc98['keyboard']['up']('Shift'),await delay(0x64,0xc8),_0x53853e[_0x1c03b7]['length']>0x0&&await _0x38f518['type'](_0x53853e[_0x1c03b7],{'delay':getRnd(0x50,0x78)});}console['log']('Nachricht\x20mit\x20Zeilenumbrüchen\x20gesendet'),await delay(0x320,0x3e8);try{const _0x2024a3=await waitForSelectorWithFallbacks(_0xb2bc98,K_SEND_MSG_BUTTON);await _0x2024a3['click']();}catch(_0x26e812){console['error']('Nicht\x20anschreibbaren\x20Nutzer\x20überspringen:\x20'+_0x26e812),_0x229cee({'status':0x195,'message':'Send\x20nicht\x20gefunden.\x20Nicht\x20anschreibbaren\x20Nutzer:\x20'+_0x29ea1d+'\x20überspringen.','error':_0x26e812['message']});}await delay(0x320,0x3e8),_0x229cee({'status':0xc8,'message':'Nachricht\x20erfolgreich\x20gesendet!','clearname':_0x1b78ee,'extracted_clearname':_0x40db95});}catch(_0x40bfab){let _0x28a9e3=_0x40bfab;console['log']('Fehler\x20beim\x20Senden\x20der\x20Nachricht:\x20'+_0x28a9e3),_0x229cee({'status':0x1f4,'message':'Error\x20500:\x20'+_0x28a9e3});}});}function handle_fail(_0x3883fc){if(isStopping)return new Promise(_0xbb66b1=>{_0xbb66b1('Scraper\x20gestoppt.');});else{let _0x5cb945='';switch(_0x3883fc){case 0x0:_0x5cb945='Fehler\x20beim\x20Follower\x20Scraper.\x20Bitte\x20lade\x20die\x20neuste\x20Version\x20herunter.';break;case 0x1:_0x5cb945='Fehler\x20beim\x20Liker\x20Scraper.\x20Bitte\x20lade\x20die\x20neuste\x20Version\x20herunter.';break;case 0x2:_0x5cb945='Fehler\x20beim\x20Comments\x20Scraper.\x20Bitte\x20lade\x20die\x20neuste\x20Version\x20herunter.';break;default:_0x5cb945='Fehler\x20beim\x20Scraper.\x20Bitte\x20lade\x20die\x20neuste\x20Version\x20herunter.';break;}return new Promise((_0x3e4810,_0x2167f0)=>{_0x2167f0(_0x5cb945);});}}async function fetch_account_details(_0x2682f6,_0x2d7499,_0x135a41,_0x36d1d1){try{await setCookiesForUser(_0x2682f6,_0x135a41['username']);}catch(_0xe53f9e){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:\x20'+_0xe53f9e);throw new Error('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:\x20'+_0xe53f9e);return handle_fail(0x0);}_0x2682f6['setDefaultNavigationTimeout'](0x7530),await _0x2682f6['goto']('https://www.instagram.com/'+_0x2d7499+'/',{'waitUntil':'networkidle2','timeout':0x7530}),await notificationClear(_0x2682f6);const _0x5f554b=await _0x2682f6['evaluate'](()=>{const _0x1c31bb=document['querySelector']('meta[property=\x22og:image\x22]');return _0x1c31bb?_0x1c31bb['getAttribute']('content'):null;});await _0x2682f6['waitForSelector']('meta[name=\x22description\x22]',{'timeout':0x3a98});const _0x2efd31=await _0x2682f6['evaluate'](()=>{const _0x739aa0=document['querySelector']('meta[name=\x22description\x22]');if(!_0x739aa0)return console['log']('Meta-Tag\x20nicht\x20gefunden'),null;let _0x30bafa=_0x739aa0['getAttribute']('content');if(!_0x30bafa)return console['log']('Meta-Content\x20ist\x20leer'),null;console['log']('Meta\x20content:',_0x30bafa);const _0x2aee31=/\s*[–-]\s*/,_0x1b9f1a=_0x30bafa['split'](_0x2aee31);if(_0x1b9f1a['length']<0x2)return console['log']('Kein\x20gültiger\x20Separator\x20gefunden'),null;const _0x1047ad=_0x1b9f1a[0x0],_0x1b6ddc=_0x1b9f1a[0x1],_0x1e1a11=_0x1047ad['split'](',\x20');if(_0x1e1a11['length']<0x3)return console['log']('Nicht\x20genügend\x20Zählwerte\x20gefunden'),null;const _0x3252f8=_0x1e1a11[0x0]['split']('\x20')[0x0],_0x589bd6=_0x1e1a11[0x1]['split']('\x20')[0x0],_0x597120=_0x1e1a11[0x2]['split']('\x20')[0x0];let _0x69a4e='',_0x837407='';const _0x292c20='\x20on\x20Instagram:\x20',_0x28703f=_0x1b6ddc['split'](_0x292c20);return _0x69a4e=_0x28703f[0x0]['trim'](),_0x69a4e=_0x69a4e['replace'](/\s*\(?@[\w_]+\)?/g,'')['trim'](),_0x28703f['length']>0x1&&(_0x837407=_0x28703f[0x1]['trim'](),_0x837407['startsWith']('\x22')&&_0x837407['endsWith']('\x22')&&(_0x837407=_0x837407['substring'](0x1,_0x837407['length']-0x1)['trim']()),_0x837407=_0x837407['replace'](/&quot;/g,'')['trim']()),{'followers':_0x3252f8,'following':_0x589bd6,'posts':_0x597120,'nameText':_0x69a4e,'bio':_0x837407};});console['log']('Extracted\x20profile\x20data:',_0x2efd31);const _0xbb8682=_0x2efd31['nameText'],_0x2a4bea=_0x5f554b,_0x19a62a=_0x2efd31['bio'],_0x3c38a0=_0x2efd31['followers'],_0x21c1fb=_0x2efd31['following'],_0xf64e71=_0x2efd31['posts'],_0x1f6c1c=![],_0xcbc32c=![],_0xcf360=![],_0x212cb4='\x0a\x20\x20INSERT\x20INTO\x20'+_0x36d1d1+'\x20(\x0a\x20\x20\x20\x20username,\x20clearname,\x20ProfilePic,\x20Bio,\x20\x0a\x20\x20\x20\x20Follower_Count,\x20Following_Count,\x20Post_Count,\x20\x0a\x20\x20\x20\x20Isverified,\x20Isprivat,\x20IsBusiness\x0a\x20\x20)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)\x0a\x20\x20ON\x20CONFLICT(username)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20clearname\x20=\x20excluded.clearname,\x0a\x20\x20\x20\x20ProfilePic\x20=\x20excluded.ProfilePic,\x0a\x20\x20\x20\x20Bio\x20=\x20excluded.Bio,\x0a\x20\x20\x20\x20Follower_Count\x20=\x20excluded.Follower_Count,\x0a\x20\x20\x20\x20Following_Count\x20=\x20excluded.Following_Count,\x0a\x20\x20\x20\x20Post_Count\x20=\x20excluded.Post_Count,\x0a\x20\x20\x20\x20Isverified\x20=\x20excluded.Isverified,\x0a\x20\x20\x20\x20Isprivat\x20=\x20excluded.Isprivat,\x0a\x20\x20\x20\x20IsBusiness\x20=\x20excluded.IsBusiness;\x0a';db['run'](_0x212cb4,[_0x2d7499,_0xbb8682,_0x2a4bea,_0x19a62a,_0x3c38a0,_0x21c1fb,_0xf64e71,_0x1f6c1c,_0xcbc32c,_0xcf360],function(_0x2c3018){_0x2c3018?console['error']('Fehler\x20beim\x20Upsert\x20in\x20die\x20Datenbank:\x20'+_0x2c3018['message']):console['log']('Eintrag\x20erfolgreich\x20upserted.\x20Letzte\x20ID:\x20'+this['lastID']);});}async function fetch_followers_from_account(_0x37fe3a,_0x4bd9da,_0xab1365,_0x42626d,_0x13c998,_0x2be255,_0x2c585b){let _0x29c372=0x4,_0x2092c2=0x0,_0x109347=0x0;try{await setCookiesForUser(_0x4bd9da,_0x2be255['username']);}catch(_0x1e7995){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x1e7995);throw new Error('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:\x20'+_0x1e7995);return handle_fail(0x0);}let _0x402229=0x0;try{await _0x4bd9da['goto']('https://www.instagram.com/'+_0xab1365+'/'),await notificationClear(_0x4bd9da);try{await checkLoginStatus(_0x4bd9da);}catch(_0x4060dd){console['log']('Login-Status\x20nicht\x20ok:\x20'+_0x4060dd);throw new Error('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');}try{if(_0x42626d<=0x0){const _0x41882c=await _0x4bd9da['waitForSelector'](ANZAHL_FOLLOWER_BUTTON);await delay(0x12c,0x320);const _0x461c26=await _0x4bd9da['evaluate'](_0x4f2cb1=>_0x4f2cb1['innerHTML'],_0x41882c);_0x402229=Math['ceil'](_0x461c26/0x4);}else _0x402229=Math['ceil'](_0x42626d/0x4);_0x29c372+=_0x402229,_0x109347=Math['round'](++_0x2092c2/_0x29c372*0x64),_0x37fe3a['sender']['send']('fetch-progress',_0x109347,!![]);let _0x5d2c78=await _0x4bd9da['waitForSelector']('a[href=\x22/'+_0xab1365+'/followers/\x22]');await delay(0xbb8,0x1388),await _0x5d2c78['click'](),console['log']('Follower\x20Liste\x20von\x20'+_0xab1365+'\x20gesichtet'),_0x109347=Math['round'](++_0x2092c2/_0x29c372*0x64),_0x37fe3a['sender']['send']('fetch-progress',_0x109347,!![]);}catch(_0x278910){console['log']('Follower\x20Liste\x20von\x20'+_0xab1365+'\x20nicht\x20gefunden:'+_0x278910);throw new Error('Follower\x20Liste\x20von\x20'+_0xab1365+'\x20nicht\x20gefunden:'+_0x278910);return handle_fail(0x0);}}catch(_0x43a5d8){console['log']('User\x20besuchen\x20fehlgeschlagen:\x20'+_0x43a5d8);throw new Error('User\x20besuchen\x20fehlgeschlagen:\x20'+_0x43a5d8);return handle_fail(0x0);}try{await delay(0xbb8,0x1388),console['log']('Auto-scrolls:\x20'+_0x402229),await scroll(_0x4bd9da,FOLLOWER_FENSTER,_0x402229,_0x3048a6=>{_0x109347=Math['round'](++_0x2092c2/_0x29c372*0x64),_0x37fe3a['sender']['send']('fetch-progress',_0x109347,!![]);}),await _0x4bd9da['waitForSelector'](FOLLOWER_USERNAME_SPALTEN_ARRAY);const _0x59f5f0=await _0x4bd9da['$$'](FOLLOWER_USERNAME_SPALTEN_ARRAY),_0xb6b735=await _0x4bd9da['$$'](FOLLOWER_CLEARNAME_SPALTEN_ARRAY);_0x109347=Math['round'](++_0x2092c2/_0x29c372*0x64),_0x37fe3a['sender']['send']('fetch-progress',_0x109347,!![]);_0x42626d<=0x0&&(_0x42626d=_0x59f5f0['length']);let _0x33aae4=[];for(let _0x2f3ba3=0x0;_0x2f3ba3<_0x59f5f0['length']&&_0x2f3ba3<_0x42626d;_0x2f3ba3++){_0x33aae4['push'](await _0x59f5f0[_0x2f3ba3]['evaluate'](_0x87536d=>_0x87536d['textContent']));const _0x19e491='INSERT\x20INTO\x20'+_0x13c998+'\x20(username,\x20clearname)\x20VALUES\x20(?,\x20?)';db['run'](_0x19e491,[await _0x59f5f0[_0x2f3ba3]['evaluate'](_0x5162fc=>_0x5162fc['textContent']),await _0xb6b735[_0x2f3ba3]['evaluate'](_0x2120d7=>_0x2120d7['textContent'])],function(_0x3658c2){_0x3658c2?console['error']('Fehler\x20beim\x20Einfügen\x20in\x20die\x20Tabelle\x20\x27'+_0x13c998+'\x27:',_0x3658c2['message']):console['log']('Eintrag\x20erfolgreich\x20hinzugefügt:',this['lastID']);});}return _0x109347=Math['round'](++_0x2092c2/_0x29c372*0x64),_0x37fe3a['sender']['send']('fetch-progress',_0x109347,!![]),_0x2c585b&&(_0x37fe3a['sender']['send']('fetch-progress',0x0,!![],!![]),await fetch_details_from_list(_0x37fe3a,_0x4bd9da,_0x2be255,_0x13c998,_0x33aae4)),new Promise(_0x1ed637=>{_0x1ed637('Scraping\x20finished!');});}catch(_0x50c0a3){if(_0x2c585b)throw new Error(_0x50c0a3);else throw new Error('Fehler\x20bei\x20der\x20Followerliste\x20von\x20'+_0xab1365+'\x20nicht\x20gefunden:\x20'+_0x50c0a3);return handle_fail(0x0);}}async function fetch_details_from_list(_0x314717,_0x2bea9,_0x2f5063,_0x3b7e36,_0x33ccb7){let _0x2f1fdd=0x0,_0x19ca3d=0x0;for(let _0x1c3d51=0x0;_0x1c3d51<_0x33ccb7['length'];_0x1c3d51++){console['log']('Processing\x20profile:',_0x33ccb7[_0x1c3d51]);try{await fetch_account_details(_0x2bea9,_0x33ccb7[_0x1c3d51],_0x2f5063,_0x3b7e36);}catch(_0x52cbde){console['error']('Detailed\x20Scraping\x20von:\x20',_0x33ccb7[_0x1c3d51],_0x52cbde);throw new Error('Detailed\x20Scraping\x20von:\x20'+_0x33ccb7[_0x1c3d51]+'\x20'+_0x52cbde);}_0x19ca3d=Math['round'](++_0x2f1fdd/_0x33ccb7['length']*0x64),_0x314717['sender']['send']('fetch-progress',_0x19ca3d,!![],!![]);}}async function fetch_likers_from_post(_0xe8613e,_0x4a02ce,_0xd350e7,_0x1c2e9f,_0x272636,_0x392ae3,_0x3cc6a6){let _0x4fe5e4=0x4,_0x33e084=0x0,_0x441de1=0x0;try{await setCookiesForUser(_0x4a02ce,_0x392ae3['username']);}catch(_0x5ce7cf){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x5ce7cf);throw new Error('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x5ce7cf);return handle_fail(0x1);return;}_0x441de1=Math['round'](++_0x33e084/_0x4fe5e4*0x64),_0xe8613e['sender']['send']('fetch-progress',_0x441de1,!![]);try{let _0x3689e8=_0xd350e7['substring'](0x0,_0xd350e7['lastIndexOf']('/'));_0x3689e8['includes']('/reel/')&&(_0x3689e8=_0x3689e8['replace']('/reel/','/p/'));let _0xc61b0f=_0x3689e8+'/liked_by';console['log'](_0xc61b0f),await _0x4a02ce['goto'](_0xc61b0f),await delay(0x7d0,0xfa0),await notificationClear(_0x4a02ce),await delay(0xc8,0x1f4);try{await checkLoginStatus(_0x4a02ce);}catch(_0x3b3cb5){console['log']('Login-Status\x20nicht\x20ok:\x20'+_0x3b3cb5);throw new Error('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');}_0x441de1=Math['round'](++_0x33e084/_0x4fe5e4*0x64),_0xe8613e['sender']['send']('fetch-progress',_0x441de1,!![]),await _0x4a02ce['waitForSelector'](LIKERS_USERNAME_SPALTEN_ARRAY),await delay(0x1f4,0x320);const _0x55c92a=await _0x4a02ce['$$'](LIKERS_USERNAME_SPALTEN_ARRAY),_0x45f8df=await _0x4a02ce['$$'](LIKERS_CLEARNAME_SPALTEN_ARRAY);await delay(0x1f4,0x320),console['log'](_0x55c92a['length']);let _0x166bca=path['join'](__dirname,'/likers.csv');_0x441de1=Math['round'](++_0x33e084/_0x4fe5e4*0x64),_0xe8613e['sender']['send']('fetch-progress',_0x441de1,!![]);_0x1c2e9f<=0x0&&(_0x1c2e9f=_0x55c92a['length']);try{let _0x5021d9=[];for(let _0x5512d1=0x0;_0x5512d1<_0x55c92a['length']&&_0x5512d1<_0x1c2e9f;_0x5512d1++){_0x5021d9['push'](await _0x55c92a[_0x5512d1]['evaluate'](_0x28a314=>_0x28a314['textContent']));try{const _0x11dc2c='INSERT\x20INTO\x20'+_0x272636+'\x20(username,\x20clearname)\x20VALUES\x20(?,\x20?)';db['run'](_0x11dc2c,[await _0x55c92a[_0x5512d1]['evaluate'](_0x33e234=>_0x33e234['textContent']),await _0x45f8df[_0x5512d1]['evaluate'](_0x50fa8f=>_0x50fa8f['textContent'])],function(_0x24874d){_0x24874d?console['error']('Fehler\x20beim\x20Einfügen\x20in\x20die\x20Tabelle\x20\x27'+_0x272636+'\x27:',_0x24874d['message']):console['log']('Eintrag\x20erfolgreich\x20hinzugefügt:',this['lastID']);});}catch(_0x39696c){console['log']('Fehler\x20innerhalb\x20des\x20Fetchen\x20bei\x20i='+_0x5512d1+'\x20:\x20'+_0x39696c);throw new Error('Fehler\x20innerhalb\x20des\x20Fetchen\x20bei\x20i='+_0x5512d1+'\x20:\x20'+_0x39696c);return handle_fail(0x1);}}return _0x441de1=Math['round'](++_0x33e084/_0x4fe5e4*0x64),_0xe8613e['sender']['send']('fetch-progress',_0x441de1,!![]),_0x3cc6a6&&(_0xe8613e['sender']['send']('fetch-progress',0x0,!![],!![]),await fetch_details_from_list(_0xe8613e,_0x4a02ce,_0x392ae3,_0x272636,_0x5021d9)),new Promise(_0x555433=>{_0x555433('Scraping\x20finished!');});}catch(_0x285bc0){console['log']('Nicht\x20in\x20Likers\x20Datei\x20geschrieben');throw new Error(_0x285bc0);return handle_fail(0x1);}}catch(_0x38e4d3){console['log']('Like-Seite\x20nicht\x20geöffnet'+_0x38e4d3);throw new Error('Like-Seite\x20nicht\x20geöffnet:\x20'+_0x38e4d3);return handle_fail(0x1);}}async function fetch_comments_from_post(_0x9b22f7,_0x3f550f,_0x3e6fda,_0x589c77,_0x301c65,_0x59633b,_0x1d4686){let _0x242748=0x3,_0x43c59c=0x0,_0x45e595=0x0;try{await setCookiesForUser(_0x3f550f,_0x59633b['username']);}catch(_0x503ed7){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x503ed7);throw new Error('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:'+_0x503ed7);return handle_fail(0x2);}try{console['log'](_0x3e6fda),await _0x3f550f['goto'](_0x3e6fda),await delay(0x7d0,0xfa0),await notificationClear(_0x3f550f),await delay(0xc8,0x1f4);const _0x491fb7=COM_COMMENTS_BOX_BODY_DIV;try{await checkLoginStatus(_0x3f550f);}catch(_0x2d39f5){console['log']('Login-Status\x20nicht\x20ok:\x20'+_0x2d39f5);throw new Error('Nicht\x20eingeloggt,\x20bitte\x20neu\x20bei\x20Instagram\x20anmelden');}let _0x3941de;const _0x195629=await _0x3f550f['waitForSelector'](COM_ANZAHL_LIKERS_SPAN);await delay(0x12c,0x320);let _0x34fb31=await _0x3f550f['evaluate'](_0x1a463c=>_0x1a463c['innerHTML'],_0x195629),_0x156d2c=String(_0x34fb31)['replace'](/[^0-9]/g,''),_0x525091=Number(_0x156d2c)/0x14;_0x589c77<=0x0?_0x3941de=Math['ceil'](_0x525091/0x3):_0x3941de=Math['ceil'](_0x589c77/0x3);_0x242748+=_0x3941de,_0x45e595=Math['round'](++_0x43c59c/_0x242748*0x64),_0x9b22f7['sender']['send']('fetch-progress',_0x45e595,!![]),console['log']('Auto-scrolls:\x20'+_0x3941de),await scroll(_0x3f550f,_0x491fb7,_0x3941de,_0x488550=>{_0x45e595=Math['round'](++_0x43c59c/_0x242748*0x64),_0x9b22f7['sender']['send']('fetch-progress',_0x45e595,!![]);});try{const _0x2f436d=COM_REPLY_BUTTON_SPAN,_0x586c98=await waitForXPathAll(_0x3f550f,_0x2f436d);console['log']('Reply-Buttons\x20gefunden:\x20ANZAHL:\x20'+_0x586c98['size']),await delay(0x1f4,0x320);let _0x4f432d=_0x586c98['size'],_0x3673c4=[];for(const [_0x47a802,_0xde9143]of _0x586c98){_0x3673c4['push'](_0xde9143);}console['log']('Alle\x20Reply-Buttons:',_0x3673c4['length']);try{for(let _0x1dc2c5=0x0;_0x1dc2c5<_0x4f432d;_0x1dc2c5++){await _0x3673c4[_0x1dc2c5]['click'](),await delay(0x320,0x5dc);}}catch(_0x20bb65){console['log']('Nicht\x20auf\x20Replies\x20geklickt\x20'+_0x20bb65);throw new Error('Nicht\x20auf\x20Replies\x20geklickt:\x20'+_0x20bb65);return handle_fail(0x2);}}catch(_0x36006c){console['log']('Kein\x20Reply-Button\x20gefunden.\x20Überspringe\x20Schritt');}const _0x3291f4=COM_COMMENTS_USERNAME_ARRAY_SPAN;await _0x3f550f['waitForSelector'](_0x3291f4),await delay(0x1f4,0x320),_0x45e595=Math['round'](++_0x43c59c/_0x242748*0x64),_0x9b22f7['sender']['send']('fetch-progress',_0x45e595,!![]);const _0x140ab4=await _0x3f550f['$$'](_0x3291f4);let _0x110532=path['join'](__dirname,'/comments.csv');_0x589c77<=0x0&&(_0x589c77=_0x140ab4['length']);console['log']('fetch_limit:\x20'+_0x589c77),console['log']('comments_len:\x20'+_0x140ab4['length']),_0x589c77++;try{let _0x240255=[];for(let _0x52478d=0x1;_0x52478d<_0x140ab4['length']&&_0x52478d<_0x589c77;_0x52478d++){try{_0x240255['push'](await _0x140ab4[_0x52478d]['evaluate'](_0x8e6d96=>_0x8e6d96['textContent']));const _0x1f9c54=await db['prepare']('INSERT\x20INTO\x20'+_0x301c65+'\x20(username)\x20VALUES\x20(?)');await _0x1f9c54['run'](await _0x140ab4[_0x52478d]['evaluate'](_0x108378=>_0x108378['textContent']),function(_0x5bc452){_0x5bc452&&console['log']('error\x20in\x20add-user:'+_0x5bc452);}),await _0x1f9c54['finalize']();}catch(_0x20505c){console['log']('Fehler\x20innerhalb\x20des\x20Fetchen\x20bei\x20i='+_0x52478d+'\x20:\x20'+_0x20505c);throw new Error('Fehler\x20innerhalb\x20des\x20Fetchen\x20bei\x20i='+_0x52478d+'\x20:\x20'+_0x20505c);return handle_fail(0x2);}}return await delay(0x4b0,0x7d0),_0x45e595=Math['round'](++_0x43c59c/_0x242748*0x64),_0x9b22f7['sender']['send']('fetch-progress',_0x45e595,!![]),_0x9b22f7['sender']['send']('fetch-progress',0x64,!![]),_0x1d4686&&(_0x9b22f7['sender']['send']('fetch-progress',0x0,!![],!![]),await fetch_details_from_list(_0x9b22f7,_0x3f550f,_0x59633b,_0x301c65,_0x240255)),_0x9b22f7['sender']['send']('fetch-progress',0x64,![]),new Promise(_0x49b0fa=>{_0x49b0fa('Scraping\x20finished!');});}catch(_0x81fd8d){console['log']('Nicht\x20in\x20Comments\x20Datei\x20geschrieben');throw new Error(_0x81fd8d);return handle_fail(0x2);}}catch(_0x4c9f7a){console['log']('Comments-Seite\x20nicht\x20geöffnet'+_0x4c9f7a);throw new Error('Comments-Seite\x20nicht\x20geöffnet:\x20'+_0x4c9f7a);return handle_fail(0x2);}}async function set_clearname_from_username(_0x1a30f1,_0x113f08,_0x30c3ac=null){try{let _0x32355c,_0x5532d7;const _0x15d3ac='SELECT\x20username\x20FROM\x20'+_0x113f08+'\x20WHERE\x20clearname\x20IS\x20NULL';db['all'](_0x15d3ac,[],(_0x36e835,_0x48af77)=>{_0x36e835&&console['error']('Fehler\x20beim\x20Abrufen\x20der\x20Daten:',_0x36e835['message']),_0x48af77['length']===0x0&&(_0x5532d7=_0x48af77['length']),_0x32355c=_0x48af77['map'](_0x343299=>_0x343299['username']);}),await delay(0x4b0,0x7d0),console['log']('USERNAME:\x20'+_0x5532d7);if(_0x5532d7===0x0){console['log']('Leave');return;}const _0x4a6136=await _0x1a30f1['waitForSelector'](IG_SEARCH_BUTTON);await _0x4a6136['click'](),await delay(0x4b0,0x7d0);for(let _0x5f1667 of _0x32355c){const _0x59f74a=await _0x1a30f1['waitForSelector'](IG_SEARCH_INPUT);await _0x59f74a['click']({'clickCount':0x3}),await delay(0x320,0x3e8),await _0x1a30f1['type'](IG_SEARCH_INPUT,_0x5f1667,{'delay':getRnd(0x50,0x78)}),await delay(0x4b0,0x7d0);let _0x3373ce=0x1;while(_0x3373ce!=0x14){console['log']('Schleife');try{let _0x3fab4a=IG_NAME_SPAN_PART1+_0x3373ce+IG_USERNAME_SPAN_PART2;const _0x48ad37=await _0x1a30f1['waitForSelector'](_0x3fab4a),_0x393e99=await _0x1a30f1['evaluate'](_0x2b1184=>_0x2b1184['innerHTML'],_0x48ad37);await delay(0xc8,0x1f4);if(_0x393e99==_0x5f1667){let _0x3c8d8a=IG_NAME_SPAN_PART1+_0x3373ce+IG_CLEARNAME_SPAN_PART2;console['log']('Username\x20gefunden');const _0x44f966=await _0x1a30f1['waitForSelector'](_0x3c8d8a);let _0x17a41a=await _0x1a30f1['evaluate'](_0x174473=>_0x174473['innerHTML'],_0x44f966);const _0x5526a1=/^(.*?)(?:\s*•\s*)(\d+[,.]?\d*\s*(Tsd\.|Mio\.|Mrd\.)?\s*Follower)$/,_0x4a5157=_0x17a41a['match'](_0x5526a1);_0x4a5157?_0x17a41a=_0x4a5157[0x1]['trim']():_0x17a41a=_0x17a41a['trim']();_0x17a41a['includes']('•')&&(_0x17a41a=_0x17a41a['substring'](0x0,_0x17a41a['indexOf']('•')-0x1));const _0x2e129d='UPDATE\x20'+_0x113f08+'\x20SET\x20clearname\x20=\x20?\x20WHERE\x20username\x20=\x20?';db['run'](_0x2e129d,[_0x17a41a,_0x393e99],function(_0x3d06d){_0x3d06d&&console['error']('Fehler\x20beim\x20Aktualisieren\x20von\x20clearname:',_0x3d06d['message']),this['changes']===0x0&&console['log']('Kein\x20Eintrag\x20gefunden,\x20der\x20aktualisiert\x20werden\x20konnte.'),console['log']('Eintrag\x20erfolgreich\x20aktualisiert.');});break;}_0x3373ce++;}catch(_0x24c4e2){const _0x10a84b='UPDATE\x20'+_0x113f08+'\x20SET\x20clearname\x20=\x20?\x20WHERE\x20username\x20=\x20?';db['run'](_0x10a84b,['',_0x5f1667],function(_0xe19d1){_0xe19d1&&console['error']('Fehler\x20beim\x20Aktualisieren\x20von\x20clearname:',_0xe19d1['message']),this['changes']===0x0&&console['log']('Kein\x20Eintrag\x20gefunden,\x20der\x20aktualisiert\x20werden\x20konnte.'),console['log']('Eintrag\x20erfolgreich\x20aktualisiert.');}),console['log']('User\x20nicht\x20gefunden:'+_0x24c4e2);break;}}_0x30c3ac&&_0x30c3ac();}await _0x4a6136['click']();}catch(_0x4a6652){console['log']('Keine\x20Usernames\x20mit\x20NULL-Clearnames\x20gefunden.\x20Überspringen.'),console['log']('Info:\x20'+_0x4a6652);}}const campaignPath=path['join'](SqlDataDirectory,'/campaign.db'),campaignDB=new sqlite3['Database'](campaignPath);campaignDB['serialize'](()=>{campaignDB['run']('CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20message\x20(message_id\x20INTEGER\x20PRIMARY\x20KEY,\x20message_text\x20TEXT)'),campaignDB['run']('\x0a\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20campaign\x20(\x0a\x20\x20\x20\x20\x20\x20campaign_name\x20\x20\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20list_id\x20\x20\x20\x20\x20\x20\x20\x20\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20zeitabstand\x20\x20\x20\x20\x20REAL,\x0a\x20\x20\x20\x20\x20\x20message_id\x20\x20\x20\x20\x20\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20account\x20\x20\x20\x20\x20\x20\x20\x20\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20skipFollowing\x20\x20\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20skipChatted\x20\x20\x20\x20\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20FOREIGN\x20KEY(message_id)\x20REFERENCES\x20messages(message_id)\x0a\x20\x20\x20\x20)\x0a\x20\x20'),campaignDB['run']('ALTER\x20TABLE\x20campaign\x20ADD\x20COLUMN\x20skipFollowing\x20INTEGER\x20DEFAULT\x200',()=>{}),campaignDB['run']('ALTER\x20TABLE\x20campaign\x20ADD\x20COLUMN\x20skipChatted\x20INTEGER\x20DEFAULT\x200',()=>{}),campaignDB['run']('CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20dm\x20(dm_id\x20INTEGER\x20PRIMARY\x20KEY,\x20message_id\x20INTEGER,\x20account\x20TEXT,\x20username\x20TEXT,\x20list_id\x20TEXT,\x20date\x20TIMESTAMP\x20DEFAULT\x20CURRENT_TIMESTAMP,\x20FOREIGN\x20KEY\x20(message_id)\x20REFERENCES\x20messages\x20(message_id))');}),ipcMain['handle']('get-campaigns',async()=>{return new Promise((_0x1d4a85,_0x4e72c9)=>{const _0x10d474='SELECT\x20campaign_name\x20FROM\x20campaign';campaignDB['all'](_0x10d474,[],(_0x567ff3,_0x5a9651)=>{_0x567ff3?_0x4e72c9(_0x567ff3):_0x1d4a85(_0x5a9651);});});}),ipcMain['handle']('get-campaign-details',async()=>{return new Promise((_0x237e1f,_0x1f313c)=>{const _0x53c70a='SELECT\x20campaign_name,\x20list_id\x20FROM\x20campaign';campaignDB['all'](_0x53c70a,[],async(_0x22957e,_0x315dab)=>{if(_0x22957e)console['error']('Fehler\x20beim\x20Abrufen\x20der\x20Kampagnen:',_0x22957e['message']),_0x1f313c({'status':'error','message':_0x22957e['message']});else try{const _0x15d6f8=await Promise['all'](_0x315dab['map'](_0x3daff0=>{return new Promise(_0x536b11=>{if(!_0x3daff0['list_id']){console['warn']('Fehlende\x20list_id\x20für\x20Kampagne:\x20'+_0x3daff0['campaign_name']),_0x536b11({'campaign_name':_0x3daff0['campaign_name'],'lead_count':'N/A','contacted_count':'N/A'});return;}const _0x49f5e4='SELECT\x20COUNT(*)\x20as\x20lead_count\x20FROM\x20'+_0x3daff0['list_id'],_0x3676c0='SELECT\x20COUNT(*)\x20as\x20contacted_count\x20FROM\x20campaign\x20LEFT\x20JOIN\x20dm\x20ON\x20campaign.list_id\x20=\x20dm.list_id\x20WHERE\x20dm.list_id\x20=\x20\x22'+_0x3daff0['list_id']+'\x22';db['get'](_0x49f5e4,[],(_0x1cc1c8,_0x2305a2)=>{_0x1cc1c8?(console['error']('Fehler\x20beim\x20Abrufen\x20der\x20Leads\x20für\x20'+_0x3daff0['campaign_name']+':',_0x1cc1c8['message']),_0x536b11({'campaign_name':_0x3daff0['campaign_name'],'lead_count':'N/A','contacted_count':'N/A'})):campaignDB['get'](_0x3676c0,[],(_0x271468,_0xe55558)=>{_0x271468?(console['error']('Fehler\x20beim\x20Abrufen\x20der\x20kontaktierten\x20Nutzer\x20für\x20'+_0x3daff0['campaign_name']+':',_0x271468['message']),_0x536b11({'campaign_name':_0x3daff0['campaign_name'],'lead_count':_0x2305a2?_0x2305a2['lead_count']:0x0,'contacted_count':'N/A'})):_0x536b11({'campaign_name':_0x3daff0['campaign_name'],'lead_count':_0x2305a2?_0x2305a2['lead_count']:0x0,'contacted_count':_0xe55558?_0xe55558['contacted_count']:0x0});});});});}));_0x237e1f({'status':'success','campaigns':_0x15d6f8});}catch(_0x24dac8){console['error']('Fehler\x20bei\x20der\x20Verarbeitung\x20der\x20Kampagnendetails:',_0x24dac8),_0x1f313c({'status':'error','message':_0x24dac8['message']});}});});}),ipcMain['handle']('get-campaign-writer-information',async(_0x2319b4,_0x52624e)=>{return new Promise((_0x3c131a,_0xc9234b)=>{const _0x151a3b='SELECT\x20campaign.list_id,\x20message.message_text,\x20message.message_id,\x20campaign.zeitabstand,\x20campaign.account,\x20skipFollowing,\x20skipChatted\x20FROM\x20campaign\x20LEFT\x20JOIN\x20message\x20ON\x20campaign.message_id\x20=\x20message.message_id\x20WHERE\x20campaign.campaign_name\x20=\x20?;';campaignDB['all'](_0x151a3b,[_0x52624e],(_0x21bd89,_0x58ba60)=>{_0x21bd89?(console['error']('Fehler\x20beim\x20Abrufen\x20der\x20Kampagnendetails:',_0x21bd89),_0xc9234b(_0x21bd89)):(console['log']('ROWS'),console['log'](_0x58ba60),debugDatabaseContents(),_0x3c131a(_0x58ba60));});});});const showTableContents=_0x2c5871=>{return new Promise((_0x57ed1e,_0x36eee3)=>{const _0x315dfd='SELECT\x20*\x20FROM\x20'+_0x2c5871+';';campaignDB['all'](_0x315dfd,(_0x293333,_0x1976ad)=>{_0x293333?(console['error']('Fehler\x20beim\x20Abrufen\x20der\x20Daten\x20aus\x20'+_0x2c5871+':',_0x293333),_0x36eee3(_0x293333)):(console['log']('Inhalt\x20der\x20Tabelle\x20'+_0x2c5871+':',_0x1976ad),_0x57ed1e({'status':'success','message':_0x1976ad}));});});};async function debugDatabaseContents(){try{console['log']('Inhalt\x20der\x20Tabelle\x20\x27campaign\x27:'),await showTableContents('campaign'),console['log']('Inhalt\x20der\x20Tabelle\x20\x27message\x27:'),await showTableContents('message'),console['log']('Inhalt\x20der\x20Tabelle\x20\x27dm\x27:'),await showTableContents('dm');}catch(_0x5d8f50){console['error']('Fehler\x20beim\x20Debuggen\x20der\x20Tabelleninhalte:',_0x5d8f50);}}ipcMain['handle']('create-campaign',async(_0x45e531,_0x5ee676)=>{return new Promise((_0x392d8e,_0x16aaa1)=>{const _0x5504e7='INSERT\x20INTO\x20campaign\x20(campaign_name)\x20VALUES\x20(?)';campaignDB['run'](_0x5504e7,[String(_0x5ee676)],function(_0x453b08){_0x453b08?_0x16aaa1(_0x453b08):_0x392d8e({'status':'success','message':'Campaign\x20created\x20successfully'});});});}),ipcMain['handle']('delete-campaign',async(_0x2ff4d9,_0x5e6816)=>{return new Promise((_0x4f3333,_0x47391e)=>{const _0x2f614b='DELETE\x20FROM\x20campaign\x20WHERE\x20campaign_name\x20=\x20?';campaignDB['run'](_0x2f614b,[_0x5e6816],function(_0x5d6d3d){_0x5d6d3d?_0x47391e(_0x5d6d3d):_0x4f3333({'status':'success','message':'Campaign\x20deleted\x20successfully'});});});}),ipcMain['handle']('update-campaign',async(_0x280838,_0x1f49a5,_0x347d9d,_0xbec1f5,_0x3893ac,_0x37b7a7,_0x560e1b,_0x58caa8)=>{const _0x47d7de=await createMessageID(_0x3893ac);return new Promise((_0x2530db,_0x4c10ac)=>{console['log']('ZEITABSTAND:\x20'+_0xbec1f5);if(!_0x1f49a5||!_0x347d9d||_0xbec1f5===undefined||_0xbec1f5===null||_0xbec1f5===''||!_0x47d7de||!_0x37b7a7)return _0x4c10ac({'status':'error','message':'Fehlende\x20Eingabe,\x20bitte\x20prüfen!'});console['log']('Message-ID:\x20'+_0x47d7de);const _0x2848a1='\x0a\x20\x20\x20\x20\x20\x20UPDATE\x20campaign\x20\x0a\x20\x20\x20\x20\x20\x20SET\x20list_id\x20=\x20?,\x20zeitabstand\x20=\x20?,\x20message_id\x20=\x20?,\x20account\x20=\x20?,\x20skipFollowing\x20=\x20?,\x20skipChatted\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20WHERE\x20campaign_name\x20=\x20?\x0a\x20\x20\x20\x20';campaignDB['run'](_0x2848a1,[_0x347d9d,_0xbec1f5,_0x47d7de,_0x37b7a7,_0x560e1b,_0x58caa8,_0x1f49a5],function(_0x378966){if(_0x378966)_0x4c10ac({'status':'error','message':_0x378966['message']});else this['changes']===0x0?_0x4c10ac({'status':'error','message':'Kein\x20Eintrag\x20gefunden,\x20der\x20aktualisiert\x20werden\x20kann.'}):_0x2530db({'status':'success','message':'Kampagne\x20erfolgreich\x20aktualisiert!'});});});}),ipcMain['handle']('update-dm',(_0x391a9b,_0x1912c6,_0x5ecaf2,_0x2c9537,_0x1a761a)=>{return new Promise((_0x130fe6,_0x46b136)=>{const _0x1cbf11='INSERT\x20INTO\x20dm\x20(message_id,\x20account,\x20username,\x20list_id)\x20VALUES\x20(?,\x20?,\x20?,\x20?)';campaignDB['run'](_0x1cbf11,[_0x1912c6,_0x5ecaf2,_0x2c9537,_0x1a761a],function(_0x5dc56e){return _0x5dc56e?(console['error']('Fehler\x20beim\x20Einfügen\x20in\x20die\x20Tabelle\x20\x27dm\x27:',_0x5dc56e['message']),_0x46b136('insert-dm-response',{'success':![],'message':_0x5dc56e['message']})):(console['log']('Eintrag\x20erfolgreich\x20hinzugefügt:',this['lastID']),_0x130fe6('insert-dm-response',{'success':!![],'message':'Eintrag\x20erfolgreich\x20hinzugefügt'}));});});});const createMessageID=_0x35608d=>{return new Promise((_0x340c6a,_0x17cbfb)=>{const _0x2869ab='SELECT\x20message_id\x20FROM\x20message\x20WHERE\x20message_text\x20=\x20?';campaignDB['get'](_0x2869ab,[_0x35608d],(_0x149018,_0x406cec)=>{if(_0x149018)_0x17cbfb({'status':'error','message':_0x149018['message']});else{if(_0x406cec)_0x340c6a(_0x406cec['message_id']);else{const _0x32ca9f='INSERT\x20INTO\x20message\x20(message_text)\x20VALUES\x20(?)';campaignDB['run'](_0x32ca9f,[_0x35608d],function(_0xee009c){_0xee009c?_0x17cbfb({'status':'error','message':_0xee009c['message']}):_0x340c6a(this['lastID']);});}}});});};ipcMain['handle']('get-lead_count',async(_0x50b126,_0x5bec7a)=>{return new Promise((_0x13ccbf,_0x2374dc)=>{const _0x2a923c='SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20'+_0x5bec7a;db['get'](_0x2a923c,(_0x228bf8,_0x55813b)=>{_0x228bf8?_0x2374dc({'status':'error','message':_0x228bf8['message']}):_0x13ccbf({'status':'success','count':_0x55813b['count']});});});});const dbPath=path['join'](SqlDataDirectory,'/crm.db'),db=new sqlite3['Database'](dbPath);db['serialize'](()=>{db['run']('CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20leads\x20(username\x20TEXT\x20PRIMARY\x20KEY,\x20clearname\x20TEXT,\x20ProfilePic\x20TEXT,\x20Bio\x20TEXT,\x20Follower_Count\x20Integer,\x20Following_Count\x20Integer,\x20Post_Count\x20Integer,\x20Isverified\x20Boolean,\x20Isprivat\x20Boolean,\x20IsBusiness\x20Boolean)');});const igaccountsPath=path['join'](SqlDataDirectory,'/igaccounts.db');console['log']('igaccountsPath:\x20'+igaccountsPath);const igaccountsDB=new sqlite3['Database'](igaccountsPath);igaccountsDB['serialize'](()=>{igaccountsDB['run']('CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20accounts\x20(username\x20TEXT\x20PRIMARY\x20KEY,\x20cookie\x20TEXT)');});async function setCookiesForUser(_0x56e735,_0x46bcc9){try{const _0xc20dde=await new Promise((_0x48b76b,_0x38a78b)=>{igaccountsDB['all']('SELECT\x20cookie\x20FROM\x20accounts\x20WHERE\x20username=?',[_0x46bcc9],(_0x27195b,_0x2dc337)=>{if(_0x27195b)_0x38a78b(_0x27195b);else{if(_0x2dc337['length']>0x0){let _0x1a47c8=JSON['parse'](_0x2dc337[0x0]['cookie']);console['log'](_0x1a47c8),_0x48b76b(_0x1a47c8);}else _0x38a78b(new Error('User\x20with\x20username\x20'+_0x46bcc9+'\x20does\x20not\x20exist.'));}});});await _0x56e735['setCookie'](..._0xc20dde),console['log']('Cookies\x20were\x20successfully\x20added.');}catch(_0x2156bb){console['log']('Cookies\x20konnten\x20nicht\x20hinzugefügt\x20werden:\x20'+_0x2156bb);}}async function saveCookiesForUser(_0x24dbbc,_0x541ee8){try{const _0x3ea25e=await _0x24dbbc['cookies']();if(!_0x3ea25e||_0x3ea25e['length']===0x0)throw new Error('Keine\x20gültigen\x20Cookies\x20gefunden\x20für\x20'+_0x541ee8);const _0x1bd075=JSON['stringify'](_0x3ea25e);if(_0x1bd075['trim']()==='[]')throw new Error('Cookies\x20sind\x20leer\x20für\x20'+_0x541ee8);return new Promise((_0xeec3a6,_0x12b915)=>{igaccountsDB['get']('SELECT\x20username\x20FROM\x20accounts\x20WHERE\x20username\x20=\x20?',[_0x541ee8],(_0x121159,_0x37c383)=>{if(_0x121159)return console['error']('Error\x20checking\x20user\x20existence:',_0x121159),_0x12b915(_0x121159);if(_0x37c383){const _0x13e493=igaccountsDB['prepare']('UPDATE\x20accounts\x20SET\x20cookie\x20=\x20?\x20WHERE\x20username\x20=\x20?');_0x13e493['run'](_0x1bd075,_0x541ee8,function(_0xd7dd6f){return _0xd7dd6f?(console['error']('Error\x20updating\x20cookies:',_0xd7dd6f),_0x12b915(_0xd7dd6f)):(console['log']('Cookies\x20updated\x20for\x20user:',_0x541ee8),_0xeec3a6());});}else{const _0x10bf9f=igaccountsDB['prepare']('INSERT\x20INTO\x20accounts\x20(username,\x20cookie)\x20VALUES\x20(?,\x20?)');_0x10bf9f['run'](_0x541ee8,_0x1bd075,function(_0x2811c4){return _0x2811c4?(console['error']('Error\x20inserting\x20new\x20user\x20and\x20cookies:',_0x2811c4),_0x12b915(_0x2811c4)):(console['log']('New\x20user\x20created\x20and\x20cookies\x20saved\x20for\x20user:',_0x541ee8),_0xeec3a6());});}});});}catch(_0x1cdc2c){console['error']('Error\x20fetching\x20cookies:',_0x1cdc2c);throw _0x1cdc2c;}}async function createUserIfNotExists(_0x30fb9b){try{igaccountsDB['get']('SELECT\x20username\x20FROM\x20accounts\x20WHERE\x20username\x20=\x20?',[_0x30fb9b],(_0x22fc32,_0x1adff5)=>{if(_0x22fc32){console['error']('Error\x20checking\x20user\x20existence:',_0x22fc32);throw _0x22fc32;}else{if(!_0x1adff5){const _0x4d15fd=igaccountsDB['prepare']('INSERT\x20INTO\x20accounts\x20(username)\x20VALUES\x20(?)');_0x4d15fd['run'](_0x30fb9b,function(_0x163b8e){_0x163b8e?console['error']('Error\x20inserting\x20new\x20user:',_0x163b8e):console['log']('New\x20user\x20created:',_0x30fb9b);});}else console['log']('User\x20already\x20exists:',_0x30fb9b);}});}catch(_0x46c63b){console['error']('Error\x20creating\x20user:',_0x46c63b);throw _0x46c63b;}}ipcMain['handle']('create-relation',async(_0x3b3c65,_0x328016)=>{return new Promise((_0x54cbfc,_0x4565ff)=>{const _0x512c9e='CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20'+_0x328016+'\x20(username\x20TEXT\x20PRIMARY\x20KEY,\x20clearname\x20TEXT,\x20ProfilePic\x20TEXT,\x20Bio\x20TEXT,\x20Follower_Count\x20Integer,\x20Following_Count\x20Integer,\x20Post_Count\x20Integer,\x20Isverified\x20Boolean,\x20Isprivat\x20Boolean,\x20IsBusiness\x20Boolean)';db['run'](_0x512c9e,function(_0x391b95){_0x391b95?_0x4565ff(_0x391b95):_0x54cbfc({'status':'success'});});});}),ipcMain['handle']('delete-relation',async(_0x20a459,_0x2facff)=>{return console['log']('droping\x20table'+_0x2facff),new Promise((_0x296975,_0x2c9053)=>{const _0x1a530e='DROP\x20TABLE\x20IF\x20EXISTS\x20'+_0x2facff;console['log']('droping\x20table'+_0x2facff),db['run'](_0x1a530e,function(_0x48075c){_0x48075c?_0x2c9053(_0x48075c):_0x296975({'status':'success'});});});}),ipcMain['handle']('get-relations',async _0x41f1a9=>{return new Promise((_0x5d79e1,_0x2967a4)=>{const _0x3a1fa1='SELECT\x20name\x20FROM\x20sqlite_master\x20WHERE\x20type=\x27table\x27';db['all'](_0x3a1fa1,[],(_0x9b857,_0x37a21e)=>{_0x9b857?_0x2967a4(_0x9b857):_0x5d79e1(_0x37a21e['map'](_0x33e66b=>_0x33e66b['name']));});});}),ipcMain['handle']('add-user',async(_0x50333d,_0x2905d5,_0x2a3924)=>{return new Promise(_0x2b4dcd=>{const _0x28179a=db['prepare']('INSERT\x20INTO\x20'+_0x2a3924+'\x20(username)\x20VALUES\x20(?)');_0x28179a['run'](_0x2905d5,function(_0x59edd5){_0x59edd5?console['log']('error\x20in\x20add-user:'+_0x59edd5):_0x2b4dcd({'status':'success','id':this['lastID']});}),_0x28179a['finalize']();});}),ipcMain['handle']('get-users',async()=>{return new Promise((_0xf3b015,_0x118b21)=>{db['all']('SELECT\x20*\x20FROM\x20leads',(_0x16e8d2,_0xb850cb)=>{if(_0x16e8d2)_0x118b21(_0x16e8d2);else{_0xf3b015({'status':'success','users':_0xb850cb});for(_0xb850cb of _0xb850cb){console['log'](_0xb850cb['username']);}}});});}),ipcMain['handle']('get-data',async(_0x380ceb,_0x22ebfd)=>{return new Promise((_0x3a7f0e,_0x4fcd3b)=>{const _0x403fc2='SELECT\x20*\x20FROM\x20'+_0x22ebfd;console['log'](_0x403fc2),db['all'](_0x403fc2,[],(_0x107b33,_0x5b2241)=>{_0x107b33?_0x4fcd3b(_0x107b33):_0x3a7f0e(_0x5b2241);});});}),ipcMain['handle']('get-accounts',async _0x5d9c11=>{return new Promise((_0xc12521,_0x1c9d64)=>{const _0x54e326='SELECT\x20*\x20FROM\x20accounts';console['log'](_0x54e326),igaccountsDB['all'](_0x54e326,[],(_0x131705,_0x18c5e8)=>{_0x131705?_0x1c9d64(_0x131705):_0xc12521(_0x18c5e8);});});}),ipcMain['handle']('get-targets',async(_0x3a5ecc,_0x1575a)=>{return getTargetProfiles(_0x1575a);}),ipcMain['handle']('delete-user',async(_0x1f9338,_0x59fe6a,_0x487d71)=>{return new Promise((_0xb4fca5,_0x55c98d)=>{const _0x29a388=db['prepare']('DELETE\x20FROM\x20'+_0x487d71+'\x20WHERE\x20username\x20=\x20?');_0x29a388['run'](_0x59fe6a,function(_0x2c3ba3){_0x2c3ba3?_0x55c98d(_0x2c3ba3):_0xb4fca5({'status':'success','changes':this['changes']});}),_0x29a388['finalize']();});}),ipcMain['handle']('delete-account',async(_0x327c17,_0x28427e)=>{const _0x589bdd=igaccountsDB['prepare']('DELETE\x20FROM\x20accounts\x20WHERE\x20username\x20=\x20?');_0x589bdd['run'](_0x28427e,function(_0x892017){_0x892017&&console['log'](_0x892017);}),_0x589bdd['finalize']();}),ipcMain['handle']('get-contacted-count-this-month',async()=>{return new Promise((_0x306e02,_0x4b0898)=>{const _0x3b235b='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20COUNT(*)\x20as\x20contactedCount\x0a\x20\x20\x20\x20\x20\x20FROM\x20dm\x0a\x20\x20\x20\x20\x20\x20WHERE\x20strftime(\x27%Y-%m\x27,\x20date)\x20=\x20strftime(\x27%Y-%m\x27,\x20\x27now\x27)\x0a\x20\x20\x20\x20';campaignDB['get'](_0x3b235b,[],(_0xfeaf9,_0x221cf4)=>{_0xfeaf9?_0x4b0898({'status':'error','message':_0xfeaf9['message']}):_0x306e02({'status':'success','contactedCount':_0x221cf4['contactedCount']});});});}),ipcMain['handle']('get-contacted-count-today',async()=>{return new Promise((_0xeb5ea6,_0x52ae64)=>{const _0x4db33e='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20COUNT(*)\x20as\x20contactedCount\x0a\x20\x20\x20\x20\x20\x20FROM\x20dm\x0a\x20\x20\x20\x20\x20\x20WHERE\x20date(date)\x20=\x20date(\x27now\x27)\x0a\x20\x20\x20\x20';campaignDB['get'](_0x4db33e,[],(_0x261b5f,_0x5cc971)=>{_0x261b5f?_0x52ae64({'status':'error','message':_0x261b5f['message']}):_0xeb5ea6({'status':'success','contactedCount':_0x5cc971['contactedCount']});});});});function exportDatabase(_0x517d8e){return new Promise((_0x5348c7,_0x3f813b)=>{const _0x33894a='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20username,\x20Follower_Count,\x20Following_Count,\x20Post_Count,\x20clearname,\x20Bio\x0a\x20\x20\x20\x20\x20\x20FROM\x20'+_0x517d8e+'\x0a\x20\x20\x20\x20';db['all'](_0x33894a,[],async(_0x2fee99,_0x2fb45e)=>{if(_0x2fee99){console['error']('Fehler\x20bei\x20der\x20Abfrage:',_0x2fee99['message']),_0x3f813b(_0x2fee99);return;}if(!_0x2fb45e||_0x2fb45e['length']===0x0){console['log']('Keine\x20Daten\x20gefunden.'),_0x5348c7();return;}const _0x267636=XLSX['utils']['json_to_sheet'](_0x2fb45e),_0x28f862=XLSX['utils']['sheet_to_csv'](_0x267636);try{const {canceled:_0x49e99e,filePath:_0x16e88e}=await dialog['showSaveDialog']({'title':'CSV-Datei\x20exportieren','defaultPath':path['join'](app['getPath']('documents'),_0x517d8e+'.csv'),'buttonLabel':'Speichern','filters':[{'name':'CSV\x20Files','extensions':['csv']},{'name':'All\x20Files','extensions':['*']}]});if(_0x49e99e||!_0x16e88e){console['log']('Speichern\x20abgebrochen.'),_0x5348c7();return;}fs['writeFile'](_0x16e88e,_0x28f862,'utf8',_0x902efe=>{_0x902efe?(console['error']('Fehler\x20beim\x20Schreiben\x20der\x20Datei:',_0x902efe['message']),_0x3f813b(_0x902efe)):(console['log']('CSV-Datei\x20erfolgreich\x20exportiert:',_0x16e88e),_0x5348c7());});}catch(_0x3d987c){console['error']('Fehler\x20im\x20Speicherdialog:',_0x3d987c),_0x3f813b(_0x3d987c);}});});}ipcMain['handle']('start-stripe-checkout',async(_0x59ed46,_0x126f35)=>{shell['openExternal'](_0x126f35);});